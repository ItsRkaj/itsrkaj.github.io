(self["webpackChunkportfolio"]=self["webpackChunkportfolio"]||[]).push([[998],{9662:(e,t,n)=>{var r=n(7854),i=n(614),a=n(6330),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a function")}},9483:(e,t,n)=>{var r=n(7854),i=n(4411),a=n(6330),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a constructor")}},6077:(e,t,n)=>{var r=n(7854),i=n(614),a=r.String,o=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},1223:(e,t,n)=>{var r=n(5112),i=n(30),a=n(3070),o=r("unscopables"),u=Array.prototype;void 0==u[o]&&a.f(u,o,{configurable:!0,value:i(null)}),e.exports=function(e){u[o][e]=!0}},1530:(e,t,n)=>{"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:(e,t,n)=>{var r=n(7854),i=n(7976),a=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw a("Incorrect invocation")}},9670:(e,t,n)=>{var r=n(7854),i=n(111),a=r.String,o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not an object")}},4019:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:(e,t,n)=>{var r=n(7293);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},260:(e,t,n)=>{"use strict";var r,i,a,o=n(4019),u=n(9781),s=n(7854),c=n(614),l=n(111),f=n(2597),h=n(648),d=n(6330),v=n(8880),p=n(1320),y=n(3070).f,g=n(7976),m=n(9518),w=n(7674),k=n(5112),b=n(9711),x=s.Int8Array,_=x&&x.prototype,E=s.Uint8ClampedArray,I=E&&E.prototype,S=x&&m(x),T=_&&m(_),A=Object.prototype,R=s.TypeError,C=k("toStringTag"),Z=b("TYPED_ARRAY_TAG"),D=b("TYPED_ARRAY_CONSTRUCTOR"),O=o&&!!w&&"Opera"!==h(s.opera),N=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},P=function(e){if(!l(e))return!1;var t=h(e);return"DataView"===t||f(M,t)||f(L,t)},F=function(e){if(!l(e))return!1;var t=h(e);return f(M,t)||f(L,t)},V=function(e){if(F(e))return e;throw R("Target is not a typed array")},j=function(e){if(c(e)&&(!w||g(S,e)))return e;throw R(d(e)+" is not a typed array constructor")},U=function(e,t,n,r){if(u){if(n)for(var i in M){var a=s[i];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}T[e]&&!n||p(T,e,n?t:O&&_[e]||t,r)}},B=function(e,t,n){var r,i;if(u){if(w){if(n)for(r in M)if(i=s[r],i&&f(i,e))try{delete i[e]}catch(a){}if(S[e]&&!n)return;try{return p(S,e,n?t:O&&S[e]||t)}catch(a){}}for(r in M)i=s[r],!i||i[e]&&!n||p(i,e,t)}};for(r in M)i=s[r],a=i&&i.prototype,a?v(a,D,i):O=!1;for(r in L)i=s[r],a=i&&i.prototype,a&&v(a,D,i);if((!O||!c(S)||S===Function.prototype)&&(S=function(){throw R("Incorrect invocation")},O))for(r in M)s[r]&&w(s[r],S);if((!O||!T||T===A)&&(T=S.prototype,O))for(r in M)s[r]&&w(s[r].prototype,T);if(O&&m(I)!==T&&w(I,T),u&&!f(T,C))for(r in N=!0,y(T,C,{get:function(){return l(this)?this[Z]:void 0}}),M)s[r]&&v(s[r],Z,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_CONSTRUCTOR:D,TYPED_ARRAY_TAG:N&&Z,aTypedArray:V,aTypedArrayConstructor:j,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:B,isView:P,isTypedArray:F,TypedArray:S,TypedArrayPrototype:T}},3331:(e,t,n)=>{"use strict";var r=n(7854),i=n(1702),a=n(9781),o=n(4019),u=n(6530),s=n(8880),c=n(2248),l=n(7293),f=n(5787),h=n(9303),d=n(7466),v=n(7067),p=n(1179),y=n(9518),g=n(7674),m=n(8006).f,w=n(3070).f,k=n(1285),b=n(1589),x=n(8003),_=n(9909),E=u.PROPER,I=u.CONFIGURABLE,S=_.get,T=_.set,A="ArrayBuffer",R="DataView",C="prototype",Z="Wrong length",D="Wrong index",O=r[A],N=O,M=N&&N[C],L=r[R],P=L&&L[C],F=Object.prototype,V=r.Array,j=r.RangeError,U=i(k),B=i([].reverse),q=p.pack,G=p.unpack,K=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},H=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Q=function(e){return q(e,23,4)},Y=function(e){return q(e,52,8)},$=function(e,t){w(e[C],t,{get:function(){return S(this)[t]}})},J=function(e,t,n,r){var i=v(n),a=S(e);if(i+t>a.byteLength)throw j(D);var o=S(a.buffer).bytes,u=i+a.byteOffset,s=b(o,u,u+t);return r?s:B(s)},X=function(e,t,n,r,i,a){var o=v(n),u=S(e);if(o+t>u.byteLength)throw j(D);for(var s=S(u.buffer).bytes,c=o+u.byteOffset,l=r(+i),f=0;f<t;f++)s[c+f]=l[a?f:t-f-1]};if(o){var ee=E&&O.name!==A;if(l((function(){O(1)}))&&l((function(){new O(-1)}))&&!l((function(){return new O,new O(1.5),new O(NaN),ee&&!I})))ee&&I&&s(O,"name",A);else{N=function(e){return f(this,M),new O(v(e))},N[C]=M;for(var te,ne=m(O),re=0;ne.length>re;)(te=ne[re++])in N||s(N,te,O[te]);M.constructor=N}g&&y(P)!==F&&g(P,F);var ie=new L(new N(2)),ae=i(P.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||c(P,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else N=function(e){f(this,M);var t=v(e);T(this,{bytes:U(V(t),0),byteLength:t}),a||(this.byteLength=t)},M=N[C],L=function(e,t,n){f(this,P),f(e,M);var r=S(e).byteLength,i=h(t);if(i<0||i>r)throw j("Wrong offset");if(n=void 0===n?r-i:d(n),i+n>r)throw j(Z);T(this,{buffer:e,byteLength:n,byteOffset:i}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},P=L[C],a&&($(N,"byteLength"),$(L,"buffer"),$(L,"byteLength"),$(L,"byteOffset")),c(P,{getInt8:function(e){return J(this,1,e)[0]<<24>>24},getUint8:function(e){return J(this,1,e)[0]},getInt16:function(e){var t=J(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=J(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return H(J(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return H(J(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return G(J(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return G(J(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,K,t)},setUint8:function(e,t){X(this,1,e,K,t)},setInt16:function(e,t){X(this,2,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,z,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,Q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,Y,t,arguments.length>2?arguments[2]:void 0)}});x(N,A),x(L,R),e.exports={ArrayBuffer:N,DataView:L}},1048:(e,t,n)=>{"use strict";var r=n(7908),i=n(1400),a=n(6244),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=a(n),s=i(e,u),c=i(t,u),l=arguments.length>2?arguments[2]:void 0,f=o((void 0===l?u:i(l,u))-c,u-s),h=1;c<s&&s<c+f&&(h=-1,c+=f-1,s+=f-1);while(f-- >0)c in n?n[s]=n[c]:delete n[s],s+=h,c+=h;return n}},1285:(e,t,n)=>{"use strict";var r=n(7908),i=n(1400),a=n(6244);e.exports=function(e){var t=r(this),n=a(t),o=arguments.length,u=i(o>1?arguments[1]:void 0,n),s=o>2?arguments[2]:void 0,c=void 0===s?n:i(s,n);while(c>u)t[u++]=e;return t}},8533:(e,t,n)=>{"use strict";var r=n(2092).forEach,i=n(9341),a=i("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},7745:(e,t,n)=>{var r=n(6244);e.exports=function(e,t){var n=0,i=r(t),a=new e(i);while(i>n)a[n]=t[n++];return a}},8457:(e,t,n)=>{"use strict";var r=n(7854),i=n(9974),a=n(6916),o=n(7908),u=n(3411),s=n(7659),c=n(4411),l=n(6244),f=n(6135),h=n(8554),d=n(1246),v=r.Array;e.exports=function(e){var t=o(e),n=c(this),r=arguments.length,p=r>1?arguments[1]:void 0,y=void 0!==p;y&&(p=i(p,r>2?arguments[2]:void 0));var g,m,w,k,b,x,_=d(t),E=0;if(!_||this==v&&s(_))for(g=l(t),m=n?new this(g):v(g);g>E;E++)x=y?p(t[E],E):t[E],f(m,E,x);else for(k=h(t,_),b=k.next,m=n?new this:[];!(w=a(b,k)).done;E++)x=y?u(k,p,[w.value,E],!0):w.value,f(m,E,x);return m.length=E,m}},1318:(e,t,n)=>{var r=n(5656),i=n(1400),a=n(6244),o=function(e){return function(t,n,o){var u,s=r(t),c=a(s),l=i(o,c);if(e&&n!=n){while(c>l)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2092:(e,t,n)=>{var r=n(9974),i=n(1702),a=n(8361),o=n(7908),u=n(6244),s=n(5417),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,f=6==e,h=7==e,d=5==e||f;return function(v,p,y,g){for(var m,w,k=o(v),b=a(k),x=r(p,y),_=u(b),E=0,I=g||s,S=t?I(v,_):n||h?I(v,0):void 0;_>E;E++)if((d||E in b)&&(m=b[E],w=x(m,E,k),e))if(t)S[E]=w;else if(w)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:c(S,m)}else switch(e){case 4:return!1;case 7:c(S,m)}return f?-1:i||l?l:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:(e,t,n)=>{"use strict";var r=n(2104),i=n(5656),a=n(9303),o=n(6244),u=n(9341),s=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=u("lastIndexOf"),h=l||!f;e.exports=h?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t),u=n-1;for(arguments.length>1&&(u=s(u,a(arguments[1]))),u<0&&(u=n+u);u>=0;u--)if(u in t&&t[u]===e)return u||0;return-1}:c},1194:(e,t,n)=>{var r=n(7293),i=n(5112),a=n(7392),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},3671:(e,t,n)=>{var r=n(7854),i=n(9662),a=n(7908),o=n(8361),u=n(6244),s=r.TypeError,c=function(e){return function(t,n,r,c){i(n);var l=a(t),f=o(l),h=u(l),d=e?h-1:0,v=e?-1:1;if(r<2)while(1){if(d in f){c=f[d],d+=v;break}if(d+=v,e?d<0:h<=d)throw s("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=v)d in f&&(c=n(c,f[d],d,l));return c}};e.exports={left:c(!1),right:c(!0)}},1589:(e,t,n)=>{var r=n(7854),i=n(1400),a=n(6244),o=n(6135),u=r.Array,s=Math.max;e.exports=function(e,t,n){for(var r=a(e),c=i(t,r),l=i(void 0===n?r:n,r),f=u(s(l-c,0)),h=0;c<l;c++,h++)o(f,h,e[c]);return f.length=h,f}},206:(e,t,n)=>{var r=n(1702);e.exports=r([].slice)},4362:(e,t,n)=>{var r=n(1589),i=Math.floor,a=function(e,t){var n=e.length,s=i(n/2);return n<8?o(e,t):u(e,a(r(e,0,s),t),a(r(e,s),t),t)},o=function(e,t){var n,r,i=e.length,a=1;while(a<i){r=a,n=e[a];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},u=function(e,t,n,r){var i=t.length,a=n.length,o=0,u=0;while(o<i||u<a)e[o+u]=o<i&&u<a?r(t[o],n[u])<=0?t[o++]:n[u++]:o<i?t[o++]:n[u++];return e};e.exports=a},7475:(e,t,n)=>{var r=n(7854),i=n(3157),a=n(4411),o=n(111),u=n(5112),s=u("species"),c=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,a(t)&&(t===c||i(t.prototype))?t=void 0:o(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?c:t}},5417:(e,t,n)=>{var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},4170:e=>{for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[t.charAt(r)]=r;e.exports={itoc:t,ctoi:n}},3411:(e,t,n)=>{var r=n(9670),i=n(9212);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},7072:(e,t,n)=>{var r=n(5112),i=r("iterator"),a=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){a=!0}};u[i]=function(){return this},Array.from(u,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(s){}return n}},4326:(e,t,n)=>{var r=n(1702),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},648:(e,t,n)=>{var r=n(7854),i=n(1694),a=n(614),o=n(4326),u=n(5112),s=u("toStringTag"),c=r.Object,l="Arguments"==o(function(){return arguments}()),f=function(e,t){try{return e[t]}catch(n){}};e.exports=i?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=f(t=c(e),s))?n:l?o(t):"Object"==(r=o(t))&&a(t.callee)?"Arguments":r}},7741:(e,t,n)=>{var r=n(1702),i=r("".replace),a=function(e){return String(Error(e).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,u=o.test(a);e.exports=function(e,t){if(u&&"string"==typeof e)while(t--)e=i(e,o,"");return e}},5631:(e,t,n)=>{"use strict";var r=n(3070).f,i=n(30),a=n(2248),o=n(9974),u=n(5787),s=n(408),c=n(654),l=n(6340),f=n(9781),h=n(2423).fastKey,d=n(9909),v=d.set,p=d.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){u(e,d),v(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&s(r,e[c],{that:e,AS_ENTRIES:n})})),d=l.prototype,y=p(t),g=function(e,t,n){var r,i,a=y(e),o=m(e,t);return o?o.value=n:(a.last=o={index:i=h(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},m=function(e,t){var n,r=y(e),i=h(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(d,{clear:function(){var e=this,t=y(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=y(t),r=m(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=y(this),r=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!m(this,e)}}),a(d,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(d,"size",{get:function(){return y(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=p(t),a=p(r);c(e,t,(function(e,t){v(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},9320:(e,t,n)=>{"use strict";var r=n(1702),i=n(2248),a=n(2423).getWeakData,o=n(9670),u=n(111),s=n(5787),c=n(408),l=n(2092),f=n(2597),h=n(9909),d=h.set,v=h.getterFor,p=l.find,y=l.findIndex,g=r([].splice),m=0,w=function(e){return e.frozen||(e.frozen=new k)},k=function(){this.entries=[]},b=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};k.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&g(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var l=e((function(e,i){s(e,h),d(e,{type:t,id:m++,frozen:void 0}),void 0!=i&&c(i,e[r],{that:e,AS_ENTRIES:n})})),h=l.prototype,p=v(t),y=function(e,t,n){var r=p(e),i=a(o(t),!0);return!0===i?w(r).set(t,n):i[r.id]=n,e};return i(h,{delete:function(e){var t=p(this);if(!u(e))return!1;var n=a(e);return!0===n?w(t)["delete"](e):n&&f(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!u(e))return!1;var n=a(e);return!0===n?w(t).has(e):n&&f(n,t.id)}}),i(h,n?{get:function(e){var t=p(this);if(u(e)){var n=a(e);return!0===n?w(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),l}}},7710:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(1702),o=n(4705),u=n(1320),s=n(2423),c=n(408),l=n(5787),f=n(614),h=n(111),d=n(7293),v=n(7072),p=n(8003),y=n(9587);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),w=g?"set":"add",k=i[e],b=k&&k.prototype,x=k,_={},E=function(e){var t=a(b[e]);u(b,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return m&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},I=o(e,!f(k)||!(m||b.forEach&&!d((function(){(new k).entries().next()}))));if(I)x=n.getConstructor(t,e,g,w),s.enable();else if(o(e,!0)){var S=new x,T=S[w](m?{}:-0,1)!=S,A=d((function(){S.has(1)})),R=v((function(e){new k(e)})),C=!m&&d((function(){var e=new k,t=5;while(t--)e[w](t,t);return!e.has(-0)}));R||(x=t((function(e,t){l(e,b);var n=y(new k,e,x);return void 0!=t&&c(t,n[w],{that:n,AS_ENTRIES:g}),n})),x.prototype=b,b.constructor=x),(A||C)&&(E("delete"),E("has"),g&&E("get")),(C||T)&&E(w),m&&b.clear&&delete b.clear}return _[e]=x,r({global:!0,forced:x!=k},_),p(x,e),m||n.setStrong(x,e,g),x}},9920:(e,t,n)=>{var r=n(2597),i=n(3887),a=n(1236),o=n(3070);e.exports=function(e,t,n){for(var u=i(t),s=o.f,c=a.f,l=0;l<u.length;l++){var f=u[l];r(e,f)||n&&r(n,f)||s(e,f,c(t,f))}}},4964:(e,t,n)=>{var r=n(5112),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:(e,t,n)=>{var r=n(1702),i=n(4488),a=n(1340),o=/"/g,u=r("".replace);e.exports=function(e,t,n,r){var s=a(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+u(a(r),o,"&quot;")+'"'),c+">"+s+"</"+t+">"}},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),a=n(9114),o=n(8003),u=n(7497),s=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),u[l]=s,e}},8880:(e,t,n)=>{var r=n(9781),i=n(3070),a=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var r=n(4948),i=n(3070),a=n(9114);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},5573:(e,t,n)=>{"use strict";var r=n(7854),i=n(1702),a=n(7293),o=n(6650).start,u=r.RangeError,s=Math.abs,c=Date.prototype,l=c.toISOString,f=i(c.getTime),h=i(c.getUTCDate),d=i(c.getUTCFullYear),v=i(c.getUTCHours),p=i(c.getUTCMilliseconds),y=i(c.getUTCMinutes),g=i(c.getUTCMonth),m=i(c.getUTCSeconds);e.exports=a((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!a((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(f(this)))throw u("Invalid time value");var e=this,t=d(e),n=p(e),r=t<0?"-":t>9999?"+":"";return r+o(s(t),r?6:4,0)+"-"+o(g(e)+1,2,0)+"-"+o(h(e),2,0)+"T"+o(v(e),2,0)+":"+o(y(e),2,0)+":"+o(m(e),2,0)+"."+o(n,3,0)+"Z"}:l},654:(e,t,n)=>{"use strict";var r=n(2109),i=n(6916),a=n(1913),o=n(6530),u=n(614),s=n(4994),c=n(9518),l=n(7674),f=n(8003),h=n(8880),d=n(1320),v=n(5112),p=n(7497),y=n(3383),g=o.PROPER,m=o.CONFIGURABLE,w=y.IteratorPrototype,k=y.BUGGY_SAFARI_ITERATORS,b=v("iterator"),x="keys",_="values",E="entries",I=function(){return this};e.exports=function(e,t,n,o,v,y,S){s(n,t,o);var T,A,R,C=function(e){if(e===v&&M)return M;if(!k&&e in O)return O[e];switch(e){case x:return function(){return new n(this,e)};case _:return function(){return new n(this,e)};case E:return function(){return new n(this,e)}}return function(){return new n(this)}},Z=t+" Iterator",D=!1,O=e.prototype,N=O[b]||O["@@iterator"]||v&&O[v],M=!k&&N||C(v),L="Array"==t&&O.entries||N;if(L&&(T=c(L.call(new e)),T!==Object.prototype&&T.next&&(a||c(T)===w||(l?l(T,w):u(T[b])||d(T,b,I)),f(T,Z,!0,!0),a&&(p[Z]=I))),g&&v==_&&N&&N.name!==_&&(!a&&m?h(O,"name",_):(D=!0,M=function(){return i(N,this)})),v)if(A={values:C(_),keys:y?M:C(x),entries:C(E)},S)for(R in A)(k||D||!(R in O))&&d(O,R,A[R]);else r({target:t,proto:!0,forced:k||D},A);return a&&!S||O[b]===M||d(O,b,M,{name:v}),p[t]=M,A}},7235:(e,t,n)=>{var r=n(857),i=n(2597),a=n(6061),o=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),i=n(111),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},3678:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var r=n(317),i=r("span").classList,a=i&&i.constructor&&i.constructor.prototype;e.exports=a===Object.prototype?void 0:a},8886:(e,t,n)=>{var r=n(8113),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},7871:e=>{e.exports="object"==typeof window},256:(e,t,n)=>{var r=n(8113);e.exports=/MSIE|Trident/.test(r)},1528:(e,t,n)=>{var r=n(8113),i=n(7854);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},6833:(e,t,n)=>{var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:(e,t,n)=>{var r=n(4326),i=n(7854);e.exports="process"==r(i.process)},1036:(e,t,n)=>{var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,i,a=n(7854),o=n(8113),u=a.process,s=a.Deno,c=u&&u.versions||s&&s.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},8008:(e,t,n)=>{var r=n(8113),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(e,t,n)=>{var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},7762:(e,t,n)=>{"use strict";var r=n(9781),i=n(7293),a=n(9670),o=n(30),u=n(6277),s=Error.prototype.toString,c=i((function(){if(r){var e=o(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==s.call(e))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));e.exports=c?function(){var e=a(this),t=u(e.name,"Error"),n=u(e.message);return t?n?t+": "+n:t:n}:s},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,a=n(8880),o=n(1320),u=n(3505),s=n(9920),c=n(4705);e.exports=function(e,t){var n,l,f,h,d,v,p=e.target,y=e.global,g=e.stat;if(l=y?r:g?r[p]||u(p,{}):(r[p]||{}).prototype,l)for(f in t){if(d=t[f],e.noTargetGet?(v=i(l,f),h=v&&v.value):h=l[f],n=c(y?f:p+(g?".":"#")+f,e.forced),!n&&void 0!==h){if(typeof d==typeof h)continue;s(d,h)}(e.sham||h&&h.sham)&&a(d,"sham",!0),o(l,f,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var r=n(1702),i=n(1320),a=n(2261),o=n(7293),u=n(5112),s=n(8880),c=u("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var h=u(e),d=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),v=d&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!d||!v||n){var p=r(/./[h]),y=t(h,""[e],(function(e,t,n,i,o){var u=r(e),s=t.exec;return s===a||s===l.exec?d&&!o?{done:!0,value:p(t,n,i)}:{done:!0,value:u(n,t,i)}:{done:!1}}));i(String.prototype,e,y[0]),i(l,h,y[1])}f&&s(l[h],"sham",!0)}},6677:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:(e,t,n)=>{var r=n(4374),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},9974:(e,t,n)=>{var r=n(1702),i=n(9662),a=n(4374),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7065:(e,t,n)=>{"use strict";var r=n(7854),i=n(1702),a=n(9662),o=n(111),u=n(2597),s=n(206),c=n(4374),l=r.Function,f=i([].concat),h=i([].join),d={},v=function(e,t,n){if(!u(d,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";d[t]=l("C,a","return new C("+h(r,",")+")")}return d[t](e,n)};e.exports=c?l.bind:function(e){var t=a(this),n=t.prototype,r=s(arguments,1),i=function(){var n=f(r,s(arguments));return this instanceof i?v(t,n.length,n):t.apply(e,n)};return o(n)&&(i.prototype=n),i}},6916:(e,t,n)=>{var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:(e,t,n)=>{var r=n(9781),i=n(2597),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,u=i(a,"name"),s=u&&"something"===function(){}.name,c=u&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:u,PROPER:s,CONFIGURABLE:c}},1702:(e,t,n)=>{var r=n(4374),i=Function.prototype,a=i.bind,o=i.call,u=r&&a.bind(o,o);e.exports=r?function(e){return e&&u(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:(e,t,n)=>{var r=n(7854),i=n(614),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},1246:(e,t,n)=>{var r=n(648),i=n(8173),a=n(7497),o=n(5112),u=o("iterator");e.exports=function(e){if(void 0!=e)return i(e,u)||i(e,"@@iterator")||a[r(e)]}},8554:(e,t,n)=>{var r=n(7854),i=n(6916),a=n(9662),o=n(9670),u=n(6330),s=n(1246),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(a(n))return o(i(n,e));throw c(u(e)+" is not iterable")}},8173:(e,t,n)=>{var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},647:(e,t,n)=>{var r=n(1702),i=n(7908),a=Math.floor,o=r("".charAt),u=r("".replace),s=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,h){var d=n+e.length,v=r.length,p=l;return void 0!==f&&(f=i(f),p=c),u(h,p,(function(i,u){var c;switch(o(u,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,n);case"'":return s(t,d);case"<":c=f[s(u,1,-1)];break;default:var l=+u;if(0===l)return i;if(l>v){var h=a(l/10);return 0===h?i:h<=v?void 0===r[h-1]?o(u,1):r[h-1]+o(u,1):i}c=r[l-1]}return void 0===c?"":c}))}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var r=n(1702),i=n(7908),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),a=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1179:(e,t,n)=>{var r=n(7854),i=r.Array,a=Math.abs,o=Math.pow,u=Math.floor,s=Math.log,c=Math.LN2,l=function(e,t,n){var r,l,f,h=i(n),d=8*n-t-1,v=(1<<d)-1,p=v>>1,y=23===t?o(2,-24)-o(2,-77):0,g=e<0||0===e&&1/e<0?1:0,m=0;e=a(e),e!=e||e===1/0?(l=e!=e?1:0,r=v):(r=u(s(e)/c),f=o(2,-r),e*f<1&&(r--,f*=2),e+=r+p>=1?y/f:y*o(2,1-p),e*f>=2&&(r++,f/=2),r+p>=v?(l=0,r=v):r+p>=1?(l=(e*f-1)*o(2,t),r+=p):(l=e*o(2,p-1)*o(2,t),r=0));while(t>=8)h[m++]=255&l,l/=256,t-=8;r=r<<t|l,d+=t;while(d>0)h[m++]=255&r,r/=256,d-=8;return h[--m]|=128*g,h},f=function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,u=a>>1,s=i-7,c=r-1,l=e[c--],f=127&l;l>>=7;while(s>0)f=256*f+e[c--],s-=8;n=f&(1<<-s)-1,f>>=-s,s+=t;while(s>0)n=256*n+e[c--],s-=8;if(0===f)f=1-u;else{if(f===a)return n?NaN:l?-1/0:1/0;n+=o(2,t),f-=u}return(l?-1:1)*n*o(2,f-t)};e.exports={pack:l,unpack:f}},8361:(e,t,n)=>{var r=n(7854),i=n(1702),a=n(7293),o=n(4326),u=r.Object,s=i("".split);e.exports=a((function(){return!u("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):u(e)}:u},9587:(e,t,n)=>{var r=n(614),i=n(111),a=n(7674);e.exports=function(e,t,n){var o,u;return a&&r(o=t.constructor)&&o!==n&&i(u=o.prototype)&&u!==n.prototype&&a(e,u),e}},2788:(e,t,n)=>{var r=n(1702),i=n(614),a=n(5465),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},8340:(e,t,n)=>{var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},2423:(e,t,n)=>{var r=n(2109),i=n(1702),a=n(3501),o=n(111),u=n(2597),s=n(3070).f,c=n(8006),l=n(1156),f=n(2050),h=n(9711),d=n(6677),v=!1,p=h("meta"),y=0,g=function(e){s(e,p,{value:{objectID:"O"+y++,weakData:{}}})},m=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,p)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[p].objectID},w=function(e,t){if(!u(e,p)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[p].weakData},k=function(e){return d&&v&&f(e)&&!u(e,p)&&g(e),e},b=function(){x.enable=function(){},v=!0;var e=c.f,t=i([].splice),n={};n[p]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===p){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},x=e.exports={enable:b,fastKey:m,getWeakData:w,onFreeze:k};a[p]=!0},9909:(e,t,n)=>{var r,i,a,o=n(8536),u=n(7854),s=n(1702),c=n(111),l=n(8880),f=n(2597),h=n(5465),d=n(6200),v=n(3501),p="Object already initialized",y=u.TypeError,g=u.WeakMap,m=function(e){return a(e)?i(e):r(e,{})},w=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw y("Incompatible receiver, "+e+" required");return n}};if(o||h.state){var k=h.state||(h.state=new g),b=s(k.get),x=s(k.has),_=s(k.set);r=function(e,t){if(x(k,e))throw new y(p);return t.facade=e,_(k,e,t),t},i=function(e){return b(k,e)||{}},a=function(e){return x(k,e)}}else{var E=d("state");v[E]=!0,r=function(e,t){if(f(e,E))throw new y(p);return t.facade=e,l(e,E,t),t},i=function(e){return f(e,E)?e[E]:{}},a=function(e){return f(e,E)}}e.exports={set:r,get:i,has:a,enforce:m,getterFor:w}},7659:(e,t,n)=>{var r=n(5112),i=n(7497),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},614:e=>{e.exports=function(e){return"function"==typeof e}},4411:(e,t,n)=>{var r=n(1702),i=n(7293),a=n(614),o=n(648),u=n(5005),s=n(2788),c=function(){},l=[],f=u("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),v=!h.exec(c),p=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},y=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!d(h,s(e))}catch(t){return!0}};y.sham=!0,e.exports=!f||i((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?y:p},5032:(e,t,n)=>{var r=n(2597);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},4705:(e,t,n)=>{var r=n(7293),i=n(614),a=/#|\.prototype\./,o=function(e,t){var n=s[u(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},u=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},5988:(e,t,n)=>{var r=n(111),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},111:(e,t,n)=>{var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var r=n(111),i=n(4326),a=n(5112),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},2190:(e,t,n)=>{var r=n(7854),i=n(5005),a=n(614),o=n(7976),u=n(3307),s=r.Object;e.exports=u?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return a(t)&&o(t.prototype,s(e))}},408:(e,t,n)=>{var r=n(7854),i=n(9974),a=n(6916),o=n(9670),u=n(6330),s=n(7659),c=n(6244),l=n(7976),f=n(8554),h=n(1246),d=n(9212),v=r.TypeError,p=function(e,t){this.stopped=e,this.result=t},y=p.prototype;e.exports=function(e,t,n){var r,g,m,w,k,b,x,_=n&&n.that,E=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),T=i(t,_),A=function(e){return r&&d(r,"normal",e),new p(!0,e)},R=function(e){return E?(o(e),S?T(e[0],e[1],A):T(e[0],e[1])):S?T(e,A):T(e)};if(I)r=e;else{if(g=h(e),!g)throw v(u(e)+" is not iterable");if(s(g)){for(m=0,w=c(e);w>m;m++)if(k=R(e[m]),k&&l(y,k))return k;return new p(!1)}r=f(e,g)}b=r.next;while(!(x=a(b,r)).done){try{k=R(x.value)}catch(C){d(r,"throw",C)}if("object"==typeof k&&k&&l(y,k))return k}return new p(!1)}},9212:(e,t,n)=>{var r=n(6916),i=n(9670),a=n(8173);e.exports=function(e,t,n){var o,u;i(e);try{if(o=a(e,"return"),!o){if("throw"===t)throw n;return n}o=r(o,e)}catch(s){u=!0,o=s}if("throw"===t)throw n;if(u)throw o;return i(o),n}},3383:(e,t,n)=>{"use strict";var r,i,a,o=n(7293),u=n(614),s=n(30),c=n(9518),l=n(1320),f=n(5112),h=n(1913),d=f("iterator"),v=!1;[].keys&&(a=[].keys(),"next"in a?(i=c(c(a)),i!==Object.prototype&&(r=i)):v=!0);var p=void 0==r||o((function(){var e={};return r[d].call(e)!==e}));p?r={}:h&&(r=s(r)),u(r[d])||l(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var r=n(7466);e.exports=function(e){return r(e.length)}},5948:(e,t,n)=>{var r,i,a,o,u,s,c,l,f=n(7854),h=n(9974),d=n(1236).f,v=n(261).set,p=n(6833),y=n(1528),g=n(1036),m=n(5268),w=f.MutationObserver||f.WebKitMutationObserver,k=f.document,b=f.process,x=f.Promise,_=d(f,"queueMicrotask"),E=_&&_.value;E||(r=function(){var e,t;m&&(e=b.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},p||m||g||!w||!k?!y&&x&&x.resolve?(c=x.resolve(void 0),c.constructor=x,l=h(c.then,c),o=function(){l(r)}):m?o=function(){b.nextTick(r)}:(v=h(v,f),o=function(){v(r)}):(u=!0,s=k.createTextNode(""),new w(r).observe(s,{characterData:!0}),o=function(){s.data=u=!u})),e.exports=E||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},3366:(e,t,n)=>{var r=n(7854);e.exports=r.Promise},133:(e,t,n)=>{var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(e,t,n)=>{var r=n(7854),i=n(614),a=n(2788),o=r.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},8523:(e,t,n)=>{"use strict";var r=n(9662),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},6277:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3929:(e,t,n)=>{var r=n(7854),i=n(7850),a=r.TypeError;e.exports=function(e){if(i(e))throw a("The method doesn't accept regular expressions");return e}},7023:(e,t,n)=>{var r=n(7854),i=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},2814:(e,t,n)=>{var r=n(7854),i=n(7293),a=n(1702),o=n(1340),u=n(3111).trim,s=n(1361),c=a("".charAt),l=r.parseFloat,f=r.Symbol,h=f&&f.iterator,d=1/l(s+"-0")!==-1/0||h&&!i((function(){l(Object(h))}));e.exports=d?function(e){var t=u(o(e)),n=l(t);return 0===n&&"-"==c(t,0)?-0:n}:l},3009:(e,t,n)=>{var r=n(7854),i=n(7293),a=n(1702),o=n(1340),u=n(3111).trim,s=n(1361),c=r.parseInt,l=r.Symbol,f=l&&l.iterator,h=/^[+-]?0x/i,d=a(h.exec),v=8!==c(s+"08")||22!==c(s+"0x16")||f&&!i((function(){c(Object(f))}));e.exports=v?function(e,t){var n=u(o(e));return c(n,t>>>0||(d(h,n)?16:10))}:c},1574:(e,t,n)=>{"use strict";var r=n(9781),i=n(1702),a=n(6916),o=n(7293),u=n(1956),s=n(5181),c=n(5296),l=n(7908),f=n(8361),h=Object.assign,d=Object.defineProperty,v=i([].concat);e.exports=!h||o((function(){if(r&&1!==h({b:1},h(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||u(h({},t)).join("")!=i}))?function(e,t){var n=l(e),i=arguments.length,o=1,h=s.f,d=c.f;while(i>o){var p,y=f(arguments[o++]),g=h?v(u(y),h(y)):u(y),m=g.length,w=0;while(m>w)p=g[w++],r&&!a(d,y,p)||(n[p]=y[p])}return n}:h},30:(e,t,n)=>{var r,i=n(9670),a=n(6048),o=n(748),u=n(3501),s=n(490),c=n(317),l=n(6200),f=">",h="<",d="prototype",v="script",p=l("IE_PROTO"),y=function(){},g=function(e){return h+v+f+e+h+"/"+v+f},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},w=function(){var e,t=c("iframe"),n="java"+v+":";return t.style.display="none",s.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},k=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}k="undefined"!=typeof document?document.domain&&r?m(r):w():m(r);var e=o.length;while(e--)delete k[d][o[e]];return k()};u[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(y[d]=i(e),n=new y,y[d]=null,n[p]=e):n=k(),void 0===t?n:a.f(n,t)}},6048:(e,t,n)=>{var r=n(9781),i=n(3353),a=n(3070),o=n(9670),u=n(5656),s=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);var n,r=u(t),i=s(t),c=i.length,l=0;while(c>l)a.f(e,n=i[l++],r[n]);return e}},3070:(e,t,n)=>{var r=n(7854),i=n(9781),a=n(4664),o=n(3353),u=n(9670),s=n(4948),c=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",v="writable";t.f=i?o?function(e,t,n){if(u(e),t=s(t),u(n),"function"===typeof e&&"prototype"===t&&"value"in n&&v in n&&!n[v]){var r=f(e,t);r&&r[v]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(u(e),t=s(t),u(n),a)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(6916),a=n(5296),o=n(9114),u=n(5656),s=n(4948),c=n(2597),l=n(4664),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=s(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},1156:(e,t,n)=>{var r=n(4326),i=n(5656),a=n(8006).f,o=n(1589),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return a(e)}catch(t){return o(u)}};e.exports.f=function(e){return u&&"Window"==r(e)?s(e):a(i(e))}},8006:(e,t,n)=>{var r=n(6324),i=n(748),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(7854),i=n(2597),a=n(614),o=n(7908),u=n(6200),s=n(8544),c=u("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},2050:(e,t,n)=>{var r=n(7293),i=n(111),a=n(4326),o=n(7556),u=Object.isExtensible,s=r((function(){u(1)}));e.exports=s||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=a(e))&&(!u||u(e)))}:u},7976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,n)=>{var r=n(1702),i=n(2597),a=n(5656),o=n(1318).indexOf,u=n(3501),s=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(u,n)&&i(r,n)&&s(l,n);while(t.length>c)i(r,n=t[c++])&&(~o(l,n)||s(l,n));return l}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(1702),i=n(9670),a=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},4699:(e,t,n)=>{var r=n(9781),i=n(1702),a=n(1956),o=n(5656),u=n(5296).f,s=i(u),c=i([].push),l=function(e){return function(t){var n,i=o(t),u=a(i),l=u.length,f=0,h=[];while(l>f)n=u[f++],r&&!s(i,n)||c(h,e?[n,i[n]]:i[n]);return h}};e.exports={entries:l(!0),values:l(!1)}},288:(e,t,n)=>{"use strict";var r=n(1694),i=n(648);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:(e,t,n)=>{var r=n(7854),i=n(6916),a=n(614),o=n(111),u=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&a(n=e.toString)&&!o(r=i(n,e)))return r;if(a(n=e.valueOf)&&!o(r=i(n,e)))return r;if("string"!==t&&a(n=e.toString)&&!o(r=i(n,e)))return r;throw u("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),i=n(1702),a=n(8006),o=n(5181),u=n(9670),s=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(u(e)),n=o.f;return n?s(t,n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},9478:(e,t,n)=>{var r=n(9670),i=n(111),a=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e),o=n.resolve;return o(t),n.promise}},8572:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},2248:(e,t,n)=>{var r=n(1320);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1320:(e,t,n)=>{var r=n(7854),i=n(614),a=n(2597),o=n(8880),u=n(3505),s=n(2788),c=n(9909),l=n(6530).CONFIGURABLE,f=c.get,h=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var c,f=!!s&&!!s.unsafe,v=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet,y=s&&void 0!==s.name?s.name:t;i(n)&&("Symbol("===String(y).slice(0,7)&&(y="["+String(y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(n,"name")||l&&n.name!==y)&&o(n,"name",y),c=h(n),c.source||(c.source=d.join("string"==typeof y?y:""))),e!==r?(f?!p&&e[t]&&(v=!0):delete e[t],v?e[t]=n:o(e,t,n)):v?e[t]=n:u(t,n)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||s(this)}))},7651:(e,t,n)=>{var r=n(7854),i=n(6916),a=n(9670),o=n(614),u=n(4326),s=n(2261),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var r=i(n,e,t);return null!==r&&a(r),r}if("RegExp"===u(e))return i(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},2261:(e,t,n)=>{"use strict";var r=n(6916),i=n(1702),a=n(1340),o=n(7066),u=n(2999),s=n(2309),c=n(30),l=n(9909).get,f=n(9441),h=n(7168),d=s("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,p=v,y=i("".charAt),g=i("".indexOf),m=i("".replace),w=i("".slice),k=function(){var e=/a/,t=/b*/g;return r(v,e,"a"),r(v,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),b=u.BROKEN_CARET,x=void 0!==/()??/.exec("")[1],_=k||x||b||f||h;_&&(p=function(e){var t,n,i,u,s,f,h,_=this,E=l(_),I=a(e),S=E.raw;if(S)return S.lastIndex=_.lastIndex,t=r(p,S,I),_.lastIndex=S.lastIndex,t;var T=E.groups,A=b&&_.sticky,R=r(o,_),C=_.source,Z=0,D=I;if(A&&(R=m(R,"y",""),-1===g(R,"g")&&(R+="g"),D=w(I,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==y(I,_.lastIndex-1))&&(C="(?: "+C+")",D=" "+D,Z++),n=new RegExp("^(?:"+C+")",R)),x&&(n=new RegExp("^"+C+"$(?!\\s)",R)),k&&(i=_.lastIndex),u=r(v,A?n:_,D),A?u?(u.input=w(u.input,Z),u[0]=w(u[0],Z),u.index=_.lastIndex,_.lastIndex+=u[0].length):_.lastIndex=0:k&&u&&(_.lastIndex=_.global?u.index+u[0].length:i),x&&u&&u.length>1&&r(d,u[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(u[s]=void 0)})),u&&T)for(u.groups=f=c(null),s=0;s<T.length;s++)h=T[s],f[h[0]]=u[h[1]];return u}),e.exports=p},7066:(e,t,n)=>{"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,n)=>{var r=n(7293),i=n(7854),a=i.RegExp,o=r((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),u=o||r((function(){return!a("a","y").sticky})),s=o||r((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:u,UNSUPPORTED_Y:o}},9441:(e,t,n)=>{var r=n(7293),i=n(7854),a=i.RegExp;e.exports=r((function(){var e=a(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,n)=>{var r=n(7293),i=n(7854),a=i.RegExp;e.exports=r((function(){var e=a("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,n)=>{var r=n(7854),i=r.TypeError;e.exports=function(e){if(void 0==e)throw i("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},3505:(e,t,n)=>{var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6340:(e,t,n)=>{"use strict";var r=n(5005),i=n(3070),a=n(5112),o=n(9781),u=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[u]&&n(t,u,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var r=n(3070).f,i=n(2597),a=n(5112),o=a("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5465:(e,t,n)=>{var r=n(7854),i=n(3505),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},2309:(e,t,n)=>{var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(e,t,n)=>{var r=n(9670),i=n(9483),a=n(5112),o=a("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},3429:(e,t,n)=>{var r=n(7293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8710:(e,t,n)=>{var r=n(1702),i=n(9303),a=n(1340),o=n(4488),u=r("".charAt),s=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(o(t)),h=i(n),d=f.length;return h<0||h>=d?e?"":void 0:(r=s(f,h),r<55296||r>56319||h+1===d||(l=s(f,h+1))<56320||l>57343?e?u(f,h):r:e?c(f,h,h+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},7061:(e,t,n)=>{var r=n(8113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},6650:(e,t,n)=>{var r=n(1702),i=n(7466),a=n(1340),o=n(8415),u=n(4488),s=r(o),c=r("".slice),l=Math.ceil,f=function(e){return function(t,n,r){var o,f,h=a(u(t)),d=i(n),v=h.length,p=void 0===r?" ":a(r);return d<=v||""==p?h:(o=d-v,f=s(p,l(o/p.length)),f.length>o&&(f=c(f,0,o)),e?h+f:f+h)}};e.exports={start:f(!1),end:f(!0)}},8415:(e,t,n)=>{"use strict";var r=n(7854),i=n(9303),a=n(1340),o=n(4488),u=r.RangeError;e.exports=function(e){var t=a(o(this)),n="",r=i(e);if(r<0||r==1/0)throw u("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},6091:(e,t,n)=>{var r=n(6530).PROPER,i=n(7293),a=n(1361),o="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||o[e]()!==o||r&&a[e].name!==e}))}},3111:(e,t,n)=>{var r=n(1702),i=n(4488),a=n(1340),o=n(1361),u=r("".replace),s="["+o+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e){return function(t){var n=a(i(t));return 1&e&&(n=u(n,c,"")),2&e&&(n=u(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},261:(e,t,n)=>{var r,i,a,o,u=n(7854),s=n(2104),c=n(9974),l=n(614),f=n(2597),h=n(7293),d=n(490),v=n(206),p=n(317),y=n(8053),g=n(6833),m=n(5268),w=u.setImmediate,k=u.clearImmediate,b=u.process,x=u.Dispatch,_=u.Function,E=u.MessageChannel,I=u.String,S=0,T={},A="onreadystatechange";try{r=u.location}catch(O){}var R=function(e){if(f(T,e)){var t=T[e];delete T[e],t()}},C=function(e){return function(){R(e)}},Z=function(e){R(e.data)},D=function(e){u.postMessage(I(e),r.protocol+"//"+r.host)};w&&k||(w=function(e){y(arguments.length,1);var t=l(e)?e:_(e),n=v(arguments,1);return T[++S]=function(){s(t,void 0,n)},i(S),S},k=function(e){delete T[e]},m?i=function(e){b.nextTick(C(e))}:x&&x.now?i=function(e){x.now(C(e))}:E&&!g?(a=new E,o=a.port2,a.port1.onmessage=Z,i=c(o.postMessage,o)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!h(D)?(i=D,u.addEventListener("message",Z,!1)):i=A in p("script")?function(e){d.appendChild(p("script"))[A]=function(){d.removeChild(this),R(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:w,clear:k}},863:(e,t,n)=>{var r=n(1702);e.exports=r(1..valueOf)},1400:(e,t,n)=>{var r=n(9303),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},7067:(e,t,n)=>{var r=n(7854),i=n(9303),a=n(7466),o=r.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=a(t);if(t!==n)throw o("Wrong length or index");return n}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!==r||0===r?0:(r>0?n:t)(r)}},7466:(e,t,n)=>{var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(7854),i=n(4488),a=r.Object;e.exports=function(e){return a(i(e))}},4590:(e,t,n)=>{var r=n(7854),i=n(3002),a=r.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw a("Wrong offset");return n}},3002:(e,t,n)=>{var r=n(7854),i=n(9303),a=r.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw a("The argument can't be less than 0");return t}},7593:(e,t,n)=>{var r=n(7854),i=n(6916),a=n(111),o=n(2190),u=n(8173),s=n(2140),c=n(5112),l=r.TypeError,f=c("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var n,r=u(e,f);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!a(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:(e,t,n)=>{var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:(e,t,n)=>{var r=n(5112),i=r("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},1340:(e,t,n)=>{var r=n(7854),i=n(648),a=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},4038:(e,t,n)=>{var r=n(5268);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},6330:(e,t,n)=>{var r=n(7854),i=r.String;e.exports=function(e){try{return i(e)}catch(t){return"Object"}}},9843:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(6916),o=n(9781),u=n(3832),s=n(260),c=n(3331),l=n(5787),f=n(9114),h=n(8880),d=n(5988),v=n(7466),p=n(7067),y=n(4590),g=n(4948),m=n(2597),w=n(648),k=n(111),b=n(2190),x=n(30),_=n(7976),E=n(7674),I=n(8006).f,S=n(7321),T=n(2092).forEach,A=n(6340),R=n(3070),C=n(1236),Z=n(9909),D=n(9587),O=Z.get,N=Z.set,M=R.f,L=C.f,P=Math.round,F=i.RangeError,V=c.ArrayBuffer,j=V.prototype,U=c.DataView,B=s.NATIVE_ARRAY_BUFFER_VIEWS,q=s.TYPED_ARRAY_CONSTRUCTOR,G=s.TYPED_ARRAY_TAG,K=s.TypedArray,z=s.TypedArrayPrototype,W=s.aTypedArrayConstructor,H=s.isTypedArray,Q="BYTES_PER_ELEMENT",Y="Wrong length",$=function(e,t){W(e);var n=0,r=t.length,i=new e(r);while(r>n)i[n]=t[n++];return i},J=function(e,t){M(e,t,{get:function(){return O(this)[t]}})},X=function(e){var t;return _(j,e)||"ArrayBuffer"==(t=w(e))||"SharedArrayBuffer"==t},ee=function(e,t){return H(e)&&!b(t)&&t in e&&d(+t)&&t>=0},te=function(e,t){return t=g(t),ee(e,t)?f(2,e[t]):L(e,t)},ne=function(e,t,n){return t=g(t),!(ee(e,t)&&k(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?M(e,t,n):(e[t]=n.value,e)};o?(B||(C.f=te,R.f=ne,J(z,"buffer"),J(z,"byteOffset"),J(z,"byteLength"),J(z,"length")),r({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",c="get"+e,f="set"+e,d=i[s],g=d,m=g&&g.prototype,w={},b=function(e,t){var n=O(e);return n.view[c](t*o+n.byteOffset,!0)},_=function(e,t,r){var i=O(e);n&&(r=(r=P(r))<0?0:r>255?255:255&r),i.view[f](t*o+i.byteOffset,r,!0)},R=function(e,t){M(e,t,{get:function(){return b(this,t)},set:function(e){return _(this,t,e)},enumerable:!0})};B?u&&(g=t((function(e,t,n,r){return l(e,m),D(function(){return k(t)?X(t)?void 0!==r?new d(t,y(n,o),r):void 0!==n?new d(t,y(n,o)):new d(t):H(t)?$(g,t):a(S,g,t):new d(p(t))}(),e,g)})),E&&E(g,K),T(I(d),(function(e){e in g||h(g,e,d[e])})),g.prototype=m):(g=t((function(e,t,n,r){l(e,m);var i,u,s,c=0,f=0;if(k(t)){if(!X(t))return H(t)?$(g,t):a(S,g,t);i=t,f=y(n,o);var h=t.byteLength;if(void 0===r){if(h%o)throw F(Y);if(u=h-f,u<0)throw F(Y)}else if(u=v(r)*o,u+f>h)throw F(Y);s=u/o}else s=p(t),u=s*o,i=new V(u);N(e,{buffer:i,byteOffset:f,byteLength:u,length:s,view:new U(i)});while(c<s)R(e,c++)})),E&&E(g,K),m=g.prototype=x(z)),m.constructor!==g&&h(m,"constructor",g),h(m,q,g),G&&h(m,G,s),w[s]=g,r({global:!0,forced:g!=d,sham:!B},w),Q in g||h(g,Q,o),Q in m||h(m,Q,o),A(s)}):e.exports=function(){}},3832:(e,t,n)=>{var r=n(7854),i=n(7293),a=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,s=r.Int8Array;e.exports=!o||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!a((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||i((function(){return 1!==new s(new u(2),1,void 0).length}))},3074:(e,t,n)=>{var r=n(7745),i=n(6304);e.exports=function(e,t){return r(i(e),t)}},7321:(e,t,n)=>{var r=n(9974),i=n(6916),a=n(9483),o=n(7908),u=n(6244),s=n(8554),c=n(1246),l=n(7659),f=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,h,d,v,p,y=a(this),g=o(e),m=arguments.length,w=m>1?arguments[1]:void 0,k=void 0!==w,b=c(g);if(b&&!l(b)){v=s(g,b),p=v.next,g=[];while(!(d=i(p,v)).done)g.push(d.value)}for(k&&m>2&&(w=r(w,arguments[2])),n=u(g),h=new(f(y))(n),t=0;n>t;t++)h[t]=k?w(g[t],t):g[t];return h}},6304:(e,t,n)=>{var r=n(260),i=n(6707),a=r.TYPED_ARRAY_CONSTRUCTOR,o=r.aTypedArrayConstructor;e.exports=function(e){return o(i(e,e[a]))}},9711:(e,t,n)=>{var r=n(1702),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:(e,t,n)=>{var r=n(7854),i=r.TypeError;e.exports=function(e,t){if(e<t)throw i("Not enough arguments");return e}},6061:(e,t,n)=>{var r=n(5112);t.f=r},5112:(e,t,n)=>{var r=n(7854),i=n(2309),a=n(2597),o=n(9711),u=n(133),s=n(3307),c=i("wks"),l=r.Symbol,f=l&&l["for"],h=s?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!u&&"string"!=typeof c[e]){var t="Symbol."+e;u&&a(l,e)?c[e]=l[e]:c[e]=s&&f?f(t):h(t)}return c[e]}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9191:(e,t,n)=>{"use strict";var r=n(5005),i=n(2597),a=n(8880),o=n(7976),u=n(7674),s=n(9920),c=n(9587),l=n(6277),f=n(8340),h=n(7741),d=n(2914),v=n(1913);e.exports=function(e,t,n,p){var y=p?2:1,g=e.split("."),m=g[g.length-1],w=r.apply(null,g);if(w){var k=w.prototype;if(!v&&i(k,"cause")&&delete k.cause,!n)return w;var b=r("Error"),x=t((function(e,t){var n=l(p?t:e,void 0),r=p?new w(e):new w;return void 0!==n&&a(r,"message",n),d&&a(r,"stack",h(r.stack,2)),this&&o(k,this)&&c(r,this,x),arguments.length>y&&f(r,arguments[y]),r}));if(x.prototype=k,"Error"!==m&&(u?u(x,b):s(x,b,{name:!0})),s(x,w),!v)try{k.name!==m&&a(k,"name",m),k.constructor=x}catch(_){}return x}}},8264:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(3331),o=n(6340),u="ArrayBuffer",s=a[u],c=i[u];r({global:!0,forced:c!==s},{ArrayBuffer:s}),o(u)},9575:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(7293),o=n(3331),u=n(9670),s=n(1400),c=n(7466),l=n(6707),f=o.ArrayBuffer,h=o.DataView,d=h.prototype,v=i(f.prototype.slice),p=i(d.getUint8),y=i(d.setUint8),g=a((function(){return!new f(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:g},{slice:function(e,t){if(v&&void 0===t)return v(u(this),e);var n=u(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(l(this,f))(c(i-r)),o=new h(this),d=new h(a),g=0;while(r<i)y(d,g++,p(o,r++));return a}})},2262:(e,t,n)=>{"use strict";var r=n(2109),i=n(7908),a=n(6244),o=n(9303),u=n(1223);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=a(t),r=o(e),u=r>=0?r:n+r;return u<0||u>=n?void 0:t[u]}}),u("at")},2222:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(7293),o=n(3157),u=n(111),s=n(7908),c=n(6244),l=n(6135),f=n(5417),h=n(1194),d=n(5112),v=n(7392),p=d("isConcatSpreadable"),y=9007199254740991,g="Maximum allowed index exceeded",m=i.TypeError,w=v>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),k=h("concat"),b=function(e){if(!u(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},x=!w||!k;r({target:"Array",proto:!0,forced:x},{concat:function(e){var t,n,r,i,a,o=s(this),u=f(o,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],b(a)){if(i=c(a),h+i>y)throw m(g);for(n=0;n<i;n++,h++)n in a&&l(u,h,a[n])}else{if(h>=y)throw m(g);l(u,h++,a)}return u.length=h,u}})},6541:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).every,a=n(9341),o=a("every");r({target:"Array",proto:!0,forced:!o},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},7327:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).filter,a=n(1194),o=a("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).findIndex,a=n(1223),o="findIndex",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},9826:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).find,a=n(1223),o="find",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},9554:(e,t,n)=>{"use strict";var r=n(2109),i=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},1038:(e,t,n)=>{var r=n(2109),i=n(8457),a=n(7072),o=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},6699:(e,t,n)=>{"use strict";var r=n(2109),i=n(1318).includes,a=n(1223);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},2772:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(1318).indexOf,o=n(9341),u=i([].indexOf),s=!!u&&1/u([1],1,-0)<0,c=o("indexOf");r({target:"Array",proto:!0,forced:s||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return s?u(this,e,t)||0:a(this,e,t)}})},9753:(e,t,n)=>{var r=n(2109),i=n(3157);r({target:"Array",stat:!0},{isArray:i})},6992:(e,t,n)=>{"use strict";var r=n(5656),i=n(1223),a=n(7497),o=n(9909),u=n(3070).f,s=n(654),c=n(1913),l=n(9781),f="Array Iterator",h=o.set,d=o.getterFor(f);e.exports=s(Array,"Array",(function(e,t){h(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var v=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==v.name)try{u(v,"name",{value:"values"})}catch(p){}},9600:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(8361),o=n(5656),u=n(9341),s=i([].join),c=a!=Object,l=u("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return s(o(this),void 0===e?",":e)}})},4986:(e,t,n)=>{var r=n(2109),i=n(6583);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},1249:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).map,a=n(1194),o=a("map");r({target:"Array",proto:!0,forced:!o},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:(e,t,n)=>{"use strict";var r=n(2109),i=n(3671).left,a=n(9341),o=n(7392),u=n(5268),s=a("reduce"),c=!u&&o>79&&o<83;r({target:"Array",proto:!0,forced:!s||c},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},5069:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(3157),o=i([].reverse),u=[1,2];r({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},7042:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(3157),o=n(4411),u=n(111),s=n(1400),c=n(6244),l=n(5656),f=n(6135),h=n(5112),d=n(1194),v=n(206),p=d("slice"),y=h("species"),g=i.Array,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,i,h=l(this),d=c(h),p=s(e,d),w=s(void 0===t?d:t,d);if(a(h)&&(n=h.constructor,o(n)&&(n===g||a(n.prototype))?n=void 0:u(n)&&(n=n[y],null===n&&(n=void 0)),n===g||void 0===n))return v(h,p,w);for(r=new(void 0===n?g:n)(m(w-p,0)),i=0;p<w;p++,i++)p in h&&f(r,i,h[p]);return r.length=i,r}})},5212:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).some,a=n(9341),o=a("some");r({target:"Array",proto:!0,forced:!o},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(9662),o=n(7908),u=n(6244),s=n(1340),c=n(7293),l=n(4362),f=n(9341),h=n(8886),d=n(256),v=n(7392),p=n(8008),y=[],g=i(y.sort),m=i(y.push),w=c((function(){y.sort(void 0)})),k=c((function(){y.sort(null)})),b=f("sort"),x=!c((function(){if(v)return v<70;if(!(h&&h>3)){if(d)return!0;if(p)return p<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:t+r,v:n})}for(y.sort((function(e,t){return t.v-e.v})),r=0;r<y.length;r++)t=y[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),_=w||!k||!b||!x,E=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:s(t)>s(n)?1:-1}};r({target:"Array",proto:!0,forced:_},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(x)return void 0===e?g(t):g(t,e);var n,r,i=[],s=u(t);for(r=0;r<s;r++)r in t&&m(i,t[r]);l(i,E(e)),n=i.length,r=0;while(r<n)t[r]=i[r++];while(r<s)delete t[r++];return t}})},561:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(1400),o=n(9303),u=n(6244),s=n(7908),c=n(5417),l=n(6135),f=n(1194),h=f("splice"),d=i.TypeError,v=Math.max,p=Math.min,y=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,i,f,h,m,w=s(this),k=u(w),b=a(e,k),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=k-b):(n=x-2,r=p(v(o(t),0),k-b)),k+n-r>y)throw d(g);for(i=c(w,r),f=0;f<r;f++)h=b+f,h in w&&l(i,f,w[h]);if(i.length=r,n<r){for(f=b;f<k-r;f++)h=f+r,m=f+n,h in w?w[m]=w[h]:delete w[m];for(f=k;f>k-r+n;f--)delete w[f-1]}else if(n>r)for(f=k-r;f>b;f--)h=f+r-1,m=f+n-1,h in w?w[m]=w[h]:delete w[m];for(f=0;f<n;f++)w[f+b]=arguments[f+2];return w.length=k-r+n,i}})},6716:(e,t,n)=>{var r=n(2109),i=n(3331),a=n(4019);r({global:!0,forced:!a},{DataView:i.DataView})},3843:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(1702),o=i.Date,u=a(o.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return u(new o)}})},8733:(e,t,n)=>{var r=n(2109),i=n(5573);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},3710:(e,t,n)=>{var r=n(1702),i=n(1320),a=Date.prototype,o="Invalid Date",u="toString",s=r(a[u]),c=r(a.getTime);String(new Date(NaN))!=o&&i(a,u,(function(){var e=c(this);return e===e?s(this):o}))},1703:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(2104),o=n(9191),u="WebAssembly",s=i[u],c=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=o(e,t,c),r({global:!0,forced:c},n)},f=function(e,t){if(s&&s[e]){var n={};n[e]=o(u+"."+e,t,c),r({target:u,stat:!0,forced:c},n)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},6647:(e,t,n)=>{var r=n(1320),i=n(7762),a=Error.prototype;a.toString!==i&&r(a,"toString",i)},4812:(e,t,n)=>{var r=n(2109),i=n(7065);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},8309:(e,t,n)=>{var r=n(9781),i=n(6530).EXISTS,a=n(1702),o=n(3070).f,u=Function.prototype,s=a(u.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(c.exec),f="name";r&&!i&&o(u,f,{configurable:!0,get:function(){try{return l(c,s(this))[1]}catch(e){return""}}})},5837:(e,t,n)=>{var r=n(2109),i=n(7854);r({global:!0},{globalThis:i})},8862:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(5005),o=n(2104),u=n(1702),s=n(7293),c=i.Array,l=a("JSON","stringify"),f=u(/./.exec),h=u("".charAt),d=u("".charCodeAt),v=u("".replace),p=u(1..toString),y=/[\uD800-\uDFFF]/g,g=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,w=function(e,t,n){var r=h(n,t-1),i=h(n,t+1);return f(g,e)&&!f(m,i)||f(m,e)&&!f(g,r)?"\\u"+p(d(e,0),16):e},k=s((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&r({target:"JSON",stat:!0,forced:k},{stringify:function(e,t,n){for(var r=0,i=arguments.length,a=c(i);r<i;r++)a[r]=arguments[r];var u=o(l,null,a);return"string"==typeof u?v(u,y,w):u}})},3706:(e,t,n)=>{var r=n(7854),i=n(8003);i(r.JSON,"JSON",!0)},1532:(e,t,n)=>{"use strict";var r=n(7710),i=n(5631);r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},2703:(e,t,n)=>{var r=n(8003);r(Math,"Math",!0)},9653:(e,t,n)=>{"use strict";var r=n(9781),i=n(7854),a=n(1702),o=n(4705),u=n(1320),s=n(2597),c=n(9587),l=n(7976),f=n(2190),h=n(7593),d=n(7293),v=n(8006).f,p=n(1236).f,y=n(3070).f,g=n(863),m=n(3111).trim,w="Number",k=i[w],b=k.prototype,x=i.TypeError,_=a("".slice),E=a("".charCodeAt),I=function(e){var t=h(e,"number");return"bigint"==typeof t?t:S(t)},S=function(e){var t,n,r,i,a,o,u,s,c=h(e,"number");if(f(c))throw x("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=m(c),t=E(c,0),43===t||45===t){if(n=E(c,2),88===n||120===n)return NaN}else if(48===t){switch(E(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=_(c,2),o=a.length,u=0;u<o;u++)if(s=E(a,u),s<48||s>i)return NaN;return parseInt(a,r)}return+c};if(o(w,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var T,A=function(e){var t=arguments.length<1?0:k(I(e)),n=this;return l(b,n)&&d((function(){g(n)}))?c(Object(t),n,A):t},R=r?v(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C=0;R.length>C;C++)s(k,T=R[C])&&!s(A,T)&&y(A,T,p(k,T));A.prototype=b,b.constructor=A,u(i,w,A)}},5192:(e,t,n)=>{var r=n(2109),i=n(7023);r({target:"Number",stat:!0},{isFinite:i})},3161:(e,t,n)=>{var r=n(2109),i=n(5988);r({target:"Number",stat:!0},{isInteger:i})},4363:(e,t,n)=>{var r=n(2109);r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},5994:(e,t,n)=>{var r=n(2109);r({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},9601:(e,t,n)=>{var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},8011:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(30);r({target:"Object",stat:!0,sham:!i},{create:a})},3321:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(6048).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},9070:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},9720:(e,t,n)=>{var r=n(2109),i=n(4699).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},3371:(e,t,n)=>{var r=n(2109),i=n(6677),a=n(7293),o=n(111),u=n(2423).onFreeze,s=Object.freeze,c=a((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return s&&o(e)?s(u(e)):e}})},5003:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(5656),o=n(1236).f,u=n(9781),s=i((function(){o(1)})),c=!u||s;r({target:"Object",stat:!0,forced:c,sham:!u},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},9337:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(3887),o=n(5656),u=n(1236),s=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=u.f,c=a(r),l={},f=0;while(c.length>f)n=i(r,t=c[f++]),void 0!==n&&s(l,t,n);return l}})},6210:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(1156).f,o=i((function(){return!Object.getOwnPropertyNames(1)}));r({target:"Object",stat:!0,forced:o},{getOwnPropertyNames:a})},489:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(7908),o=n(9518),u=n(8544),s=i((function(){o(1)}));r({target:"Object",stat:!0,forced:s,sham:!u},{getPrototypeOf:function(e){return o(a(e))}})},1825:(e,t,n)=>{var r=n(2109),i=n(2050);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},3304:(e,t,n)=>{var r=n(2109),i=n(1150);r({target:"Object",stat:!0},{is:i})},7941:(e,t,n)=>{var r=n(2109),i=n(7908),a=n(1956),o=n(7293),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:u},{keys:function(e){return a(i(e))}})},8304:(e,t,n)=>{var r=n(2109),i=n(7674);r({target:"Object",stat:!0},{setPrototypeOf:i})},1539:(e,t,n)=>{var r=n(1694),i=n(1320),a=n(288);r||i(Object.prototype,"toString",a,{unsafe:!0})},2479:(e,t,n)=>{var r=n(2109),i=n(4699).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},4678:(e,t,n)=>{var r=n(2109),i=n(2814);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},1058:(e,t,n)=>{var r=n(2109),i=n(3009);r({global:!0,forced:parseInt!=i},{parseInt:i})},7727:(e,t,n)=>{"use strict";var r=n(2109),i=n(1913),a=n(3366),o=n(7293),u=n(5005),s=n(614),c=n(6707),l=n(9478),f=n(1320),h=!!a&&o((function(){a.prototype["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=c(this,u("Promise")),n=s(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&s(a)){var d=u("Promise").prototype["finally"];a.prototype["finally"]!==d&&f(a.prototype,"finally",d,{unsafe:!0})}},8674:(e,t,n)=>{"use strict";var r,i,a,o,u=n(2109),s=n(1913),c=n(7854),l=n(5005),f=n(6916),h=n(3366),d=n(1320),v=n(2248),p=n(7674),y=n(8003),g=n(6340),m=n(9662),w=n(614),k=n(111),b=n(5787),x=n(2788),_=n(408),E=n(7072),I=n(6707),S=n(261).set,T=n(5948),A=n(9478),R=n(842),C=n(8523),Z=n(2534),D=n(8572),O=n(9909),N=n(4705),M=n(5112),L=n(7871),P=n(5268),F=n(7392),V=M("species"),j="Promise",U=O.getterFor(j),B=O.set,q=O.getterFor(j),G=h&&h.prototype,K=h,z=G,W=c.TypeError,H=c.document,Q=c.process,Y=C.f,$=Y,J=!!(H&&H.createEvent&&c.dispatchEvent),X=w(c.PromiseRejectionEvent),ee="unhandledrejection",te="rejectionhandled",ne=0,re=1,ie=2,ae=1,oe=2,ue=!1,se=N(j,(function(){var e=x(K),t=e!==String(K);if(!t&&66===F)return!0;if(s&&!z["finally"])return!0;if(F>=51&&/native code/.test(e))return!1;var n=new K((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},i=n.constructor={};return i[V]=r,ue=n.then((function(){}))instanceof r,!ue||!t&&L&&!X})),ce=se||!E((function(e){K.all(e)["catch"]((function(){}))})),le=function(e){var t;return!(!k(e)||!w(t=e.then))&&t},fe=function(e,t){var n,r,i,a=t.value,o=t.state==re,u=o?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{u?(o||(t.rejection===oe&&ye(t),t.rejection=ae),!0===u?n=a:(l&&l.enter(),n=u(a),l&&(l.exit(),i=!0)),n===e.promise?c(W("Promise-chain cycle")):(r=le(n))?f(r,n,s,c):s(n)):c(a)}catch(h){l&&!i&&l.exit(),c(h)}},he=function(e,t){e.notified||(e.notified=!0,T((function(){var n,r=e.reactions;while(n=r.get())fe(n,e);e.notified=!1,t&&!e.rejection&&ve(e)})))},de=function(e,t,n){var r,i;J?(r=H.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!X&&(i=c["on"+e])?i(r):e===ee&&R("Unhandled promise rejection",n)},ve=function(e){f(S,c,(function(){var t,n=e.facade,r=e.value,i=pe(e);if(i&&(t=Z((function(){P?Q.emit("unhandledRejection",r,n):de(ee,n,r)})),e.rejection=P||pe(e)?oe:ae,t.error))throw t.value}))},pe=function(e){return e.rejection!==ae&&!e.parent},ye=function(e){f(S,c,(function(){var t=e.facade;P?Q.emit("rejectionHandled",t):de(te,t,e.value)}))},ge=function(e,t,n){return function(r){e(t,r,n)}},me=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=ie,he(e,!0))},we=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw W("Promise can't be resolved itself");var r=le(t);r?T((function(){var n={done:!1};try{f(r,t,ge(we,n,e),ge(me,n,e))}catch(i){me(n,i,e)}})):(e.value=t,e.state=re,he(e,!1))}catch(i){me({done:!1},i,e)}}};if(se&&(K=function(e){b(this,z),m(e),f(r,this);var t=U(this);try{e(ge(we,t),ge(me,t))}catch(n){me(t,n)}},z=K.prototype,r=function(e){B(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:ne,value:void 0})},r.prototype=v(z,{then:function(e,t){var n=q(this),r=Y(I(this,K));return n.parent=!0,r.ok=!w(e)||e,r.fail=w(t)&&t,r.domain=P?Q.domain:void 0,n.state==ne?n.reactions.add(r):T((function(){fe(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=U(e);this.promise=e,this.resolve=ge(we,t),this.reject=ge(me,t)},C.f=Y=function(e){return e===K||e===a?new i(e):$(e)},!s&&w(h)&&G!==Object.prototype)){o=G.then,ue||(d(G,"then",(function(e,t){var n=this;return new K((function(e,t){f(o,n,e,t)})).then(e,t)}),{unsafe:!0}),d(G,"catch",z["catch"],{unsafe:!0}));try{delete G.constructor}catch(ke){}p&&p(G,z)}u({global:!0,wrap:!0,forced:se},{Promise:K}),y(K,j,!1,!0),g(j),a=l(j),u({target:j,stat:!0,forced:se},{reject:function(e){var t=Y(this);return f(t.reject,void 0,e),t.promise}}),u({target:j,stat:!0,forced:s||se},{resolve:function(e){return A(s&&this===a?K:this,e)}}),u({target:j,stat:!0,forced:ce},{all:function(e){var t=this,n=Y(t),r=n.resolve,i=n.reject,a=Z((function(){var n=m(t.resolve),a=[],o=0,u=1;_(e,(function(e){var s=o++,c=!1;u++,f(n,t,e).then((function(e){c||(c=!0,a[s]=e,--u||r(a))}),i)})),--u||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=Y(t),r=n.reject,i=Z((function(){var i=m(t.resolve);_(e,(function(e){f(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},2419:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(2104),o=n(7065),u=n(9483),s=n(9670),c=n(111),l=n(30),f=n(7293),h=i("Reflect","construct"),d=Object.prototype,v=[].push,p=f((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),y=!f((function(){h((function(){}))})),g=p||y;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){u(e),s(t);var n=arguments.length<3?e:u(arguments[2]);if(y&&!p)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(v,r,t),new(a(o,e,r))}var i=n.prototype,f=l(c(i)?i:d),g=a(e,f,t);return c(g)?g:f}})},9596:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(9670),o=n(4948),u=n(3070),s=n(7293),c=s((function(){Reflect.defineProperty(u.f({},1,{value:1}),1,{value:2})}));r({target:"Reflect",stat:!0,forced:c,sham:!i},{defineProperty:function(e,t,n){a(e);var r=o(t);a(n);try{return u.f(e,r,n),!0}catch(i){return!1}}})},2586:(e,t,n)=>{var r=n(2109),i=n(9670),a=n(1236).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=a(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},9361:(e,t,n)=>{var r=n(2109),i=n(9670),a=n(9518),o=n(8544);r({target:"Reflect",stat:!0,sham:!o},{getPrototypeOf:function(e){return a(i(e))}})},4819:(e,t,n)=>{var r=n(2109),i=n(6916),a=n(111),o=n(9670),u=n(5032),s=n(1236),c=n(9518);function l(e,t){var n,r,f=arguments.length<3?e:arguments[2];return o(e)===f?e[t]:(n=s.f(e,t),n?u(n)?n.value:void 0===n.get?void 0:i(n.get,f):a(r=c(e))?l(r,t,f):void 0)}r({target:"Reflect",stat:!0},{get:l})},1037:(e,t,n)=>{var r=n(2109);r({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},7318:(e,t,n)=>{var r=n(2109),i=n(3887);r({target:"Reflect",stat:!0},{ownKeys:i})},3593:(e,t,n)=>{var r=n(2109),i=n(6916),a=n(9670),o=n(111),u=n(5032),s=n(7293),c=n(3070),l=n(1236),f=n(9518),h=n(9114);function d(e,t,n){var r,s,v,p=arguments.length<4?e:arguments[3],y=l.f(a(e),t);if(!y){if(o(s=f(e)))return d(s,t,n,p);y=h(0)}if(u(y)){if(!1===y.writable||!o(p))return!1;if(r=l.f(p,t)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,c.f(p,t,r)}else c.f(p,t,h(0,n))}else{if(v=y.set,void 0===v)return!1;i(v,p,n)}return!0}var v=s((function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}));r({target:"Reflect",stat:!0,forced:v},{set:d})},1299:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(8003);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},4603:(e,t,n)=>{var r=n(9781),i=n(7854),a=n(1702),o=n(4705),u=n(9587),s=n(8880),c=n(3070).f,l=n(8006).f,f=n(7976),h=n(7850),d=n(1340),v=n(7066),p=n(2999),y=n(1320),g=n(7293),m=n(2597),w=n(9909).enforce,k=n(6340),b=n(5112),x=n(9441),_=n(7168),E=b("match"),I=i.RegExp,S=I.prototype,T=i.SyntaxError,A=a(v),R=a(S.exec),C=a("".charAt),Z=a("".replace),D=a("".indexOf),O=a("".slice),N=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,L=/a/g,P=new I(M)!==M,F=p.MISSED_STICKY,V=p.UNSUPPORTED_Y,j=r&&(!P||F||x||_||g((function(){return L[E]=!1,I(M)!=M||I(L)==L||"/a/i"!=I(M,"i")}))),U=function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)t=C(e,r),"\\"!==t?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+C(e,++r);return i},B=function(e){for(var t,n=e.length,r=0,i="",a=[],o={},u=!1,s=!1,c=0,l="";r<=n;r++){if(t=C(e,r),"\\"===t)t+=C(e,++r);else if("]"===t)u=!1;else if(!u)switch(!0){case"["===t:u=!0;break;case"("===t:R(N,O(e,r+1))&&(r+=2,s=!0),i+=t,c++;continue;case">"===t&&s:if(""===l||m(o,l))throw new T("Invalid capture group name");o[l]=!0,a[a.length]=[l,c],s=!1,l="";continue}s?l+=t:i+=t}return[i,a]};if(o("RegExp",j)){for(var q=function(e,t){var n,r,i,a,o,c,l=f(S,this),v=h(e),p=void 0===t,y=[],g=e;if(!l&&v&&p&&e.constructor===q)return e;if((v||f(S,e))&&(e=e.source,p&&(t="flags"in g?g.flags:A(g))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),g=e,x&&"dotAll"in M&&(r=!!t&&D(t,"s")>-1,r&&(t=Z(t,/s/g,""))),n=t,F&&"sticky"in M&&(i=!!t&&D(t,"y")>-1,i&&V&&(t=Z(t,/y/g,""))),_&&(a=B(e),e=a[0],y=a[1]),o=u(I(e,t),l?this:S,q),(r||i||y.length)&&(c=w(o),r&&(c.dotAll=!0,c.raw=q(U(e),n)),i&&(c.sticky=!0),y.length&&(c.groups=y)),e!==g)try{s(o,"source",""===g?"(?:)":g)}catch(m){}return o},G=function(e){e in q||c(q,e,{configurable:!0,get:function(){return I[e]},set:function(t){I[e]=t}})},K=l(I),z=0;K.length>z;)G(K[z++]);S.constructor=q,q.prototype=S,y(i,"RegExp",q)}k("RegExp")},8450:(e,t,n)=>{var r=n(7854),i=n(9781),a=n(9441),o=n(4326),u=n(3070).f,s=n(9909).get,c=RegExp.prototype,l=r.TypeError;i&&a&&u(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!s(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},4916:(e,t,n)=>{"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8386:(e,t,n)=>{var r=n(7854),i=n(9781),a=n(2999).MISSED_STICKY,o=n(4326),u=n(3070).f,s=n(9909).get,c=RegExp.prototype,l=r.TypeError;i&&a&&u(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!s(this).sticky;throw l("Incompatible receiver, RegExp required")}}})},7601:(e,t,n)=>{"use strict";n(4916);var r=n(2109),i=n(7854),a=n(6916),o=n(1702),u=n(614),s=n(111),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=i.Error,f=o(/./.test);r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!u(t))return f(this,e);var n=a(t,this,e);if(null!==n&&!s(n))throw new l("RegExp exec method returned something other than an Object or null");return!!n}})},9714:(e,t,n)=>{"use strict";var r=n(1702),i=n(6530).PROPER,a=n(1320),o=n(9670),u=n(7976),s=n(1340),c=n(7293),l=n(7066),f="toString",h=RegExp.prototype,d=h[f],v=r(l),p=c((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),y=i&&d.name!=f;(p||y)&&a(RegExp.prototype,f,(function(){var e=o(this),t=s(e.source),n=e.flags,r=s(void 0===n&&u(h,e)&&!("flags"in h)?v(e):n);return"/"+t+"/"+r}),{unsafe:!0})},189:(e,t,n)=>{"use strict";var r=n(7710),i=n(5631);r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},5218:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230),a=n(3429);r({target:"String",proto:!0,forced:a("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},4506:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(4488),o=n(9303),u=n(1340),s=n(7293),c=i("".charAt),l=s((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:l},{at:function(e){var t=u(a(this)),n=t.length,r=o(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(t,i)}})},9841:(e,t,n)=>{"use strict";var r=n(2109),i=n(8710).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},7852:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(1236).f,o=n(7466),u=n(1340),s=n(3929),c=n(4488),l=n(4964),f=n(1913),h=i("".endsWith),d=i("".slice),v=Math.min,p=l("endsWith"),y=!f&&!p&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!y&&!p},{endsWith:function(e){var t=u(c(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:v(o(n),r),a=u(e);return h?h(t,a,i):d(t,i-a.length,i)===a}})},2023:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(3929),o=n(4488),u=n(1340),s=n(4964),c=i("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~c(u(o(this)),u(a(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,n)=>{"use strict";var r=n(8710).charAt,i=n(1340),a=n(9909),o=n(654),u="String Iterator",s=a.set,c=a.getterFor(u);o(String,"String",(function(e){s(this,{type:u,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},4723:(e,t,n)=>{"use strict";var r=n(6916),i=n(7007),a=n(9670),o=n(7466),u=n(1340),s=n(4488),c=n(8173),l=n(1530),f=n(7651);i("match",(function(e,t,n){return[function(t){var n=s(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=a(this),i=u(e),s=n(t,r,i);if(s.done)return s.value;if(!r.global)return f(r,i);var c=r.unicode;r.lastIndex=0;var h,d=[],v=0;while(null!==(h=f(r,i))){var p=u(h[0]);d[v]=p,""===p&&(r.lastIndex=l(i,o(r.lastIndex),c)),v++}return 0===v?null:d}]}))},3112:(e,t,n)=>{"use strict";var r=n(2109),i=n(6650).start,a=n(7061);r({target:"String",proto:!0,forced:a},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2481:(e,t,n)=>{var r=n(2109),i=n(8415);r({target:"String",proto:!0},{repeat:i})},5306:(e,t,n)=>{"use strict";var r=n(2104),i=n(6916),a=n(1702),o=n(7007),u=n(7293),s=n(9670),c=n(614),l=n(9303),f=n(7466),h=n(1340),d=n(4488),v=n(1530),p=n(8173),y=n(647),g=n(7651),m=n(5112),w=m("replace"),k=Math.max,b=Math.min,x=a([].concat),_=a([].push),E=a("".indexOf),I=a("".slice),S=function(e){return void 0===e?e:String(e)},T=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),R=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var a=A?"$":"$0";return[function(e,n){var r=d(this),a=void 0==e?void 0:p(e,w);return a?i(a,e,r,n):i(t,h(r),e,n)},function(e,i){var o=s(this),u=h(e);if("string"==typeof i&&-1===E(i,a)&&-1===E(i,"$<")){var d=n(t,o,u,i);if(d.done)return d.value}var p=c(i);p||(i=h(i));var m=o.global;if(m){var w=o.unicode;o.lastIndex=0}var T=[];while(1){var A=g(o,u);if(null===A)break;if(_(T,A),!m)break;var R=h(A[0]);""===R&&(o.lastIndex=v(u,f(o.lastIndex),w))}for(var C="",Z=0,D=0;D<T.length;D++){A=T[D];for(var O=h(A[0]),N=k(b(l(A.index),u.length),0),M=[],L=1;L<A.length;L++)_(M,S(A[L]));var P=A.groups;if(p){var F=x([O],M,N,u);void 0!==P&&_(F,P);var V=h(r(i,void 0,F))}else V=y(O,u,N,M,P,i);N>=Z&&(C+=I(u,Z,N)+V,Z=N+O.length)}return C+I(u,Z)}]}),!R||!T||A)},4765:(e,t,n)=>{"use strict";var r=n(6916),i=n(7007),a=n(9670),o=n(4488),u=n(1150),s=n(1340),c=n(8173),l=n(7651);i("search",(function(e,t,n){return[function(t){var n=o(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=a(this),i=s(e),o=n(t,r,i);if(o.done)return o.value;var c=r.lastIndex;u(c,0)||(r.lastIndex=0);var f=l(r,i);return u(r.lastIndex,c)||(r.lastIndex=c),null===f?-1:f.index}]}))},3123:(e,t,n)=>{"use strict";var r=n(2104),i=n(6916),a=n(1702),o=n(7007),u=n(7850),s=n(9670),c=n(4488),l=n(6707),f=n(1530),h=n(7466),d=n(1340),v=n(8173),p=n(1589),y=n(7651),g=n(2261),m=n(2999),w=n(7293),k=m.UNSUPPORTED_Y,b=4294967295,x=Math.min,_=[].push,E=a(/./.exec),I=a(_),S=a("".slice),T=!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=d(c(this)),o=void 0===n?b:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!u(e))return i(t,a,e,o);var s,l,f,h=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),y=0,m=new RegExp(e.source,v+"g");while(s=i(g,m,a)){if(l=m.lastIndex,l>y&&(I(h,S(a,y,s.index)),s.length>1&&s.index<a.length&&r(_,h,p(s,1)),f=s[0].length,y=l,h.length>=o))break;m.lastIndex===s.index&&m.lastIndex++}return y===a.length?!f&&E(m,"")||I(h,""):I(h,S(a,y)),h.length>o?p(h,0,o):h}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),o=void 0==t?void 0:v(t,e);return o?i(o,t,r,n):i(a,d(r),t,n)},function(e,r){var i=s(this),o=d(e),u=n(a,i,o,r,a!==t);if(u.done)return u.value;var c=l(i,RegExp),v=i.unicode,p=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(k?"g":"y"),g=new c(k?"^(?:"+i.source+")":i,p),m=void 0===r?b:r>>>0;if(0===m)return[];if(0===o.length)return null===y(g,o)?[o]:[];var w=0,_=0,E=[];while(_<o.length){g.lastIndex=k?0:_;var T,A=y(g,k?S(o,_):o);if(null===A||(T=x(h(g.lastIndex+(k?_:0)),o.length))===w)_=f(o,_,v);else{if(I(E,S(o,w,_)),E.length===m)return E;for(var R=1;R<=A.length-1;R++)if(I(E,A[R]),E.length===m)return E;_=w=T}}return I(E,S(o,w)),E}]}),!T,k)},6755:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(1236).f,o=n(7466),u=n(1340),s=n(3929),c=n(4488),l=n(4964),f=n(1913),h=i("".startsWith),d=i("".slice),v=Math.min,p=l("startsWith"),y=!f&&!p&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!y&&!p},{startsWith:function(e){var t=u(c(this));s(e);var n=o(v(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return h?h(t,r,n):d(t,n,n+r.length)===r}})},86:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230),a=n(3429);r({target:"String",proto:!0,forced:a("sub")},{sub:function(){return i(this,"sub","","")}})},3650:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(4488),o=n(9303),u=n(1340),s=i("".slice),c=Math.max,l=Math.min,f=!"".substr||"b"!=="ab".substr(-1);r({target:"String",proto:!0,forced:f},{substr:function(e,t){var n,r,i=u(a(this)),f=i.length,h=o(e);return h===1/0&&(h=0),h<0&&(h=c(f+h,0)),n=void 0===t?f:o(t),n<=0||n===1/0?"":(r=l(h+n,f),h>=r?"":s(i,h,r))}})},3210:(e,t,n)=>{"use strict";var r=n(2109),i=n(3111).trim,a=n(6091);r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},2443:(e,t,n)=>{var r=n(7235);r("asyncIterator")},1817:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),a=n(7854),o=n(1702),u=n(2597),s=n(614),c=n(7976),l=n(1340),f=n(3070).f,h=n(9920),d=a.Symbol,v=d&&d.prototype;if(i&&s(d)&&(!("description"in v)||void 0!==d().description)){var p={},y=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(v,this)?new d(e):void 0===e?d():d(e);return""===e&&(p[t]=!0),t};h(y,d),y.prototype=v,v.constructor=y;var g="Symbol(test)"==String(d("test")),m=o(v.toString),w=o(v.valueOf),k=/^Symbol\((.*)\)[^)]+$/,b=o("".replace),x=o("".slice);f(v,"description",{configurable:!0,get:function(){var e=w(this),t=m(e);if(u(p,e))return"";var n=g?x(t,7,-1):b(t,k,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:y})}},2165:(e,t,n)=>{var r=n(7235);r("iterator")},2526:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(5005),o=n(2104),u=n(6916),s=n(1702),c=n(1913),l=n(9781),f=n(133),h=n(7293),d=n(2597),v=n(3157),p=n(614),y=n(111),g=n(7976),m=n(2190),w=n(9670),k=n(7908),b=n(5656),x=n(4948),_=n(1340),E=n(9114),I=n(30),S=n(1956),T=n(8006),A=n(1156),R=n(5181),C=n(1236),Z=n(3070),D=n(6048),O=n(5296),N=n(206),M=n(1320),L=n(2309),P=n(6200),F=n(3501),V=n(9711),j=n(5112),U=n(6061),B=n(7235),q=n(8003),G=n(9909),K=n(2092).forEach,z=P("hidden"),W="Symbol",H="prototype",Q=j("toPrimitive"),Y=G.set,$=G.getterFor(W),J=Object[H],X=i.Symbol,ee=X&&X[H],te=i.TypeError,ne=i.QObject,re=a("JSON","stringify"),ie=C.f,ae=Z.f,oe=A.f,ue=O.f,se=s([].push),ce=L("symbols"),le=L("op-symbols"),fe=L("string-to-symbol-registry"),he=L("symbol-to-string-registry"),de=L("wks"),ve=!ne||!ne[H]||!ne[H].findChild,pe=l&&h((function(){return 7!=I(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ie(J,t);r&&delete J[t],ae(e,t,n),r&&e!==J&&ae(J,t,r)}:ae,ye=function(e,t){var n=ce[e]=I(ee);return Y(n,{type:W,tag:e,description:t}),l||(n.description=t),n},ge=function(e,t,n){e===J&&ge(le,t,n),w(e);var r=x(t);return w(n),d(ce,r)?(n.enumerable?(d(e,z)&&e[z][r]&&(e[z][r]=!1),n=I(n,{enumerable:E(0,!1)})):(d(e,z)||ae(e,z,E(1,{})),e[z][r]=!0),pe(e,r,n)):ae(e,r,n)},me=function(e,t){w(e);var n=b(t),r=S(n).concat(_e(n));return K(r,(function(t){l&&!u(ke,n,t)||ge(e,t,n[t])})),e},we=function(e,t){return void 0===t?I(e):me(I(e),t)},ke=function(e){var t=x(e),n=u(ue,this,t);return!(this===J&&d(ce,t)&&!d(le,t))&&(!(n||!d(this,t)||!d(ce,t)||d(this,z)&&this[z][t])||n)},be=function(e,t){var n=b(e),r=x(t);if(n!==J||!d(ce,r)||d(le,r)){var i=ie(n,r);return!i||!d(ce,r)||d(n,z)&&n[z][r]||(i.enumerable=!0),i}},xe=function(e){var t=oe(b(e)),n=[];return K(t,(function(e){d(ce,e)||d(F,e)||se(n,e)})),n},_e=function(e){var t=e===J,n=oe(t?le:b(e)),r=[];return K(n,(function(e){!d(ce,e)||t&&!d(J,e)||se(r,ce[e])})),r};if(f||(X=function(){if(g(ee,this))throw te("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?_(arguments[0]):void 0,t=V(e),n=function(e){this===J&&u(n,le,e),d(this,z)&&d(this[z],t)&&(this[z][t]=!1),pe(this,t,E(1,e))};return l&&ve&&pe(J,t,{configurable:!0,set:n}),ye(t,e)},ee=X[H],M(ee,"toString",(function(){return $(this).tag})),M(X,"withoutSetter",(function(e){return ye(V(e),e)})),O.f=ke,Z.f=ge,D.f=me,C.f=be,T.f=A.f=xe,R.f=_e,U.f=function(e){return ye(j(e),e)},l&&(ae(ee,"description",{configurable:!0,get:function(){return $(this).description}}),c||M(J,"propertyIsEnumerable",ke,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:X}),K(S(de),(function(e){B(e)})),r({target:W,stat:!0,forced:!f},{for:function(e){var t=_(e);if(d(fe,t))return fe[t];var n=X(t);return fe[t]=n,he[n]=t,n},keyFor:function(e){if(!m(e))throw te(e+" is not a symbol");if(d(he,e))return he[e]},useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!l},{create:we,defineProperty:ge,defineProperties:me,getOwnPropertyDescriptor:be}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:xe,getOwnPropertySymbols:_e}),r({target:"Object",stat:!0,forced:h((function(){R.f(1)}))},{getOwnPropertySymbols:function(e){return R.f(k(e))}}),re){var Ee=!f||h((function(){var e=X();return"[null]"!=re([e])||"{}"!=re({a:e})||"{}"!=re(Object(e))}));r({target:"JSON",stat:!0,forced:Ee},{stringify:function(e,t,n){var r=N(arguments),i=t;if((y(t)||void 0!==e)&&!m(e))return v(t)||(t=function(e,t){if(p(i)&&(t=u(i,this,e,t)),!m(t))return t}),r[1]=t,o(re,null,r)}})}if(!ee[Q]){var Ie=ee.valueOf;M(ee,Q,(function(e){return u(Ie,this)}))}q(X,W),F[z]=!0},3680:(e,t,n)=>{var r=n(7235);r("toStringTag")},543:(e,t,n)=>{var r=n(7235);r("unscopables")},8675:(e,t,n)=>{"use strict";var r=n(260),i=n(6244),a=n(9303),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("at",(function(e){var t=o(this),n=i(t),r=a(e),u=r>=0?r:n+r;return u<0||u>=n?void 0:t[u]}))},2990:(e,t,n)=>{"use strict";var r=n(1702),i=n(260),a=n(1048),o=r(a),u=i.aTypedArray,s=i.exportTypedArrayMethod;s("copyWithin",(function(e,t){return o(u(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).every,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:(e,t,n)=>{"use strict";var r=n(260),i=n(6916),a=n(1285),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("fill",(function(e){var t=arguments.length;return i(a,o(this),e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}))},5035:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).filter,a=n(3074),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},7174:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).findIndex,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).find,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).forEach,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:(e,t,n)=>{"use strict";var r=n(260),i=n(1318).includes,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:(e,t,n)=>{"use strict";var r=n(260),i=n(1318).indexOf,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:(e,t,n)=>{"use strict";var r=n(7854),i=n(7293),a=n(1702),o=n(260),u=n(6992),s=n(5112),c=s("iterator"),l=r.Uint8Array,f=a(u.values),h=a(u.keys),d=a(u.entries),v=o.aTypedArray,p=o.exportTypedArrayMethod,y=l&&l.prototype,g=!i((function(){y[c].call([1])})),m=!!y&&y.values&&y[c]===y.values&&"values"===y.values.name,w=function(){return f(v(this))};p("entries",(function(){return d(v(this))}),g),p("keys",(function(){return h(v(this))}),g),p("values",w,g||!m,{name:"values"}),p(c,w,g||!m,{name:"values"})},8867:(e,t,n)=>{"use strict";var r=n(260),i=n(1702),a=r.aTypedArray,o=r.exportTypedArrayMethod,u=i([].join);o("join",(function(e){return u(a(this),e)}))},7789:(e,t,n)=>{"use strict";var r=n(260),i=n(2104),a=n(6583),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},3739:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).map,a=n(6304),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},4483:(e,t,n)=>{"use strict";var r=n(260),i=n(3671).right,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},9368:(e,t,n)=>{"use strict";var r=n(260),i=n(3671).left,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},2056:(e,t,n)=>{"use strict";var r=n(260),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){var e,t=this,n=i(t).length,r=o(n/2),a=0;while(a<r)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},3462:(e,t,n)=>{"use strict";var r=n(7854),i=n(6916),a=n(260),o=n(6244),u=n(4590),s=n(7908),c=n(7293),l=r.RangeError,f=r.Int8Array,h=f&&f.prototype,d=h&&h.set,v=a.aTypedArray,p=a.exportTypedArrayMethod,y=!c((function(){var e=new Uint8ClampedArray(2);return i(d,e,{length:1,0:3},1),3!==e[1]})),g=y&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));p("set",(function(e){v(this);var t=u(arguments.length>1?arguments[1]:void 0,1),n=s(e);if(y)return i(d,this,n,t);var r=this.length,a=o(n),c=0;if(a+t>r)throw l("Wrong length");while(c<a)this[t+c]=n[c++]}),!y||g)},678:(e,t,n)=>{"use strict";var r=n(260),i=n(6304),a=n(7293),o=n(206),u=r.aTypedArray,s=r.exportTypedArrayMethod,c=a((function(){new Int8Array(1).slice()}));s("slice",(function(e,t){var n=o(u(this),e,t),r=i(this),a=0,s=n.length,c=new r(s);while(s>a)c[a]=n[a++];return c}),c)},7462:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).some,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:(e,t,n)=>{"use strict";var r=n(7854),i=n(1702),a=n(7293),o=n(9662),u=n(4362),s=n(260),c=n(8886),l=n(256),f=n(7392),h=n(8008),d=r.Array,v=s.aTypedArray,p=s.exportTypedArrayMethod,y=r.Uint16Array,g=y&&i(y.prototype.sort),m=!!g&&!(a((function(){g(new y(2),null)}))&&a((function(){g(new y(2),{})}))),w=!!g&&!a((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(h)return h<602;var e,t,n=new y(516),r=d(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(g(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),k=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};p("sort",(function(e){return void 0!==e&&o(e),w?g(this,e):u(v(this),k(e))}),!w||m)},5021:(e,t,n)=>{"use strict";var r=n(260),i=n(7466),a=n(1400),o=n(6304),u=r.aTypedArray,s=r.exportTypedArrayMethod;s("subarray",(function(e,t){var n=u(this),r=n.length,s=a(e,r),c=o(n);return new c(n.buffer,n.byteOffset+s*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-s))}))},2974:(e,t,n)=>{"use strict";var r=n(7854),i=n(2104),a=n(260),o=n(7293),u=n(206),s=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,f=[].toLocaleString,h=!!s&&o((function(){f.call(new s(1))})),d=o((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!o((function(){s.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return i(f,h?u(c(this)):c(this),u(arguments))}),d)},5016:(e,t,n)=>{"use strict";var r=n(260).exportTypedArrayMethod,i=n(7293),a=n(7854),o=n(1702),u=a.Uint8Array,s=u&&u.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var f=s.toString!=c;r("toString",c,f)},2472:(e,t,n)=>{var r=n(9843);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},4129:(e,t,n)=>{"use strict";var r,i=n(7854),a=n(1702),o=n(2248),u=n(2423),s=n(7710),c=n(9320),l=n(111),f=n(2050),h=n(9909).enforce,d=n(8536),v=!i.ActiveXObject&&"ActiveXObject"in i,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},y=s("WeakMap",p,c);if(d&&v){r=c.getConstructor(p,"WeakMap",!0),u.enable();var g=y.prototype,m=a(g["delete"]),w=a(g.has),k=a(g.get),b=a(g.set);o(g,{delete:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),m(this,e)||t.frozen["delete"](e)}return m(this,e)},has:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),w(this,e)||t.frozen.has(e)}return w(this,e)},get:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),w(this,e)?k(this,e):t.frozen.get(e)}return k(this,e)},set:function(e,t){if(l(e)&&!f(e)){var n=h(this);n.frozen||(n.frozen=new r),w(this,e)?b(this,e,t):n.frozen.set(e,t)}else b(this,e,t);return this}})}},5505:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(1702),o=n(7293),u=n(1340),s=n(2597),c=n(8053),l=n(4170).ctoi,f=/[^\d+/a-z]/i,h=/[\t\n\f\r ]+/g,d=/[=]+$/,v=i("atob"),p=String.fromCharCode,y=a("".charAt),g=a("".replace),m=a(f.exec),w=o((function(){return""!==atob(" ")})),k=!w&&!o((function(){v()}));r({global:!0,enumerable:!0,forced:w||k},{atob:function(e){if(c(arguments.length,1),k)return v(e);var t,n,r=g(u(e),h,""),a="",o=0,w=0;if(r.length%4==0&&(r=g(r,d,"")),r.length%4==1||m(f,r))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(t=y(r,o++))s(l,t)&&(n=w%4?64*n+l[t]:l[t],w++%4&&(a+=p(255&n>>(-2*w&6))));return a}})},7479:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(1702),o=n(7293),u=n(1340),s=n(8053),c=n(4170).itoc,l=i("btoa"),f=a("".charAt),h=a("".charCodeAt),d=!!l&&!o((function(){l()}));r({global:!0,enumerable:!0,forced:d},{btoa:function(e){if(s(arguments.length,1),d)return l(e);var t,n,r=u(e),a="",o=0,v=c;while(f(r,o)||(v="=",o%1)){if(n=h(r,o+=3/4),n>255)throw new(i("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");t=t<<8|n,a+=f(v,63&t>>8-o%1*8)}return a}})},4747:(e,t,n)=>{var r=n(7854),i=n(8324),a=n(8509),o=n(8533),u=n(8880),s=function(e){if(e&&e.forEach!==o)try{u(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&s(r[c]&&r[c].prototype);s(a)},3948:(e,t,n)=>{var r=n(7854),i=n(8324),a=n(8509),o=n(6992),u=n(8880),s=n(5112),c=s("iterator"),l=s("toStringTag"),f=o.values,h=function(e,t){if(e){if(e[c]!==f)try{u(e,c,f)}catch(r){e[c]=f}if(e[l]||u(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{u(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var d in i)h(r[d]&&r[d].prototype,d);h(a,"DOMTokenList")},7714:(e,t,n)=>{"use strict";var r=n(2109),i=n(4038),a=n(5005),o=n(7293),u=n(30),s=n(9114),c=n(3070).f,l=n(6048).f,f=n(1320),h=n(2597),d=n(5787),v=n(9670),p=n(7762),y=n(6277),g=n(3678),m=n(7741),w=n(9909),k=n(9781),b=n(1913),x="DOMException",_="DATA_CLONE_ERR",E=a("Error"),I=a(x)||function(){try{var e=a("MessageChannel")||i("worker_threads").MessageChannel;(new e).port1.postMessage(new WeakMap)}catch(t){if(t.name==_&&25==t.code)return t.constructor}}(),S=I&&I.prototype,T=E.prototype,A=w.set,R=w.getterFor(x),C="stack"in E(x),Z=function(e){return h(g,e)&&g[e].m?g[e].c:0},D=function(){d(this,O);var e=arguments.length,t=y(e<1?void 0:arguments[0]),n=y(e<2?void 0:arguments[1],"Error"),r=Z(n);if(A(this,{type:x,name:n,message:t,code:r}),k||(this.name=n,this.message=t,this.code=r),C){var i=E(t);i.name=x,c(this,"stack",s(1,m(i.stack,1)))}},O=D.prototype=u(T),N=function(e){return{enumerable:!0,configurable:!0,get:e}},M=function(e){return N((function(){return R(this)[e]}))};k&&l(O,{name:M("name"),message:M("message"),code:M("code")}),c(O,"constructor",s(1,D));var L=o((function(){return!(new I instanceof E)})),P=L||o((function(){return T.toString!==p||"2: 1"!==String(new I(1,2))})),F=L||o((function(){return 25!==new I(1,"DataCloneError").code})),V=L||25!==I[_]||25!==S[_],j=b?P||F||V:L;r({global:!0,forced:j},{DOMException:j?D:I});var U=a(x),B=U.prototype;for(var q in P&&(b||I===U)&&f(B,"toString",p),F&&k&&I===U&&c(B,"code",N((function(){return Z(v(this).name)}))),g)if(h(g,q)){var G=g[q],K=G.s,z=s(6,G.c);h(U,K)||c(U,K,z),h(B,K)||c(B,K,z)}},2801:(e,t,n)=>{"use strict";var r=n(2109),i=n(5005),a=n(9114),o=n(3070).f,u=n(2597),s=n(5787),c=n(9587),l=n(6277),f=n(3678),h=n(7741),d=n(1913),v="DOMException",p=i("Error"),y=i(v),g=function(){s(this,m);var e=arguments.length,t=l(e<1?void 0:arguments[0]),n=l(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=p(t);return i.name=v,o(r,"stack",a(1,h(i.stack,1))),c(r,this,g),r},m=g.prototype=y.prototype,w="stack"in p(v),k="stack"in new y(1,2),b=w&&!k;r({global:!0,forced:d||b},{DOMException:b?g:y});var x=i(v),_=x.prototype;if(_.constructor!==x)for(var E in d||o(_,"constructor",a(1,x)),f)if(u(f,E)){var I=f[E],S=I.s;u(x,S)||o(x,S,a(6,I.c))}},1174:(e,t,n)=>{var r=n(5005),i=n(8003),a="DOMException";i(r(a),a)},2564:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(2104),o=n(614),u=n(8113),s=n(206),c=n(8053),l=/MSIE .\./.test(u),f=i.Function,h=function(e){return function(t,n){var r=c(arguments.length,1)>2,i=o(t)?t:f(t),u=r?s(arguments,2):void 0;return e(r?function(){a(i,this,u)}:i,n)}};r({global:!0,bind:!0,forced:l},{setTimeout:h(i.setTimeout),setInterval:h(i.setInterval)})},9933:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},8419:(e,t,n)=>{function r(e){if(Array.isArray(e))return e}n(9753),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},4548:(e,t,n)=>{n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(9753),n(1703),n(6647);var r=n(7486);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},6066:(e,t,n)=>{function r(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(s){u=!0,i=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(u)throw i}}return a}}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},8826:(e,t,n)=>{function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n(1703),n(6647),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},2:(e,t,n)=>{var r=n(8419),i=n(6066),a=n(7486),o=n(8826);function u(e,t){return r(e)||i(e,t)||a(e,t)||o()}e.exports=u,e.exports.__esModule=!0,e.exports["default"]=e.exports},7847:(e,t,n)=>{function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},7486:(e,t,n)=>{n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(9933);function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},5287:(e,t,n)=>{"use strict";n.d(t,{BH:()=>R,LL:()=>V,ZR:()=>F,L:()=>w,r3:()=>B,Sg:()=>C,ne:()=>K,vZ:()=>q,ZB:()=>b,aH:()=>A,m9:()=>Q,z$:()=>Z,jU:()=>O,hl:()=>M,G6:()=>N,eu:()=>L});var r=n(6347),i=(n(6084),n(2417)),a=n(9110),o=n(7946),u=(n(1532),n(1539),n(8783),n(3948),n(1703),n(6647),n(8011),n(2040)),s=n(3967);n(2772),n(3710),n(9714);function c(e){return-1!==Function.toString.call(e).indexOf("[native code]")}var l=n(5507);function f(e){var t="function"===typeof Map?new Map:void 0;return f=function(e){if(null===e||!c(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,l.Z)(e,arguments,(0,u.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,s.Z)(n,e)},f(e)}var h=n(3336),d=n(3087),v=n(2833),p=(n(9600),n(5505),n(7714),n(2801),n(1174),n(9753),n(7479),n(4916),n(5306),n(4723),n(4986),n(1058),n(86),n(8862),n(7601),n(6699),n(2023),n(8309),n(8304),n(2222),n(3123),n(7941),n(2564),n(9720),n(9554),n(4747),n(4812),n(5192),n(9653),function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}),y=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=e[n++],u=e[n++],s=e[n++],c=((7&i)<<18|(63&o)<<12|(63&u)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{var l=e[n++],f=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&l)<<6|63&f)}}return t.join("")},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(p(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):y(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length,u=o?n[e.charAt(i)]:0;++i;var s=i<e.length,c=s?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,null==a||null==u||null==c||null==f)throw Error();var h=a<<2|u>>4;if(r.push(h),64!==c){var d=u<<4&240|c>>2;if(r.push(d),64!==f){var v=c<<6&192|f;r.push(v)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},m=function(e){var t=p(e);return g.encodeByteArray(t,!0)},w=function(e){return m(e).replace(/\./g,"")},k=function(e){try{return g.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function b(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&x(r)&&(e[r]=b(e[r],t[r]));return e}function x(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(){return _().__FIREBASE_DEFAULTS__},I=function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",BASE_URL:"/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}},S=function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&k(e[1]);return t&&JSON.parse(t)}},T=function(){try{return E()||I()||S()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},A=function(){var e;return null===(e=T())||void 0===e?void 0:e.config},R=function(){function e(){var t=this;(0,d.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,v.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise["catch"]((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function C(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[w(JSON.stringify(n)),w(JSON.stringify(o)),u].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function D(){var e,t=null===(e=T())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function O(){return"object"===("undefined"===typeof self?"undefined":(0,h.Z)(self))&&self.self===self}function N(){return!D()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M(){try{return"object"===("undefined"===typeof indexedDB?"undefined":(0,h.Z)(indexedDB))}catch(e){return!1}}function L(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var P="FirebaseError",F=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,a){var o;return(0,d.Z)(this,n),o=t.call(this,r),o.code=e,o.customData=a,o.name=P,Object.setPrototypeOf((0,i.Z)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,i.Z)(o),V.prototype.create),o}return(0,v.Z)(n)}(f(Error)),V=function(){function e(t,n,r){(0,d.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,v.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?j(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new F(n,a,t);return o}}]),e}();function j(e,t){return e.replace(U,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var U=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(G(u)&&G(s)){if(!q(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function G(e){return null!==e&&"object"===(0,h.Z)(e)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e,t){var n=new z(e,t);return n.subscribe.bind(n)}var z=function(){function e(t,n){var r=this;(0,d.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)}))["catch"]((function(e){r.error(e)}))}return(0,v.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=W(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function W(e,t){if("object"!==(0,h.Z)(e)||null===e)return!1;var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}function H(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(e){return e&&e._delegate?e._delegate:e}},4870:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>f,Fl:()=>Ye,IU:()=>Me,Jd:()=>R,PG:()=>Ze,SU:()=>ze,Um:()=>Ae,WL:()=>He,X$:()=>O,X3:()=>Ne,XI:()=>qe,Xl:()=>Le,dq:()=>Ue,iH:()=>Be,j:()=>Z,lk:()=>C,qj:()=>Te,qq:()=>I,yT:()=>Oe});var r,i=n(6084),a=n(2482),o=n(6347),u=n(9584),s=n(3087),c=n(2833),l=(n(2222),n(1539),n(189),n(8783),n(3948),n(4129),n(2526),n(1817),n(4812),n(1532),n(9554),n(4747),n(7327),n(1249),n(6210),n(4819),n(1299),n(9653),n(3593),n(2586),n(1037),n(7318),n(9361),n(2165),n(1825),n(7139));var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,s.Z)(this,e),this.active=!0,this.effects=[],this.cleanups=[],!t&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}return(0,c.Z)(e,[{key:"run",value:function(e){if(this.active)try{return r=this,e()}finally{r=this.parent}else 0}},{key:"on",value:function(){r=this}},{key:"off",value:function(){r=this.parent}},{key:"stop",value:function(e){if(this.active){var t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}]),e}();function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;t&&t.active&&t.effects.push(e)}var d,v=function(e){var t=new Set(e);return t.w=0,t.n=0,t},p=function(e){return(e.w&b)>0},y=function(e){return(e.n&b)>0},g=function(e){var t=e.deps;if(t.length)for(var n=0;n<t.length;n++)t[n].w|=b},m=function(e){var t=e.deps;if(t.length){for(var n=0,r=0;r<t.length;r++){var i=t[r];p(i)&&!y(i)?i["delete"](e):t[n++]=i,i.w&=~b,i.n&=~b}t.length=n}},w=new WeakMap,k=0,b=1,x=30,_=Symbol(""),E=Symbol(""),I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;(0,s.Z)(this,e),this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,h(this,r)}return(0,c.Z)(e,[{key:"run",value:function(){if(!this.active)return this.fn();var e=d,t=T;while(e){if(e===this)return;e=e.parent}try{return this.parent=d,d=this,T=!0,b=1<<++k,k<=x?g(this):S(this),this.fn()}finally{k<=x&&m(this),b=1<<--k,d=this.parent,T=t,this.parent=void 0}}},{key:"stop",value:function(){this.active&&(S(this),this.onStop&&this.onStop(),this.active=!1)}}]),e}();function S(e){var t=e.deps;if(t.length){for(var n=0;n<t.length;n++)t[n]["delete"](e);t.length=0}}var T=!0,A=[];function R(){A.push(T),T=!1}function C(){var e=A.pop();T=void 0===e||e}function Z(e,t,n){if(T&&d){var r=w.get(e);r||w.set(e,r=new Map);var i=r.get(n);i||r.set(n,i=v());var a=void 0;D(i,a)}}function D(e,t){var n=!1;k<=x?y(e)||(e.n|=b,n=!p(e)):n=!e.has(d),n&&(e.add(d),d.deps.push(e))}function O(e,t,n,r,i,a){var s=w.get(e);if(s){var c=[];if("clear"===t)c=(0,u.Z)(s.values());else if("length"===n&&(0,l.kJ)(e))s.forEach((function(e,t){("length"===t||t>=r)&&c.push(e)}));else switch(void 0!==n&&c.push(s.get(n)),t){case"add":(0,l.kJ)(e)?(0,l.S0)(n)&&c.push(s.get("length")):(c.push(s.get(_)),(0,l._N)(e)&&c.push(s.get(E)));break;case"delete":(0,l.kJ)(e)||(c.push(s.get(_)),(0,l._N)(e)&&c.push(s.get(E)));break;case"set":(0,l._N)(e)&&c.push(s.get(_));break}if(1===c.length)c[0]&&N(c[0]);else{var f,h=[],d=(0,o.Z)(c);try{for(d.s();!(f=d.n()).done;){var p=f.value;p&&h.push.apply(h,(0,u.Z)(p))}}catch(y){d.e(y)}finally{d.f()}N(v(h))}}}function N(e,t){var n,r=(0,o.Z)((0,l.kJ)(e)?e:(0,u.Z)(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;(i!==d||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}}catch(a){r.e(a)}finally{r.f()}}var M=(0,l.fY)("__proto__,__v_isRef,__isVue"),L=new Set(Object.getOwnPropertyNames(Symbol).map((function(e){return Symbol[e]})).filter(l.yk)),P=B(),F=B(!1,!0),V=B(!0),j=U();function U(){var e={};return["includes","indexOf","lastIndexOf"].forEach((function(t){e[t]=function(){for(var e=Me(this),n=0,r=this.length;n<r;n++)Z(e,"get",n+"");for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e[t].apply(e,a);return-1===s||!1===s?e[t].apply(e,(0,u.Z)(a.map(Me))):s}})),["push","pop","shift","unshift","splice"].forEach((function(t){e[t]=function(){R();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Me(this)[t].apply(this,n);return C(),i}})),e}function B(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&i===(e?t?Ee:_e:t?xe:be).get(n))return n;var a=(0,l.kJ)(n);if(!e&&a&&(0,l.RI)(j,r))return Reflect.get(j,r,i);var o=Reflect.get(n,r,i);if((0,l.yk)(r)?L.has(r):M(r))return o;if(e||Z(n,"get",r),t)return o;if(Ue(o)){var u=!a||!(0,l.S0)(r);return u?o.value:o}return(0,l.Kn)(o)?e?Re(o):Te(o):o}}var q=K(),G=K(!0);function K(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n,r,i){var a=t[n];if(De(a)&&Ue(a)&&!Ue(r))return!1;if(!e&&!De(r)&&(Oe(r)||(r=Me(r),a=Me(a)),!(0,l.kJ)(t)&&Ue(a)&&!Ue(r)))return a.value=r,!0;var o=(0,l.kJ)(t)&&(0,l.S0)(n)?Number(n)<t.length:(0,l.RI)(t,n),u=Reflect.set(t,n,r,i);return t===Me(i)&&(o?(0,l.aU)(r,a)&&O(t,"set",n,r,a):O(t,"add",n,r)),u}}function z(e,t){var n=(0,l.RI)(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&O(e,"delete",t,void 0,r),i}function W(e,t){var n=Reflect.has(e,t);return(0,l.yk)(t)&&L.has(t)||Z(e,"has",t),n}function H(e){return Z(e,"iterate",(0,l.kJ)(e)?"length":_),Reflect.ownKeys(e)}var Q={get:P,set:q,deleteProperty:z,has:W,ownKeys:H},Y={get:V,set:function(e,t){return!0},deleteProperty:function(e,t){return!0}},$=(0,l.l7)({},Q,{get:F,set:G}),J=function(e){return e},X=function(e){return Reflect.getPrototypeOf(e)};function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=e["__v_raw"];var i=Me(e),a=Me(t);t!==a&&!n&&Z(i,"get",t),!n&&Z(i,"get",a);var o=X(i),u=o.has,s=r?J:n?Fe:Pe;return u.call(i,t)?s(e.get(t)):u.call(i,a)?s(e.get(a)):void(e!==i&&e.get(t))}function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this["__v_raw"],r=Me(n),i=Me(e);return e!==i&&!t&&Z(r,"has",e),!t&&Z(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e["__v_raw"],!t&&Z(Me(e),"iterate",_),Reflect.get(e,"size",e)}function re(e){e=Me(e);var t=Me(this),n=X(t),r=n.has.call(t,e);return r||(t.add(e),O(t,"add",e,e)),this}function ie(e,t){t=Me(t);var n=Me(this),r=X(n),i=r.has,a=r.get,o=i.call(n,e);o||(e=Me(e),o=i.call(n,e));var u=a.call(n,e);return n.set(e,t),o?(0,l.aU)(t,u)&&O(n,"set",e,t,u):O(n,"add",e,t),this}function ae(e){var t=Me(this),n=X(t),r=n.has,i=n.get,a=r.call(t,e);a||(e=Me(e),a=r.call(t,e));var o=i?i.call(t,e):void 0,u=t["delete"](e);return a&&O(t,"delete",e,void 0,o),u}function oe(){var e=Me(this),t=0!==e.size,n=void 0,r=e.clear();return t&&O(e,"clear",void 0,void 0,n),r}function ue(e,t){return function(n,r){var i=this,a=i["__v_raw"],o=Me(a),u=t?J:e?Fe:Pe;return!e&&Z(o,"iterate",_),a.forEach((function(e,t){return n.call(r,u(e),u(t),i)}))}}function se(e,t,n){return function(){var r=this["__v_raw"],i=Me(r),o=(0,l._N)(i),u="entries"===e||e===Symbol.iterator&&o,s="keys"===e&&o,c=r[e].apply(r,arguments),f=n?J:t?Fe:Pe;return!t&&Z(i,"iterate",s?E:_),(0,a.Z)({next:function(){var e=c.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:u?[f(t[0]),f(t[1])]:f(t),done:n}}},Symbol.iterator,(function(){return this}))}}function ce(e){return function(){return"delete"!==e&&this}}function le(){var e={get:function(e){return ee(this,e)},get size(){return ne(this)},has:te,add:re,set:ie,delete:ae,clear:oe,forEach:ue(!1,!1)},t={get:function(e){return ee(this,e,!1,!0)},get size(){return ne(this)},has:te,add:re,set:ie,delete:ae,clear:oe,forEach:ue(!1,!0)},n={get:function(e){return ee(this,e,!0)},get size(){return ne(this,!0)},has:function(e){return te.call(this,e,!0)},add:ce("add"),set:ce("set"),delete:ce("delete"),clear:ce("clear"),forEach:ue(!0,!1)},r={get:function(e){return ee(this,e,!0,!0)},get size(){return ne(this,!0)},has:function(e){return te.call(this,e,!0)},add:ce("add"),set:ce("set"),delete:ce("delete"),clear:ce("clear"),forEach:ue(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((function(i){e[i]=se(i,!1,!1),n[i]=se(i,!0,!1),t[i]=se(i,!1,!0),r[i]=se(i,!0,!0)})),[e,n,t,r]}var fe=le(),he=(0,i.Z)(fe,4),de=he[0],ve=he[1],pe=he[2],ye=he[3];function ge(e,t){var n=t?e?ye:pe:e?ve:de;return function(t,r,i){return"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,l.RI)(n,r)&&r in t?n:t,r,i)}}var me={get:ge(!1,!1)},we={get:ge(!1,!0)},ke={get:ge(!0,!1)};var be=new WeakMap,xe=new WeakMap,_e=new WeakMap,Ee=new WeakMap;function Ie(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Se(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ie((0,l.W7)(e))}function Te(e){return De(e)?e:Ce(e,!1,Q,me,be)}function Ae(e){return Ce(e,!1,$,we,xe)}function Re(e){return Ce(e,!0,Y,ke,_e)}function Ce(e,t,n,r,i){if(!(0,l.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;var a=i.get(e);if(a)return a;var o=Se(e);if(0===o)return e;var u=new Proxy(e,2===o?r:n);return i.set(e,u),u}function Ze(e){return De(e)?Ze(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function De(e){return!(!e||!e["__v_isReadonly"])}function Oe(e){return!(!e||!e["__v_isShallow"])}function Ne(e){return Ze(e)||De(e)}function Me(e){var t=e&&e["__v_raw"];return t?Me(t):e}function Le(e){return(0,l.Nj)(e,"__v_skip",!0),e}var Pe=function(e){return(0,l.Kn)(e)?Te(e):e},Fe=function(e){return(0,l.Kn)(e)?Re(e):e};function Ve(e){T&&d&&(e=Me(e),D(e.dep||(e.dep=v())))}function je(e,t){e=Me(e),e.dep&&N(e.dep)}function Ue(e){return!(!e||!0!==e.__v_isRef)}function Be(e){return Ge(e,!1)}function qe(e){return Ge(e,!0)}function Ge(e,t){return Ue(e)?e:new Ke(e,t)}var Ke=function(){function e(t,n){(0,s.Z)(this,e),this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Me(t),this._value=n?t:Pe(t)}return(0,c.Z)(e,[{key:"value",get:function(){return Ve(this),this._value},set:function(e){e=this.__v_isShallow?e:Me(e),(0,l.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Pe(e),je(this,e))}}]),e}();function ze(e){return Ue(e)?e.value:e}var We={get:function(e,t,n){return ze(Reflect.get(e,t,n))},set:function(e,t,n,r){var i=e[t];return Ue(i)&&!Ue(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function He(e){return Ze(e)?e:new Proxy(e,We)}var Qe=function(){function e(t,n,r,i){var a=this;(0,s.Z)(this,e),this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new I(t,(function(){a._dirty||(a._dirty=!0,je(a))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=r}return(0,c.Z)(e,[{key:"value",get:function(){var e=Me(this);return Ve(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value},set:function(e){this._setter(e)}}]),e}();function Ye(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,l.mf)(e);a?(n=e,r=l.dG):(n=e.get,r=e.set);var o=new Qe(n,r,a||!r,i);return o}Promise.resolve()},3396:(e,t,n)=>{"use strict";n.d(t,{$d:()=>f,Ah:()=>Me,FN:()=>In,Fl:()=>Un,HY:()=>jt,JJ:()=>ee,Ko:()=>gn,P$:()=>fe,Q6:()=>ge,U2:()=>de,Us:()=>Et,Wm:()=>on,Y3:()=>T,Y8:()=>se,YP:()=>re,_:()=>an,aZ:()=>me,f3:()=>te,h:()=>Bn,iD:()=>$t,ic:()=>Oe,j4:()=>Jt,nK:()=>ye,uE:()=>fn,up:()=>Lt,wg:()=>zt,wy:()=>yt});var r,i=n(3336),a=n(6084),o=(n(6347),n(2482)),u=n(9584),s=(n(9600),n(1249),n(2222),n(9554),n(1539),n(4747),n(7941),n(7042),n(8862),n(8309),n(4812),n(6699),n(561),n(2772),n(2023),n(189),n(8783),n(3948),n(1532),n(2707),n(2564),n(6755),n(3210),n(4916),n(5306),n(5212),n(1703),n(6647),n(5218),n(7327),n(8011),n(3123),n(3680),n(3706),n(2703),n(2526),n(1817),n(4603),n(8450),n(8386),n(9714),n(9653),n(1058),n(7601),n(9070),n(7318),n(1299),n(4723),n(3710),n(4553),n(4129),n(7852),n(3843),n(3161),n(2165),n(1038),n(9596),n(543),n(3371),n(5827),n(4870)),c=n(7139);r={},(0,o.Z)(r,"sp","serverPrefetch hook"),(0,o.Z)(r,"bc","beforeCreate hook"),(0,o.Z)(r,"c","created hook"),(0,o.Z)(r,"bm","beforeMount hook"),(0,o.Z)(r,"m","mounted hook"),(0,o.Z)(r,"bu","beforeUpdate hook"),(0,o.Z)(r,"u","updated"),(0,o.Z)(r,"bum","beforeUnmount hook"),(0,o.Z)(r,"um","unmounted hook"),(0,o.Z)(r,"a","activated hook"),(0,o.Z)(r,"da","deactivated hook"),(0,o.Z)(r,"ec","errorCaptured hook"),(0,o.Z)(r,"rtc","renderTracked hook"),(0,o.Z)(r,"rtg","renderTriggered hook"),(0,o.Z)(r,0,"setup function"),(0,o.Z)(r,1,"render function"),(0,o.Z)(r,2,"watcher getter"),(0,o.Z)(r,3,"watcher callback"),(0,o.Z)(r,4,"watcher cleanup function"),(0,o.Z)(r,5,"native event handler"),(0,o.Z)(r,6,"component event handler"),(0,o.Z)(r,7,"vnode hook"),(0,o.Z)(r,8,"directive hook"),(0,o.Z)(r,9,"transition hook"),(0,o.Z)(r,10,"app errorHandler"),(0,o.Z)(r,11,"app warnHandler"),(0,o.Z)(r,12,"ref function"),(0,o.Z)(r,13,"async component loader"),(0,o.Z)(r,14,"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core");function l(e,t,n,r){var i;try{i=r?e.apply(void 0,(0,u.Z)(r)):e()}catch(a){h(a,t,n)}return i}function f(e,t,n,r){if((0,c.mf)(e)){var i=l(e,t,n,r);return i&&(0,c.tI)(i)&&i["catch"]((function(e){h(e,t,n)})),i}for(var a=[],o=0;o<e.length;o++)a.push(f(e[o],t,n,r));return a}function h(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t?t.vnode:null;if(t){var a=t.parent,o=t.proxy,u=n;while(a){var s=a.ec;if(s)for(var c=0;c<s.length;c++)if(!1===s[c](e,o,u))return;a=a.parent}var f=t.appContext.config.errorHandler;if(f)return void l(f,null,10,[e,o,u])}d(e,n,i,r)}function d(e,t,n){console.error(e)}var v=!1,p=!1,y=[],g=0,m=[],w=null,k=0,b=[],x=null,_=0,E=Promise.resolve(),I=null,S=null;function T(e){var t=I||E;return e?t.then(this?e.bind(this):e):t}function A(e){var t=g+1,n=y.length;while(t<n){var r=t+n>>>1,i=P(y[r]);i<e?t=r+1:n=r}return t}function R(e){y.length&&y.includes(e,v&&e.allowRecurse?g+1:g)||e===S||(null==e.id?y.push(e):y.splice(A(e.id),0,e),C())}function C(){v||p||(p=!0,I=E.then(F))}function Z(e){var t=y.indexOf(e);t>g&&y.splice(t,1)}function D(e,t,n,r){(0,c.kJ)(e)?n.push.apply(n,(0,u.Z)(e)):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),C()}function O(e){D(e,w,m,k)}function N(e){D(e,x,b,_)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(m.length){for(S=t,w=(0,u.Z)(new Set(m)),m.length=0,k=0;k<w.length;k++)w[k]();w=null,k=0,S=null,M(e,t)}}function L(e){if(b.length){var t,n=(0,u.Z)(new Set(b));if(b.length=0,x)return void(t=x).push.apply(t,(0,u.Z)(n));for(x=n,x.sort((function(e,t){return P(e)-P(t)})),_=0;_<x.length;_++)x[_]();x=null,_=0}}var P=function(e){return null==e.id?1/0:e.id};function F(e){p=!1,v=!0,M(e),y.sort((function(e,t){return P(e)-P(t)}));c.dG;try{for(g=0;g<y.length;g++){var t=y[g];t&&!1!==t.active&&l(t,null,14)}}finally{g=0,y.length=0,L(e),v=!1,I=null,(y.length||m.length||b.length)&&F(e)}}new Set;new Map;function V(e,t){for(var n=e.vnode.props||c.kT,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o,u=i,s=t.startsWith("update:"),l=s&&t.slice(7);if(l&&l in n){var h="".concat("modelValue"===l?"model":l,"Modifiers"),d=n[h]||c.kT,v=d.number,p=d.trim;p?u=i.map((function(e){return e.trim()})):v&&(u=i.map(c.He))}var y=n[o=(0,c.hR)(t)]||n[o=(0,c.hR)((0,c._A)(t))];!y&&s&&(y=n[o=(0,c.hR)((0,c.rs)(t))]),y&&f(y,e,6,u);var g=n[o+"Once"];if(g){if(e.emitted){if(e.emitted[o])return}else e.emitted={};e.emitted[o]=!0,f(g,e,6,u)}}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;var a=e.emits,o={},u=!1;if(!(0,c.mf)(e)){var s=function(e){var n=j(e,t,!0);n&&(u=!0,(0,c.l7)(o,n))};!n&&t.mixins.length&&t.mixins.forEach(s),e["extends"]&&s(e["extends"]),e.mixins&&e.mixins.forEach(s)}return a||u?((0,c.kJ)(a)?a.forEach((function(e){return o[e]=null})):(0,c.l7)(o,a),r.set(e,o),o):(r.set(e,null),null)}function U(e,t){return!(!e||!(0,c.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,c.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,c.RI)(e,(0,c.rs)(t))||(0,c.RI)(e,t))}var B=null,q=null;function G(e){var t=B;return B=e,q=e&&e.type.__scopeId||null,t}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;if(!t)return e;if(e._n)return e;var n=function n(){n._d&&Qt(-1);var r=G(t),i=e.apply(void 0,arguments);return G(r),n._d&&Qt(1),i};return n._n=!0,n._c=!0,n._d=!0,n}function z(e){var t,n,r=e.type,i=e.vnode,o=e.proxy,u=e.withProxy,s=e.props,l=(0,a.Z)(e.propsOptions,1),f=l[0],d=e.slots,v=e.attrs,p=e.emit,y=e.render,g=e.renderCache,m=e.data,w=e.setupState,k=e.ctx,b=e.inheritAttrs,x=G(e);try{if(4&i.shapeFlag){var _=u||o;t=hn(y.call(_,_,g,s,w,m,k)),n=v}else{var E=r;0,t=hn(E.length>1?E(s,{attrs:v,slots:d,emit:p}):E(s,null)),n=r.props?v:W(v)}}catch(R){Gt.length=0,h(R,e,1),t=on(Bt)}var I=t;if(n&&!1!==b){var S=Object.keys(n),T=I,A=T.shapeFlag;if(S.length)if(7&A)f&&S.some(c.tR)&&(n=H(n,f)),I=cn(I,n);else;}return i.dirs&&(I.dirs=I.dirs?I.dirs.concat(i.dirs):i.dirs),i.transition&&(I.transition=i.transition),t=I,G(x),t}var W=function(e){var t;for(var n in e)("class"===n||"style"===n||(0,c.F7)(n))&&((t||(t={}))[n]=e[n]);return t},H=function(e,t){var n={};for(var r in e)(0,c.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Q(e,t,n){var r=e.props,i=e.children,a=e.component,o=t.props,u=t.children,s=t.patchFlag,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&s>=0))return!(!i&&!u||u&&u.$stable)||r!==o&&(r?!o||Y(r,o,c):!!o);if(1024&s)return!0;if(16&s)return r?Y(r,o,c):!!o;if(8&s)for(var l=t.dynamicProps,f=0;f<l.length;f++){var h=l[f];if(o[h]!==r[h]&&!U(c,h))return!0}return!1}function Y(e,t,n){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(var i=0;i<r.length;i++){var a=r[i];if(t[a]!==e[a]&&!U(n,a))return!0}return!1}function $(e,t){var n=e.vnode,r=e.parent;while(r&&r.subTree===n)(n=r.vnode).el=t,r=r.parent}var J=function(e){return e.__isSuspense};function X(e,t){var n;t&&t.pendingBranch?(0,c.kJ)(e)?(n=t.effects).push.apply(n,(0,u.Z)(e)):t.effects.push(e):N(e)}function ee(e,t){if(En){var n=En.provides,r=En.parent&&En.parent.provides;r===n&&(n=En.provides=Object.create(r)),n[e]=t}else 0}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=En||B;if(r){var i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,c.mf)(t)?t.call(r.proxy):t}else 0}var ne={};function re(e,t,n){return ie(e,t,n)}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.kT,r=n.immediate,i=n.deep,a=n.flush;n.onTrack,n.onTrigger;var o,u,h=En,d=!1,v=!1;if((0,s.dq)(e)?(o=function(){return e.value},d=(0,s.yT)(e)):(0,s.PG)(e)?(o=function(){return e},i=!0):(0,c.kJ)(e)?(v=!0,d=e.some(s.PG),o=function(){return e.map((function(e){return(0,s.dq)(e)?e.value:(0,s.PG)(e)?ue(e):(0,c.mf)(e)?l(e,h,2):void 0}))}):o=(0,c.mf)(e)?t?function(){return l(e,h,2)}:function(){if(!h||!h.isUnmounted)return u&&u(),f(e,h,3,[y])}:c.dG,t&&i){var p=o;o=function(){return ue(p())}}var y=function(e){u=k.onStop=function(){l(e,h,4)}};if(Zn)return y=c.dG,t?r&&f(t,h,3,[o(),v?[]:void 0,y]):o(),c.dG;var g,m=v?[]:ne,w=function(){if(k.active)if(t){var e=k.run();(i||d||(v?e.some((function(e,t){return(0,c.aU)(e,m[t])})):(0,c.aU)(e,m)))&&(u&&u(),f(t,h,3,[e,m===ne?void 0:m,y]),m=e)}else k.run()};w.allowRecurse=!!t,g="sync"===a?w:"post"===a?function(){return _t(w,h&&h.suspense)}:function(){!h||h.isMounted?O(w):w()};var k=new s.qq(o,g);return t?r?w():m=k.run():"post"===a?_t(k.run.bind(k),h&&h.suspense):k.run(),function(){k.stop(),h&&h.scope&&(0,c.Od)(h.scope.effects,k)}}function ae(e,t,n){var r,i=this.proxy,a=(0,c.HD)(e)?e.includes(".")?oe(i,e):function(){return i[e]}:e.bind(i,i);(0,c.mf)(t)?r=t:(r=t.handler,n=t);var o=En;Sn(this);var u=ie(a,r.bind(i),n);return o?Sn(o):Tn(),u}function oe(e,t){var n=t.split(".");return function(){for(var t=e,r=0;r<n.length&&t;r++)t=t[n[r]];return t}}function ue(e,t){if(!(0,c.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,s.dq)(e))ue(e.value,t);else if((0,c.kJ)(e))for(var n=0;n<e.length;n++)ue(e[n],t);else if((0,c.DM)(e)||(0,c._N)(e))e.forEach((function(e){ue(e,t)}));else if((0,c.PO)(e))for(var r in e)ue(e[r],t);return e}function se(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ze((function(){e.isMounted=!0})),Ne((function(){e.isUnmounting=!0})),e}var ce=[Function,Array],le={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ce,onEnter:ce,onAfterEnter:ce,onEnterCancelled:ce,onBeforeLeave:ce,onLeave:ce,onAfterLeave:ce,onLeaveCancelled:ce,onBeforeAppear:ce,onAppear:ce,onAfterAppear:ce,onAppearCancelled:ce},setup:function(e,t){var n,r=t.slots,i=In(),a=se();return function(){var t=r["default"]&&ge(r["default"](),!0);if(t&&t.length){0;var o=(0,s.IU)(e),u=o.mode;0;var c=t[0];if(a.isLeaving)return ve(c);var l=pe(c);if(!l)return ve(c);var f=de(l,o,a,i);ye(l,f);var h=i.subTree,d=h&&pe(h),v=!1,p=l.type.getTransitionKey;if(p){var y=p();void 0===n?n=y:y!==n&&(n=y,v=!0)}if(d&&d.type!==Bt&&(!en(l,d)||v)){var g=de(d,o,a,i);if(ye(d,g),"out-in"===u)return a.isLeaving=!0,g.afterLeave=function(){a.isLeaving=!1,i.update()},ve(c);"in-out"===u&&l.type!==Bt&&(g.delayLeave=function(e,t,n){var r=he(a,d);r[String(d.key)]=d,e._leaveCb=function(){t(),e._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=n})}return c}}}},fe=le;function he(e,t){var n=e.leavingVNodes,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function de(e,t,n,r){var i=t.appear,a=t.mode,o=t.persisted,u=void 0!==o&&o,s=t.onBeforeEnter,c=t.onEnter,l=t.onAfterEnter,h=t.onEnterCancelled,d=t.onBeforeLeave,v=t.onLeave,p=t.onAfterLeave,y=t.onLeaveCancelled,g=t.onBeforeAppear,m=t.onAppear,w=t.onAfterAppear,k=t.onAppearCancelled,b=String(e.key),x=he(n,e),_=function(e,t){e&&f(e,r,9,t)},E={mode:a,persisted:u,beforeEnter:function(t){var r=s;if(!n.isMounted){if(!i)return;r=g||s}t._leaveCb&&t._leaveCb(!0);var a=x[b];a&&en(e,a)&&a.el._leaveCb&&a.el._leaveCb(),_(r,[t])},enter:function(e){var t=c,r=l,a=h;if(!n.isMounted){if(!i)return;t=m||c,r=w||l,a=k||h}var o=!1,u=e._enterCb=function(t){o||(o=!0,_(t?a:r,[e]),E.delayedLeave&&E.delayedLeave(),e._enterCb=void 0)};t?(t(e,u),t.length<=1&&u()):u()},leave:function(t,r){var i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();_(d,[t]);var a=!1,o=t._leaveCb=function(n){a||(a=!0,r(),_(n?y:p,[t]),t._leaveCb=void 0,x[i]===e&&delete x[i])};x[i]=e,v?(v(t,o),v.length<=1&&o()):o()},clone:function(e){return de(e,t,n,r)}};return E}function ve(e){if(ke(e))return e=cn(e),e.children=null,e}function pe(e){return ke(e)?e.children?e.children[0]:void 0:e}function ye(e,t){6&e.shapeFlag&&e.component?ye(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ge(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0,i=0;i<e.length;i++){var a=e[i];a.type===jt?(128&a.patchFlag&&r++,n=n.concat(ge(a.children,t))):(t||a.type!==Bt)&&n.push(a)}if(r>1)for(var o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function me(e){return(0,c.mf)(e)?{setup:e,name:e.name}:e}var we=function(e){return!!e.type.__asyncLoader};var ke=function(e){return e.type.__isKeepAlive};RegExp,RegExp;function be(e,t){return(0,c.kJ)(e)?e.some((function(e){return be(e,t)})):(0,c.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function xe(e,t){Ee(e,"a",t)}function _e(e,t){Ee(e,"da",t)}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:En,r=e.__wdc||(e.__wdc=function(){var t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Ae(t,r,n),n){var i=n.parent;while(i&&i.parent)ke(i.parent.vnode)&&Ie(r,t,n,i),i=i.parent}}function Ie(e,t,n,r){var i=Ae(t,e,r,!0);Me((function(){(0,c.Od)(r[t],i)}),n)}function Se(e){var t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Te(e){return 128&e.shapeFlag?e.ssContent:e}function Ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:En,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n){var i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=function(){if(!n.isUnmounted){(0,s.Jd)(),Sn(n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=f(t,n,e,i);return Tn(),(0,s.lk)(),o}});return r?i.unshift(a):i.push(a),a}}var Re=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En;return(!Zn||"sp"===e)&&Ae(e,t,n)}},Ce=Re("bm"),Ze=Re("m"),De=Re("bu"),Oe=Re("u"),Ne=Re("bum"),Me=Re("um"),Le=Re("sp"),Pe=Re("rtg"),Fe=Re("rtc");function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En;Ae("ec",e,t)}var je=!0;function Ue(e){var t=Ke(e),n=e.proxy,r=e.ctx;je=!1,t.beforeCreate&&qe(t.beforeCreate,e,"bc");var i=t.data,a=t.computed,o=t.methods,u=t.watch,l=t.provide,f=t.inject,h=t.created,d=t.beforeMount,v=t.mounted,p=t.beforeUpdate,y=t.updated,g=t.activated,m=t.deactivated,w=(t.beforeDestroy,t.beforeUnmount),k=(t.destroyed,t.unmounted),b=t.render,x=t.renderTracked,_=t.renderTriggered,E=t.errorCaptured,I=t.serverPrefetch,S=t.expose,T=t.inheritAttrs,A=t.components,R=t.directives,C=(t.filters,null);if(f&&Be(f,r,C,e.appContext.config.unwrapInjectedRef),o)for(var Z in o){var D=o[Z];(0,c.mf)(D)&&(r[Z]=D.bind(n))}if(i&&function(){var t=i.call(n,n);(0,c.Kn)(t)&&(e.data=(0,s.qj)(t))}(),je=!0,a){var O=function(e){var t=a[e],i=(0,c.mf)(t)?t.bind(n,n):(0,c.mf)(t.get)?t.get.bind(n,n):c.dG;var o=!(0,c.mf)(t)&&(0,c.mf)(t.set)?t.set.bind(n):c.dG,u=Un({get:i,set:o});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){return u.value},set:function(e){return u.value=e}})};for(var N in a)O(N)}if(u)for(var M in u)Ge(u[M],r,n,M);if(l){var L=(0,c.mf)(l)?l.call(n):l;Reflect.ownKeys(L).forEach((function(e){ee(e,L[e])}))}function P(e,t){(0,c.kJ)(t)?t.forEach((function(t){return e(t.bind(n))})):t&&e(t.bind(n))}if(h&&qe(h,e,"c"),P(Ce,d),P(Ze,v),P(De,p),P(Oe,y),P(xe,g),P(_e,m),P(Ve,E),P(Fe,x),P(Pe,_),P(Ne,w),P(Me,k),P(Le,I),(0,c.kJ)(S))if(S.length){var F=e.exposed||(e.exposed={});S.forEach((function(e){Object.defineProperty(F,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}))}else e.exposed||(e.exposed={});b&&e.render===c.dG&&(e.render=b),null!=T&&(e.inheritAttrs=T),A&&(e.components=A),R&&(e.directives=R)}function Be(e,t){arguments.length>2&&void 0!==arguments[2]||c.dG;var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,c.kJ)(e)&&(e=Ye(e));var r=function(r){var i=e[r],a=void 0;a=(0,c.Kn)(i)?"default"in i?te(i.from||r,i["default"],!0):te(i.from||r):te(i),(0,s.dq)(a)&&n?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:function(){return a.value},set:function(e){return a.value=e}}):t[r]=a};for(var i in e)r(i)}function qe(e,t,n){f((0,c.kJ)(e)?e.map((function(e){return e.bind(t.proxy)})):e.bind(t.proxy),t,n)}function Ge(e,t,n,r){var i=r.includes(".")?oe(n,r):function(){return n[r]};if((0,c.HD)(e)){var a=t[e];(0,c.mf)(a)&&re(i,a)}else if((0,c.mf)(e))re(i,e.bind(n));else if((0,c.Kn)(e))if((0,c.kJ)(e))e.forEach((function(e){return Ge(e,t,n,r)}));else{var o=(0,c.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,c.mf)(o)&&re(i,o,e)}else 0}function Ke(e){var t,n=e.type,r=n.mixins,i=n["extends"],a=e.appContext,o=a.mixins,u=a.optionsCache,s=a.config.optionMergeStrategies,c=u.get(n);return c?t=c:o.length||r||i?(t={},o.length&&o.forEach((function(e){return ze(t,e,s,!0)})),ze(t,n,s)):t=n,u.set(n,t),t}function ze(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.mixins,a=t["extends"];for(var o in a&&ze(e,a,n,!0),i&&i.forEach((function(t){return ze(e,t,n,!0)})),t)if(r&&"expose"===o);else{var u=We[o]||n&&n[o];e[o]=u?u(e[o],t[o]):t[o]}return e}var We={data:He,props:Je,emits:Je,methods:Je,computed:Je,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:Je,directives:Je,watch:Xe,provide:He,inject:Qe};function He(e,t){return t?e?function(){return(0,c.l7)((0,c.mf)(e)?e.call(this,this):e,(0,c.mf)(t)?t.call(this,this):t)}:t:e}function Qe(e,t){return Je(Ye(e),Ye(t))}function Ye(e){if((0,c.kJ)(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $e(e,t){return e?(0,u.Z)(new Set([].concat(e,t))):t}function Je(e,t){return e?(0,c.l7)((0,c.l7)(Object.create(null),e),t):t}function Xe(e,t){if(!e)return t;if(!t)return e;var n=(0,c.l7)(Object.create(null),e);for(var r in t)n[r]=$e(e[r],t[r]);return n}function et(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={},a={};for(var o in(0,c.Nj)(a,tn,1),e.propsDefaults=Object.create(null),nt(e,t,i,a),e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:(0,s.Um)(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function tt(e,t,n,r){var i=e.props,o=e.attrs,u=e.vnode.patchFlag,l=(0,s.IU)(i),f=(0,a.Z)(e.propsOptions,1),h=f[0],d=!1;if(!(r||u>0)||16&u){var v;for(var p in nt(e,t,i,o)&&(d=!0),l)t&&((0,c.RI)(t,p)||(v=(0,c.rs)(p))!==p&&(0,c.RI)(t,v))||(h?!n||void 0===n[p]&&void 0===n[v]||(i[p]=rt(h,l,p,void 0,e,!0)):delete i[p]);if(o!==l)for(var y in o)t&&(0,c.RI)(t,y)||(delete o[y],d=!0)}else if(8&u)for(var g=e.vnode.dynamicProps,m=0;m<g.length;m++){var w=g[m],k=t[w];if(h)if((0,c.RI)(o,w))k!==o[w]&&(o[w]=k,d=!0);else{var b=(0,c._A)(w);i[b]=rt(h,l,b,k,e,!1)}else k!==o[w]&&(o[w]=k,d=!0)}d&&(0,s.X$)(e,"set","$attrs")}function nt(e,t,n,r){var i,o=(0,a.Z)(e.propsOptions,2),u=o[0],l=o[1],f=!1;if(t)for(var h in t)if(!(0,c.Gg)(h)){var d=t[h],v=void 0;u&&(0,c.RI)(u,v=(0,c._A)(h))?l&&l.includes(v)?(i||(i={}))[v]=d:n[v]=d:U(e.emitsOptions,h)||h in r&&d===r[h]||(r[h]=d,f=!0)}if(l)for(var p=(0,s.IU)(n),y=i||c.kT,g=0;g<l.length;g++){var m=l[g];n[m]=rt(u,p,m,y[m],e,!(0,c.RI)(y,m))}return f}function rt(e,t,n,r,i,a){var o=e[n];if(null!=o){var u=(0,c.RI)(o,"default");if(u&&void 0===r){var s=o["default"];if(o.type!==Function&&(0,c.mf)(s)){var l=i.propsDefaults;n in l?r=l[n]:(Sn(i),r=l[n]=s.call(null,t),Tn())}else r=s}o[0]&&(a&&!u?r=!1:!o[1]||""!==r&&r!==(0,c.rs)(n)||(r=!0))}return r}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.propsCache,i=r.get(e);if(i)return i;var o=e.props,s={},l=[],f=!1;if(!(0,c.mf)(e)){var h=function(e){f=!0;var n=it(e,t,!0),r=(0,a.Z)(n,2),i=r[0],o=r[1];(0,c.l7)(s,i),o&&l.push.apply(l,(0,u.Z)(o))};!n&&t.mixins.length&&t.mixins.forEach(h),e["extends"]&&h(e["extends"]),e.mixins&&e.mixins.forEach(h)}if(!o&&!f)return r.set(e,c.Z6),c.Z6;if((0,c.kJ)(o))for(var d=0;d<o.length;d++){0;var v=(0,c._A)(o[d]);at(v)&&(s[v]=c.kT)}else if(o)for(var p in o){var y=(0,c._A)(p);if(at(y)){var g=o[p],m=s[y]=(0,c.kJ)(g)||(0,c.mf)(g)?{type:g}:g;if(m){var w=st(Boolean,m.type),k=st(String,m.type);m[0]=w>-1,m[1]=k<0||w<k,(w>-1||(0,c.RI)(m,"default"))&&l.push(y)}}}var b=[s,l];return r.set(e,b),b}function at(e){return"$"!==e[0]}function ot(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function ut(e,t){return ot(e)===ot(t)}function st(e,t){return(0,c.kJ)(t)?t.findIndex((function(t){return ut(t,e)})):(0,c.mf)(t)&&ut(t,e)?0:-1}var ct=function(e){return"_"===e[0]||"$stable"===e},lt=function(e){return(0,c.kJ)(e)?e.map(hn):[hn(e)]},ft=function(e,t,n){var r=K((function(){return lt(t.apply(void 0,arguments))}),n);return r._c=!1,r},ht=function(e,t,n){var r=e._ctx;for(var i in e)if(!ct(i)){var a=e[i];(0,c.mf)(a)?t[i]=ft(i,a,r):null!=a&&function(){var e=lt(a);t[i]=function(){return e}}()}},dt=function(e,t){var n=lt(t);e.slots["default"]=function(){return n}},vt=function(e,t){if(32&e.vnode.shapeFlag){var n=t._;n?(e.slots=(0,s.IU)(t),(0,c.Nj)(t,"_",n)):ht(t,e.slots={})}else e.slots={},t&&dt(e,t);(0,c.Nj)(e.slots,tn,1)},pt=function(e,t,n){var r=e.vnode,i=e.slots,a=!0,o=c.kT;if(32&r.shapeFlag){var u=t._;u?n&&1===u?a=!1:((0,c.l7)(i,t),n||1!==u||delete i._):(a=!t.$stable,ht(t,i)),o=t}else t&&(dt(e,t),o={default:1});if(a)for(var s in i)ct(s)||s in o||delete i[s]};function yt(e,t){var n=B;if(null===n)return e;for(var r=n.proxy,i=e.dirs||(e.dirs=[]),o=0;o<t.length;o++){var u=(0,a.Z)(t[o],4),s=u[0],l=u[1],f=u[2],h=u[3],d=void 0===h?c.kT:h;(0,c.mf)(s)&&(s={mounted:s,updated:s}),s.deep&&ue(l),i.push({dir:s,instance:r,value:l,oldValue:void 0,arg:f,modifiers:d})}return e}function gt(e,t,n,r){for(var i=e.dirs,a=t&&t.dirs,o=0;o<i.length;o++){var u=i[o];a&&(u.oldValue=a[o].value);var c=u.dir[r];c&&((0,s.Jd)(),f(c,n,8,[e.el,u,e,t]),(0,s.lk)())}}function mt(){return{app:null,config:{isNativeTag:c.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var wt=0;function kt(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==r||(0,c.Kn)(r)||(r=null);var i=mt(),a=new Set,o=!1,u=i.app={_uid:wt++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:qn,get config(){return i.config},set config(e){0},use:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.has(e)||(e&&(0,c.mf)(e.install)?(a.add(e),e.install.apply(e,[u].concat(n))):(0,c.mf)(e)&&(a.add(e),e.apply(void 0,[u].concat(n)))),u},mixin:function(e){return i.mixins.includes(e)||i.mixins.push(e),u},component:function(e,t){return t?(i.components[e]=t,u):i.components[e]},directive:function(e,t){return t?(i.directives[e]=t,u):i.directives[e]},mount:function(a,s,c){if(!o){var l=on(n,r);return l.appContext=i,s&&t?t(l,a):e(l,a,c),o=!0,u._container=a,a.__vue_app__=u,Fn(l.component)||l.component.proxy}},unmount:function(){o&&(e(null,u._container),delete u._container.__vue_app__)},provide:function(e,t){return i.provides[e]=t,u}};return u}}function bt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,c.kJ)(e))e.forEach((function(e,a){return bt(e,t&&((0,c.kJ)(t)?t[a]:t),n,r,i)}));else if(!we(r)||i){var a=4&r.shapeFlag?Fn(r.component)||r.component.proxy:r.el,o=i?null:a,u=e.i,f=e.r;0;var h=t&&t.r,d=u.refs===c.kT?u.refs={}:u.refs,v=u.setupState;if(null!=h&&h!==f&&((0,c.HD)(h)?(d[h]=null,(0,c.RI)(v,h)&&(v[h]=null)):(0,s.dq)(h)&&(h.value=null)),(0,c.mf)(f))l(f,u,12,[o,d]);else{var p=(0,c.HD)(f),y=(0,s.dq)(f);if(p||y){var g=function(){if(e.f){var t=p?d[f]:f.value;i?(0,c.kJ)(t)&&(0,c.Od)(t,a):(0,c.kJ)(t)?t.includes(a)||t.push(a):p?d[f]=[a]:(f.value=[a],e.k&&(d[e.k]=f.value))}else p?(d[f]=o,(0,c.RI)(v,f)&&(v[f]=o)):(0,s.dq)(f)&&(f.value=o,e.k&&(d[e.k]=o))};o?(g.id=-1,_t(g,n)):g()}else 0}}}function xt(){}var _t=X;function Et(e){return It(e)}function It(e,t){xt();var n=(0,c.E9)();n.__VUE__=!0;var r,i,o=e.insert,u=e.remove,l=e.patchProp,f=e.createElement,h=e.createText,d=e.createComment,v=e.setText,p=e.setElementText,y=e.parentNode,g=e.nextSibling,m=e.setScopeId,w=void 0===m?c.dG:m,k=e.cloneNode,b=e.insertStaticContent,x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:!!t.dynamicChildren;if(e!==t){e&&!en(e,t)&&(r=re(e),J(e,i,a,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);var c=t.type,l=t.ref,f=t.shapeFlag;switch(c){case Ut:_(e,t,n,r);break;case Bt:E(e,t,n,r);break;case qt:null==e&&I(t,n,r,o);break;case jt:V(e,t,n,r,i,a,o,u,s);break;default:1&f?A(e,t,n,r,i,a,o,u,s):6&f?j(e,t,n,r,i,a,o,u,s):(64&f||128&f)&&c.process(e,t,n,r,i,a,o,u,s,ae)}null!=l&&i&&bt(l,e&&e.ref,a,t||e,!t)}},_=function(e,t,n,r){if(null==e)o(t.el=h(t.children),n,r);else{var i=t.el=e.el;t.children!==e.children&&v(i,t.children)}},E=function(e,t,n,r){null==e?o(t.el=d(t.children||""),n,r):t.el=e.el},I=function(e,t,n,r){var i=b(e.children,t,n,r,e.el,e.anchor),o=(0,a.Z)(i,2);e.el=o[0],e.anchor=o[1]},S=function(e,t,n){var r,i=e.el,a=e.anchor;while(i&&i!==a)r=g(i),o(i,t,n),i=r;o(a,t,n)},T=function(e){var t,n=e.el,r=e.anchor;while(n&&n!==r)t=g(n),u(n),n=t;u(r)},A=function(e,t,n,r,i,a,o,u,s){o=o||"svg"===t.type,null==e?C(t,n,r,i,a,o,u,s):N(e,t,i,a,o,u,s)},C=function(e,t,n,r,i,a,u,s){var h,d,v=e.type,y=e.props,g=e.shapeFlag,m=e.transition,w=e.patchFlag,b=e.dirs;if(e.el&&void 0!==k&&-1===w)h=e.el=k(e.el);else{if(h=e.el=f(e.type,a,y&&y.is,y),8&g?p(h,e.children):16&g&&O(e.children,h,null,r,i,a&&"foreignObject"!==v,u,s),b&&gt(e,null,r,"created"),y){for(var x in y)"value"===x||(0,c.Gg)(x)||l(h,x,null,y[x],a,e.children,r,i,ne);"value"in y&&l(h,"value",null,y.value),(d=y.onVnodeBeforeMount)&&yn(d,r,e)}D(h,e,e.scopeId,u,r)}b&&gt(e,null,r,"beforeMount");var _=(!i||i&&!i.pendingBranch)&&m&&!m.persisted;_&&m.beforeEnter(h),o(h,t,n),((d=y&&y.onVnodeMounted)||_||b)&&_t((function(){d&&yn(d,r,e),_&&m.enter(h),b&&gt(e,null,r,"mounted")}),i)},D=function e(t,n,r,i,a){if(r&&w(t,r),i)for(var o=0;o<i.length;o++)w(t,i[o]);if(a){var u=a.subTree;if(n===u){var s=a.vnode;e(t,s,s.scopeId,s.slotScopeIds,a.parent)}}},O=function(e,t,n,r,i,a,o,u){for(var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=s;c<e.length;c++){var l=e[c]=u?dn(e[c]):hn(e[c]);x(null,l,t,n,r,i,a,o,u)}},N=function(e,t,n,r,i,a,o){var u=t.el=e.el,s=t.patchFlag,f=t.dynamicChildren,h=t.dirs;s|=16&e.patchFlag;var d,v=e.props||c.kT,y=t.props||c.kT;n&&St(n,!1),(d=y.onVnodeBeforeUpdate)&&yn(d,n,t,e),h&&gt(t,e,n,"beforeUpdate"),n&&St(n,!0);var g=i&&"foreignObject"!==t.type;if(f?P(e.dynamicChildren,f,u,n,r,g,a):o||K(e,t,u,null,n,r,g,a,!1),s>0){if(16&s)F(u,t,v,y,n,r,i);else if(2&s&&v["class"]!==y["class"]&&l(u,"class",null,y["class"],i),4&s&&l(u,"style",v.style,y.style,i),8&s)for(var m=t.dynamicProps,w=0;w<m.length;w++){var k=m[w],b=v[k],x=y[k];x===b&&"value"!==k||l(u,k,b,x,i,e.children,n,r,ne)}1&s&&e.children!==t.children&&p(u,t.children)}else o||null!=f||F(u,t,v,y,n,r,i);((d=y.onVnodeUpdated)||h)&&_t((function(){d&&yn(d,n,t,e),h&&gt(t,e,n,"updated")}),r)},P=function(e,t,n,r,i,a,o){for(var u=0;u<t.length;u++){var s=e[u],c=t[u],l=s.el&&(s.type===jt||!en(s,c)||70&s.shapeFlag)?y(s.el):n;x(s,c,l,null,r,i,a,o,!0)}},F=function(e,t,n,r,i,a,o){if(n!==r){for(var u in r)if(!(0,c.Gg)(u)){var s=r[u],f=n[u];s!==f&&"value"!==u&&l(e,u,f,s,o,t.children,i,a,ne)}if(n!==c.kT)for(var h in n)(0,c.Gg)(h)||h in r||l(e,h,n[h],null,o,t.children,i,a,ne);"value"in r&&l(e,"value",n.value,r.value)}},V=function(e,t,n,r,i,a,u,s,c){var l=t.el=e?e.el:h(""),f=t.anchor=e?e.anchor:h(""),d=t.patchFlag,v=t.dynamicChildren,p=t.slotScopeIds;p&&(s=s?s.concat(p):p),null==e?(o(l,n,r),o(f,n,r),O(t.children,n,f,i,a,u,s,c)):d>0&&64&d&&v&&e.dynamicChildren?(P(e.dynamicChildren,v,n,i,a,u,s),(null!=t.key||i&&t===i.subTree)&&Tt(e,t,!0)):K(e,t,n,f,i,a,u,s,c)},j=function(e,t,n,r,i,a,o,u,s){t.slotScopeIds=u,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,s):U(t,n,r,i,a,o,s):B(e,t,s)},U=function(e,t,n,r,i,a,o){var u=e.component=_n(e,r,i);if(ke(e)&&(u.ctx.renderer=ae),Dn(u),u.asyncDep){if(i&&i.registerDep(u,q),!e.el){var s=u.subTree=on(Bt);E(null,s,t,n)}}else q(u,e,t,n,i,a,o)},B=function(e,t,n){var r=t.component=e.component;if(Q(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void G(r,t,n);r.next=t,Z(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},q=function(e,t,n,r,a,o,u){var l=function(){if(e.isMounted){var s,l=e.next,f=e.bu,h=e.u,d=e.parent,v=e.vnode,p=l;0,St(e,!1),l?(l.el=v.el,G(e,l,u)):l=v,f&&(0,c.ir)(f),(s=l.props&&l.props.onVnodeBeforeUpdate)&&yn(s,d,l,v),St(e,!0);var g=z(e);0;var m=e.subTree;e.subTree=g,x(m,g,y(m.el),re(m),e,a,o),l.el=g.el,null===p&&$(e,g.el),h&&_t(h,a),(s=l.props&&l.props.onVnodeUpdated)&&_t((function(){return yn(s,d,l,v)}),a)}else{var w,k=t,b=k.el,_=k.props,E=e.bm,I=e.m,S=e.parent,T=we(t);if(St(e,!1),E&&(0,c.ir)(E),!T&&(w=_&&_.onVnodeBeforeMount)&&yn(w,S,t),St(e,!0),b&&i){var A=function(){e.subTree=z(e),i(b,e.subTree,e,a,null)};T?t.type.__asyncLoader().then((function(){return!e.isUnmounted&&A()})):A()}else{0;var R=e.subTree=z(e);0,x(null,R,n,r,e,a,o),t.el=R.el}if(I&&_t(I,a),!T&&(w=_&&_.onVnodeMounted)){var C=t;_t((function(){return yn(w,S,C)}),a)}256&t.shapeFlag&&e.a&&_t(e.a,a),e.isMounted=!0,t=n=r=null}},f=e.effect=new s.qq(l,(function(){return R(e.update)}),e.scope),h=e.update=f.run.bind(f);h.id=e.uid,St(e,!0),h()},G=function(e,t,n){t.component=e;var r=e.vnode.props;e.vnode=t,e.next=null,tt(e,t.props,r,n),pt(e,t.children,n),(0,s.Jd)(),M(void 0,e.update),(0,s.lk)()},K=function(e,t,n,r,i,a,o,u){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=e&&e.children,l=e?e.shapeFlag:0,f=t.children,h=t.patchFlag,d=t.shapeFlag;if(h>0){if(128&h)return void H(c,f,n,r,i,a,o,u,s);if(256&h)return void W(c,f,n,r,i,a,o,u,s)}8&d?(16&l&&ne(c,i,a),f!==c&&p(n,f)):16&l?16&d?H(c,f,n,r,i,a,o,u,s):ne(c,i,a,!0):(8&l&&p(n,""),16&d&&O(f,n,r,i,a,o,u,s))},W=function(e,t,n,r,i,a,o,u,s){e=e||c.Z6,t=t||c.Z6;var l,f=e.length,h=t.length,d=Math.min(f,h);for(l=0;l<d;l++){var v=t[l]=s?dn(t[l]):hn(t[l]);x(e[l],v,n,null,i,a,o,u,s)}f>h?ne(e,i,a,!0,!1,d):O(t,n,r,i,a,o,u,s,d)},H=function(e,t,n,r,i,a,o,u,s){var l=0,f=t.length,h=e.length-1,d=f-1;while(l<=h&&l<=d){var v=e[l],p=t[l]=s?dn(t[l]):hn(t[l]);if(!en(v,p))break;x(v,p,n,null,i,a,o,u,s),l++}while(l<=h&&l<=d){var y=e[h],g=t[d]=s?dn(t[d]):hn(t[d]);if(!en(y,g))break;x(y,g,n,null,i,a,o,u,s),h--,d--}if(l>h){if(l<=d){var m=d+1,w=m<f?t[m].el:r;while(l<=d)x(null,t[l]=s?dn(t[l]):hn(t[l]),n,w,i,a,o,u,s),l++}}else if(l>d)while(l<=h)J(e[l],i,a,!0),l++;else{var k,b=l,_=l,E=new Map;for(l=_;l<=d;l++){var I=t[l]=s?dn(t[l]):hn(t[l]);null!=I.key&&E.set(I.key,l)}var S=0,T=d-_+1,A=!1,R=0,C=new Array(T);for(l=0;l<T;l++)C[l]=0;for(l=b;l<=h;l++){var Z=e[l];if(S>=T)J(Z,i,a,!0);else{var D=void 0;if(null!=Z.key)D=E.get(Z.key);else for(k=_;k<=d;k++)if(0===C[k-_]&&en(Z,t[k])){D=k;break}void 0===D?J(Z,i,a,!0):(C[D-_]=l+1,D>=R?R=D:A=!0,x(Z,t[D],n,null,i,a,o,u,s),S++)}}var O=A?At(C):c.Z6;for(k=O.length-1,l=T-1;l>=0;l--){var N=_+l,M=t[N],L=N+1<f?t[N+1].el:r;0===C[l]?x(null,M,n,L,i,a,o,u,s):A&&(k<0||l!==O[k]?Y(M,n,L,2):k--)}}},Y=function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=t.el,s=t.type,c=t.transition,l=t.children,f=t.shapeFlag;if(6&f)e(t.component.subTree,n,r,i);else if(128&f)t.suspense.move(n,r,i);else if(64&f)s.move(t,n,r,ae);else if(s!==jt)if(s!==qt){var h=2!==i&&1&f&&c;if(h)if(0===i)c.beforeEnter(u),o(u,n,r),_t((function(){return c.enter(u)}),a);else{var d=c.leave,v=c.delayLeave,p=c.afterLeave,y=function(){return o(u,n,r)},g=function(){d(u,(function(){y(),p&&p()}))};v?v(u,y,g):g()}else o(u,n,r)}else S(t,n,r);else{o(u,n,r);for(var m=0;m<l.length;m++)e(l[m],n,r,i);o(t.anchor,n,r)}},J=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,o=e.props,u=e.ref,s=e.children,c=e.dynamicChildren,l=e.shapeFlag,f=e.patchFlag,h=e.dirs;if(null!=u&&bt(u,null,n,e,!0),256&l)t.ctx.deactivate(e);else{var d,v=1&l&&h,p=!we(e);if(p&&(d=o&&o.onVnodeBeforeUnmount)&&yn(d,t,e),6&l)te(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);v&&gt(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,i,ae,r):c&&(a!==jt||f>0&&64&f)?ne(c,t,n,!1,!0):(a===jt&&384&f||!i&&16&l)&&ne(s,t,n),r&&X(e)}(p&&(d=o&&o.onVnodeUnmounted)||v)&&_t((function(){d&&yn(d,t,e),v&&gt(e,null,t,"unmounted")}),n)}},X=function(e){var t=e.type,n=e.el,r=e.anchor,i=e.transition;if(t!==jt)if(t!==qt){var a=function(){u(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){var o=i.leave,s=i.delayLeave,c=function(){return o(n,a)};s?s(e.el,a,c):c()}else a()}else T(e);else ee(n,r)},ee=function(e,t){var n;while(e!==t)n=g(e),u(e),e=n;u(t)},te=function(e,t,n){var r=e.bum,i=e.scope,a=e.update,o=e.subTree,u=e.um;r&&(0,c.ir)(r),i.stop(),a&&(a.active=!1,J(o,e,t,n)),u&&_t(u,t),_t((function(){e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ne=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=a;o<e.length;o++)J(e[o],t,n,r,i)},re=function e(t){return 6&t.shapeFlag?e(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el)},ie=function(e,t,n){null==e?t._vnode&&J(t._vnode,null,null,!0):x(t._vnode||null,e,t,null,null,null,n),L(),t._vnode=e},ae={p:x,um:J,m:Y,r:X,mt:U,mc:O,pc:K,pbc:P,n:re,o:e};if(t){var oe=t(ae),ue=(0,a.Z)(oe,2);r=ue[0],i=ue[1]}return{render:ie,hydrate:r,createApp:kt(ie,r)}}function St(e,t){var n=e.effect,r=e.update;n.allowRecurse=r.allowRecurse=t}function Tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.children,i=t.children;if((0,c.kJ)(r)&&(0,c.kJ)(i))for(var a=0;a<r.length;a++){var o=r[a],u=i[a];1&u.shapeFlag&&!u.dynamicChildren&&((u.patchFlag<=0||32===u.patchFlag)&&(u=i[a]=dn(i[a]),u.el=o.el),n||Tt(o,u))}}function At(e){var t,n,r,i,a,o=e.slice(),u=[0],s=e.length;for(t=0;t<s;t++){var c=e[t];if(0!==c){if(n=u[u.length-1],e[n]<c){o[t]=n,u.push(t);continue}r=0,i=u.length-1;while(r<i)a=r+i>>1,e[u[a]]<c?r=a+1:i=a;c<e[u[r]]&&(r>0&&(o[t]=u[r-1]),u[r]=t)}}r=u.length,i=u[r-1];while(r-- >0)u[r]=i,i=o[i];return u}var Rt=function(e){return e.__isTeleport},Ct=function(e){return e&&(e.disabled||""===e.disabled)},Zt=function(e){return"undefined"!==typeof SVGElement&&e instanceof SVGElement},Dt=function(e,t){var n=e&&e.to;if((0,c.HD)(n)){if(t){var r=t(n);return r}return null}return n};(function(e){function t(t,n,r,i,a,o,u,s,c,l){return e.apply(this,arguments)}t.toString=function(){return e.toString()}})((function(e,t,n,r,i,a,o,u,s,c){var l=c.mc,f=c.pc,h=c.pbc,d=c.o,v=d.insert,p=d.querySelector,y=d.createText,g=(d.createComment,Ct(t.props)),m=t.shapeFlag,w=t.children,k=t.dynamicChildren;if(null==e){var b=t.el=y(""),x=t.anchor=y("");v(b,n,r),v(x,n,r);var _=t.target=Dt(t.props,p),E=t.targetAnchor=y("");_&&(v(E,_),o=o||Zt(_));var I=function(e,t){16&m&&l(w,e,t,i,a,o,u,s)};g?I(n,x):_&&I(_,E)}else{t.el=e.el;var S=t.anchor=e.anchor,T=t.target=e.target,A=t.targetAnchor=e.targetAnchor,R=Ct(e.props),C=R?n:T,Z=R?S:A;if(o=o||Zt(T),k?(h(e.dynamicChildren,k,C,i,a,o,u),Tt(e,t,!0)):s||f(e,t,C,Z,i,a,o,u,!1),g)R||Ot(t,n,S,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){var D=t.target=Dt(t.props,p);D&&Ot(t,D,null,c,0)}else R&&Ot(t,T,A,c,1)}}));function Ot(e,t,n,r){var i=r.o.insert,a=r.m,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;0===o&&i(e.targetAnchor,t,n);var u=e.el,s=e.anchor,c=e.shapeFlag,l=e.children,f=e.props,h=2===o;if(h&&i(u,t,n),(!h||Ct(f))&&16&c)for(var d=0;d<l.length;d++)a(l[d],t,n,2);h&&i(s,t,n)}function Nt(e,t,n,r,i,a,o,u){var s=o.o,c=s.nextSibling,l=s.parentNode,f=s.querySelector,h=t.target=Dt(t.props,f);if(h){var d=h._lpa||h.firstChild;16&t.shapeFlag&&(Ct(t.props)?(t.anchor=u(c(e),t,l(e),n,r,i,a),t.targetAnchor=d):(t.anchor=c(e),t.targetAnchor=u(d,t,h,n,r,i,a)),h._lpa=t.targetAnchor&&c(t.targetAnchor))}return t.anchor&&c(t.anchor)}var Mt="components";function Lt(e,t){return Ft(Mt,e,!0,t)||e}var Pt=Symbol();function Ft(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=B||En;if(r){var i=r.type;if(e===Mt){var a=Vn(i);if(a&&(a===t||a===(0,c._A)(t)||a===(0,c.kC)((0,c._A)(t))))return i}var o=Vt(r[e]||i[e],t)||Vt(r.appContext[e],t);return!o&&n?i:o}}function Vt(e,t){return e&&(e[t]||e[(0,c._A)(t)]||e[(0,c.kC)((0,c._A)(t))])}var jt=Symbol(void 0),Ut=Symbol(void 0),Bt=Symbol(void 0),qt=Symbol(void 0),Gt=[],Kt=null;function zt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Gt.push(Kt=e?null:[])}function Wt(){Gt.pop(),Kt=Gt[Gt.length-1]||null}var Ht=1;function Qt(e){Ht+=e}function Yt(e){return e.dynamicChildren=Ht>0?Kt||c.Z6:null,Wt(),Ht>0&&Kt&&Kt.push(e),e}function $t(e,t,n,r,i,a){return Yt(an(e,t,n,r,i,a,!0))}function Jt(e,t,n,r,i){return Yt(on(e,t,n,r,i,!0))}function Xt(e){return!!e&&!0===e.__v_isVNode}function en(e,t){return e.type===t.type&&e.key===t.key}var tn="__vInternal",nn=function(e){var t=e.key;return null!=t?t:null},rn=function(e){var t=e.ref,n=e.ref_key,r=e.ref_for;return null!=t?(0,c.HD)(t)||(0,s.dq)(t)||(0,c.mf)(t)?{i:B,r:t,k:n,f:!!r}:t:null};function an(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e===jt?0:1,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nn(t),ref:t&&rn(t),scopeId:q,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return u?(vn(s,n),128&a&&e.normalize(s)):n&&(s.shapeFlag|=(0,c.HD)(n)?8:16),Ht>0&&!o&&Kt&&(s.patchFlag>0||6&a)&&32!==s.patchFlag&&Kt.push(s),s}var on=un;function un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&e!==Pt||(e=Bt),Xt(e)){var o=cn(e,t,!0);return n&&vn(o,n),o}if(jn(e)&&(e=e.__vccOpts),t){t=sn(t);var u=t,l=u["class"],f=u.style;l&&!(0,c.HD)(l)&&(t["class"]=(0,c.C_)(l)),(0,c.Kn)(f)&&((0,s.X3)(f)&&!(0,c.kJ)(f)&&(f=(0,c.l7)({},f)),t.style=(0,c.j5)(f))}var h=(0,c.HD)(e)?1:J(e)?128:Rt(e)?64:(0,c.Kn)(e)?4:(0,c.mf)(e)?2:0;return an(e,t,n,r,i,h,a,!0)}function sn(e){return e?(0,s.X3)(e)||tn in e?(0,c.l7)({},e):e:null}function cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.props,i=e.ref,a=e.patchFlag,o=e.children,u=t?pn(r||{},t):r,s={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&nn(u),ref:t&&t.ref?n&&i?(0,c.kJ)(i)?i.concat(rn(t)):[i,rn(t)]:rn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==jt?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cn(e.ssContent),ssFallback:e.ssFallback&&cn(e.ssFallback),el:e.el,anchor:e.anchor};return s}function ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return on(Ut,null,e,t)}function fn(e,t){var n=on(qt,null,e);return n.staticCount=t,n}function hn(e){return null==e||"boolean"===typeof e?on(Bt):(0,c.kJ)(e)?on(jt,null,e.slice()):"object"===(0,i.Z)(e)?dn(e):on(Ut,null,String(e))}function dn(e){return null===e.el||e.memo?e:cn(e)}function vn(e,t){var n=0,r=e.shapeFlag;if(null==t)t=null;else if((0,c.kJ)(t))n=16;else if("object"===(0,i.Z)(t)){if(65&r){var a=t["default"];return void(a&&(a._c&&(a._d=!1),vn(e,a()),a._c&&(a._d=!0)))}n=32;var o=t._;o||tn in t?3===o&&B&&(1===B.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=B}else(0,c.mf)(t)?(t={default:t,_ctx:B},n=32):(t=String(t),64&r?(n=16,t=[ln(t)]):n=8);e.children=t,e.shapeFlag|=n}function pn(){for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var r in n)if("class"===r)e["class"]!==n["class"]&&(e["class"]=(0,c.C_)([e["class"],n["class"]]));else if("style"===r)e.style=(0,c.j5)([e.style,n.style]);else if((0,c.F7)(r)){var i=e[r],a=n[r];!a||i===a||(0,c.kJ)(i)&&i.includes(a)||(e[r]=i?[].concat(i,a):a)}else""!==r&&(e[r]=n[r])}return e}function yn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(e,t,7,[n,r])}function gn(e,t,n,r){var i,a=n&&n[r];if((0,c.kJ)(e)||(0,c.HD)(e)){i=new Array(e.length);for(var o=0,u=e.length;o<u;o++)i[o]=t(e[o],o,void 0,a&&a[o])}else if("number"===typeof e){0,i=new Array(e);for(var s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if((0,c.Kn)(e))if(e[Symbol.iterator])i=Array.from(e,(function(e,n){return t(e,n,void 0,a&&a[n])}));else{var l=Object.keys(e);i=new Array(l.length);for(var f=0,h=l.length;f<h;f++){var d=l[f];i[f]=t(e[d],d,f,a&&a[f])}}else i=[];return n&&(n[r]=i),i}var mn=function e(t){return t?An(t)?Fn(t)||t.proxy:e(t.parent):null},wn=(0,c.l7)(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return mn(e.parent)},$root:function(e){return mn(e.root)},$emit:function(e){return e.emit},$options:function(e){return Ke(e)},$forceUpdate:function(e){return function(){return R(e.update)}},$nextTick:function(e){return T.bind(e.proxy)},$watch:function(e){return ae.bind(e)}}),kn={get:function(e,t){var n,r=e._,i=r.ctx,a=r.setupState,o=r.data,u=r.props,l=r.accessCache,f=r.type,h=r.appContext;if("$"!==t[0]){var d=l[t];if(void 0!==d)switch(d){case 1:return a[t];case 2:return o[t];case 4:return i[t];case 3:return u[t]}else{if(a!==c.kT&&(0,c.RI)(a,t))return l[t]=1,a[t];if(o!==c.kT&&(0,c.RI)(o,t))return l[t]=2,o[t];if((n=r.propsOptions[0])&&(0,c.RI)(n,t))return l[t]=3,u[t];if(i!==c.kT&&(0,c.RI)(i,t))return l[t]=4,i[t];je&&(l[t]=0)}}var v,p,y=wn[t];return y?("$attrs"===t&&(0,s.j)(r,"get",t),y(r)):(v=f.__cssModules)&&(v=v[t])?v:i!==c.kT&&(0,c.RI)(i,t)?(l[t]=4,i[t]):(p=h.config.globalProperties,(0,c.RI)(p,t)?p[t]:void 0)},set:function(e,t,n){var r=e._,i=r.data,a=r.setupState,o=r.ctx;return a!==c.kT&&(0,c.RI)(a,t)?(a[t]=n,!0):i!==c.kT&&(0,c.RI)(i,t)?(i[t]=n,!0):!(0,c.RI)(r.props,t)&&(("$"!==t[0]||!(t.slice(1)in r))&&(o[t]=n,!0))},has:function(e,t){var n,r=e._,i=r.data,a=r.setupState,o=r.accessCache,u=r.ctx,s=r.appContext,l=r.propsOptions;return!!o[t]||i!==c.kT&&(0,c.RI)(i,t)||a!==c.kT&&(0,c.RI)(a,t)||(n=l[0])&&(0,c.RI)(n,t)||(0,c.RI)(u,t)||(0,c.RI)(wn,t)||(0,c.RI)(s.config.globalProperties,t)},defineProperty:function(e,t,n){return null!=n.get?this.set(e,t,n.get(),null):null!=n.value&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};var bn=mt(),xn=0;function _n(e,t,n){var r=e.type,i=(t?t.appContext:e.appContext)||bn,a={uid:xn++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new s.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:it(r,i),emitsOptions:j(r,i),emit:null,emitted:null,propsDefaults:c.kT,inheritAttrs:r.inheritAttrs,ctx:c.kT,data:c.kT,props:c.kT,attrs:c.kT,slots:c.kT,refs:c.kT,setupState:c.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=V.bind(null,a),e.ce&&e.ce(a),a}var En=null,In=function(){return En||B},Sn=function(e){En=e,e.scope.on()},Tn=function(){En&&En.scope.off(),En=null};function An(e){return 4&e.vnode.shapeFlag}var Rn,Cn,Zn=!1;function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Zn=t;var n=e.vnode,r=n.props,i=n.children,a=An(e);et(e,r,a,t),vt(e,i);var o=a?On(e,t):void 0;return Zn=!1,o}function On(e,t){var n=e.type;e.accessCache=Object.create(null),e.proxy=(0,s.Xl)(new Proxy(e.ctx,kn));var r=n.setup;if(r){var i=e.setupContext=r.length>1?Pn(e):null;Sn(e),(0,s.Jd)();var a=l(r,e,0,[e.props,i]);if((0,s.lk)(),Tn(),(0,c.tI)(a)){if(a.then(Tn,Tn),t)return a.then((function(n){Nn(e,n,t)}))["catch"]((function(t){h(t,e,0)}));e.asyncDep=a}else Nn(e,a,t)}else Mn(e,t)}function Nn(e,t,n){(0,c.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,c.Kn)(t)&&(e.setupState=(0,s.WL)(t)),Mn(e,n)}function Mn(e,t,n){var r=e.type;if(!e.render){if(!t&&Rn&&!r.render){var i=r.template;if(i){0;var a=e.appContext.config,o=a.isCustomElement,u=a.compilerOptions,l=r.delimiters,f=r.compilerOptions,h=(0,c.l7)((0,c.l7)({isCustomElement:o,delimiters:l},u),f);r.render=Rn(i,h)}}e.render=r.render||c.dG,Cn&&Cn(e)}Sn(e),(0,s.Jd)(),Ue(e),(0,s.lk)(),Tn()}function Ln(e){return new Proxy(e.attrs,{get:function(t,n){return(0,s.j)(e,"get","$attrs"),t[n]}})}function Pn(e){var t,n=function(t){e.exposed=t||{}};return{get attrs(){return t||(t=Ln(e))},slots:e.slots,emit:e.emit,expose:n}}function Fn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,s.WL)((0,s.Xl)(e.exposed)),{get:function(t,n){return n in t?t[n]:n in wn?wn[n](e):void 0}}))}function Vn(e){return(0,c.mf)(e)&&e.displayName||e.name}function jn(e){return(0,c.mf)(e)&&"__vccOpts"in e}var Un=function(e,t){return(0,s.Fl)(e,t,Zn)};function Bn(e,t,n){var r=arguments.length;return 2===r?(0,c.Kn)(t)&&!(0,c.kJ)(t)?Xt(t)?on(e,null,[t]):on(e,t):on(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Xt(n)&&(n=[n]),on(e,t,n))}Symbol("");var qn="3.2.31"},9242:(e,t,n)=>{"use strict";n.d(t,{iM:()=>he,nr:()=>ce,ri:()=>ye});n(6347);var r=n(2833),i=n(3087),a=(n(9110),n(7946),n(6084)),o=n(3336),u=n(9584),s=(n(9600),n(2222),n(9554),n(1539),n(4747),n(6755),n(4916),n(7601),n(5306),n(7042),n(6699),n(2023),n(3843),n(3710),n(4723),n(9653),n(1249),n(8309),n(7941),n(8011),n(9070),n(5218),n(5212),n(8862),n(3123),n(189),n(8783),n(3948),n(2564),n(4129),n(7327),n(3210),n(561),n(7139)),c=n(3396),l=(n(4870),"http://www.w3.org/2000/svg"),f="undefined"!==typeof document?document:null,h=f&&f.createElement("template"),d={insert:function(e,t,n){t.insertBefore(e,n||null)},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},createElement:function(e,t,n,r){var i=t?f.createElementNS(l,e):f.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:function(e){return f.createTextNode(e)},createComment:function(e){return f.createComment(e)},setText:function(e,t){e.nodeValue=t},setElementText:function(e,t){e.textContent=t},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return f.querySelector(e)},setScopeId:function(e,t){e.setAttribute(t,"")},cloneNode:function(e){var t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent:function(e,t,n,r,i,a){var o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===a||!(i=i.nextSibling))break}else{h.innerHTML=r?"<svg>".concat(e,"</svg>"):e;var u=h.content;if(r){var s=u.firstChild;while(s.firstChild)u.appendChild(s.firstChild);u.removeChild(s)}t.insertBefore(u,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function v(e,t,n){var r=e._vtc;r&&(t=(t?[t].concat((0,u.Z)(r)):(0,u.Z)(r)).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function p(e,t,n){var r=e.style,i=(0,s.HD)(n);if(n&&!i){for(var a in n)g(r,a,n[a]);if(t&&!(0,s.HD)(t))for(var o in t)null==n[o]&&g(r,o,"")}else{var u=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=u)}}var y=/\s*!important$/;function g(e,t,n){if((0,s.kJ)(n))n.forEach((function(n){return g(e,t,n)}));else if(t.startsWith("--"))e.setProperty(t,n);else{var r=k(e,t);y.test(n)?e.setProperty((0,s.rs)(r),n.replace(y,""),"important"):e[r]=n}}var m=["Webkit","Moz","ms"],w={};function k(e,t){var n=w[t];if(n)return n;var r=(0,s._A)(t);if("filter"!==r&&r in e)return w[t]=r;r=(0,s.kC)(r);for(var i=0;i<m.length;i++){var a=m[i]+r;if(a in e)return w[t]=a}return t}var b="http://www.w3.org/1999/xlink";function x(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(b,t.slice(6,t.length)):e.setAttributeNS(b,t,n);else{var a=(0,s.Pq)(t);null==n||a&&!(0,s.yA)(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function _(e,t,n,r,i,a,u){if("innerHTML"===t||"textContent"===t)return r&&u(r,i,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;var c=null==n?"":n;return e.value===c&&"OPTION"!==e.tagName||(e.value=c),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){var l=(0,o.Z)(e[t]);if("boolean"===l)return void(e[t]=(0,s.yA)(n));if(null==n&&"string"===l)return e[t]="",void e.removeAttribute(t);if("number"===l){try{e[t]=0}catch(f){}return void e.removeAttribute(t)}}try{e[t]=n}catch(h){0}}var E=Date.now,I=!1;if("undefined"!==typeof window){E()>document.createEvent("Event").timeStamp&&(E=function(){return performance.now()});var S=navigator.userAgent.match(/firefox\/(\d+)/i);I=!!(S&&Number(S[1])<=53)}var T=0,A=Promise.resolve(),R=function(){T=0},C=function(){return T||(A.then(R),T=E())};function Z(e,t,n,r){e.addEventListener(t,n,r)}function D(e,t,n,r){e.removeEventListener(t,n,r)}function O(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=e._vei||(e._vei={}),u=o[t];if(r&&u)u.value=r;else{var s=M(t),c=(0,a.Z)(s,2),l=c[0],f=c[1];if(r){var h=o[t]=L(r,i);Z(e,l,h,f)}else u&&(D(e,l,u,f),o[t]=void 0)}}var N=/(?:Once|Passive|Capture)$/;function M(e){var t;if(N.test(e)){var n;t={};while(n=e.match(N))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,s.rs)(e.slice(2)),t]}function L(e,t){var n=function e(n){var r=n.timeStamp||E();(I||r>=e.attached-1)&&(0,c.$d)(P(n,e.value),t,5,[n])};return n.value=e,n.attached=C(),n}function P(e,t){if((0,s.kJ)(t)){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){n.call(e),e._stopped=!0},t.map((function(e){return function(t){return!t._stopped&&e&&e(t)}}))}return t}var F=/^on[a-z]/,V=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0;"class"===t?v(e,r,i):"style"===t?p(e,n,r):(0,s.F7)(t)?(0,s.tR)(t)||O(e,t,n,r,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):j(e,t,r,i))?_(e,t,r,a,o,u,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),x(e,t,r,i))};function j(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&F.test(t)&&(0,s.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!F.test(t)||!(0,s.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;var U="transition",B="animation",q=function(e,t){var n=t.slots;return(0,c.h)(c.P$,W(e),n)};q.displayName="Transition";var G={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},K=(q.props=(0,s.l7)({},c.P$.props,G),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,s.kJ)(e)?e.forEach((function(e){return e.apply(void 0,(0,u.Z)(t))})):e&&e.apply(void 0,(0,u.Z)(t))}),z=function(e){return!!e&&((0,s.kJ)(e)?e.some((function(e){return e.length>1})):e.length>1)};function W(e){var t={};for(var n in e)n in G||(t[n]=e[n]);if(!1===e.css)return t;var r=e.name,i=void 0===r?"v":r,a=e.type,o=e.duration,u=e.enterFromClass,c=void 0===u?"".concat(i,"-enter-from"):u,l=e.enterActiveClass,f=void 0===l?"".concat(i,"-enter-active"):l,h=e.enterToClass,d=void 0===h?"".concat(i,"-enter-to"):h,v=e.appearFromClass,p=void 0===v?c:v,y=e.appearActiveClass,g=void 0===y?f:y,m=e.appearToClass,w=void 0===m?d:m,k=e.leaveFromClass,b=void 0===k?"".concat(i,"-leave-from"):k,x=e.leaveActiveClass,_=void 0===x?"".concat(i,"-leave-active"):x,E=e.leaveToClass,I=void 0===E?"".concat(i,"-leave-to"):E,S=H(o),T=S&&S[0],A=S&&S[1],R=t.onBeforeEnter,C=t.onEnter,Z=t.onEnterCancelled,D=t.onLeave,O=t.onLeaveCancelled,N=t.onBeforeAppear,M=void 0===N?R:N,L=t.onAppear,P=void 0===L?C:L,F=t.onAppearCancelled,V=void 0===F?Z:F,j=function(e,t,n){$(e,t?w:d),$(e,t?g:f),n&&n()},U=function(e,t){$(e,I),$(e,_),t&&t()},B=function(e){return function(t,n){var r=e?P:C,i=function(){return j(t,e,n)};K(r,[t,i]),J((function(){$(t,e?p:c),Y(t,e?w:d),z(r)||ee(t,a,T,i)}))}};return(0,s.l7)(t,{onBeforeEnter:function(e){K(R,[e]),Y(e,c),Y(e,f)},onBeforeAppear:function(e){K(M,[e]),Y(e,p),Y(e,g)},onEnter:B(!1),onAppear:B(!0),onLeave:function(e,t){var n=function(){return U(e,t)};Y(e,b),ie(),Y(e,_),J((function(){$(e,b),Y(e,I),z(D)||ee(e,a,A,n)})),K(D,[e,n])},onEnterCancelled:function(e){j(e,!1),K(Z,[e])},onAppearCancelled:function(e){j(e,!0),K(V,[e])},onLeaveCancelled:function(e){U(e),K(O,[e])}})}function H(e){if(null==e)return null;if((0,s.Kn)(e))return[Q(e.enter),Q(e.leave)];var t=Q(e);return[t,t]}function Q(e){var t=(0,s.He)(e);return t}function Y(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.add(t)})),(e._vtc||(e._vtc=new Set)).add(t)}function $(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.remove(t)}));var n=e._vtc;n&&(n["delete"](t),n.size||(e._vtc=void 0))}function J(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}var X=0;function ee(e,t,n,r){var i=e._endId=++X,a=function(){i===e._endId&&r()};if(n)return setTimeout(a,n);var o=te(e,t),u=o.type,s=o.timeout,c=o.propCount;if(!u)return r();var l=u+"end",f=0,h=function(){e.removeEventListener(l,d),a()},d=function(t){t.target===e&&++f>=c&&h()};setTimeout((function(){f<c&&h()}),s+1),e.addEventListener(l,d)}function te(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},i=r(U+"Delay"),a=r(U+"Duration"),o=ne(i,a),u=r(B+"Delay"),s=r(B+"Duration"),c=ne(u,s),l=null,f=0,h=0;t===U?o>0&&(l=U,f=o,h=a.length):t===B?c>0&&(l=B,f=c,h=s.length):(f=Math.max(o,c),l=f>0?o>c?U:B:null,h=l?l===U?a.length:s.length:0);var d=l===U&&/\b(transform|all)(,|$)/.test(n[U+"Property"]);return{type:l,timeout:f,propCount:h,hasTransform:d}}function ne(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(Math,(0,u.Z)(t.map((function(t,n){return re(t)+re(e[n])}))))}function re(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ie(){return document.body.offsetHeight}new WeakMap,new WeakMap;var ae=function(e){var t=e.props["onUpdate:modelValue"];return(0,s.kJ)(t)?function(e){return(0,s.ir)(t,e)}:t};function oe(e){e.target.composing=!0}function ue(e){var t=e.target;t.composing&&(t.composing=!1,se(t,"input"))}function se(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}var ce={created:function(e,t,n){var r=t.modifiers,i=r.lazy,a=r.trim,o=r.number;e._assign=ae(n);var u=o||n.props&&"number"===n.props.type;Z(e,i?"change":"input",(function(t){if(!t.target.composing){var n=e.value;a?n=n.trim():u&&(n=(0,s.He)(n)),e._assign(n)}})),a&&Z(e,"change",(function(){e.value=e.value.trim()})),i||(Z(e,"compositionstart",oe),Z(e,"compositionend",ue),Z(e,"change",ue))},mounted:function(e,t){var n=t.value;e.value=null==n?"":n},beforeUpdate:function(e,t,n){var r=t.value,i=t.modifiers,a=i.lazy,o=i.trim,u=i.number;if(e._assign=ae(n),!e.composing){if(document.activeElement===e){if(a)return;if(o&&e.value.trim()===r)return;if((u||"number"===e.type)&&(0,s.He)(e.value)===r)return}var c=null==r?"":r;e.value!==c&&(e.value=c)}}};var le=["ctrl","shift","alt","meta"],fe={stop:function(e){return e.stopPropagation()},prevent:function(e){return e.preventDefault()},self:function(e){return e.target!==e.currentTarget},ctrl:function(e){return!e.ctrlKey},shift:function(e){return!e.shiftKey},alt:function(e){return!e.altKey},meta:function(e){return!e.metaKey},left:function(e){return"button"in e&&0!==e.button},middle:function(e){return"button"in e&&1!==e.button},right:function(e){return"button"in e&&2!==e.button},exact:function(e,t){return le.some((function(n){return e["".concat(n,"Key")]&&!t.includes(n)}))}},he=function(e,t){return function(n){for(var r=0;r<t.length;r++){var i=fe[t[r]];if(i&&i(n,t))return}for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return e.apply(void 0,[n].concat(o))}};var de,ve=(0,s.l7)({patchProp:V},d);function pe(){return de||(de=(0,c.Us)(ve))}var ye=function(){var e,t=(e=pe()).createApp.apply(e,arguments);var n=t.mount;return t.mount=function(e){var r=ge(e);if(r){var i=t._component;(0,s.mf)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";var a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a}},t};function ge(e){if((0,s.HD)(e)){var t=document.querySelector(e);return t}return e}},7139:(e,t,n)=>{"use strict";n.d(t,{C_:()=>w,DM:()=>V,E9:()=>ce,F7:()=>Z,Gg:()=>$,HD:()=>B,He:()=>se,Kn:()=>G,NO:()=>R,Nj:()=>ue,Od:()=>N,PO:()=>Q,Pq:()=>d,RI:()=>L,S0:()=>Y,W7:()=>H,WV:()=>b,Z6:()=>T,_A:()=>ee,_N:()=>F,aU:()=>ae,dG:()=>A,e1:()=>f,fY:()=>c,hR:()=>ie,hq:()=>x,ir:()=>oe,j5:()=>p,kC:()=>re,kJ:()=>P,kT:()=>S,l7:()=>O,mf:()=>U,rs:()=>ne,tI:()=>K,tR:()=>D,yA:()=>v,yk:()=>q,zw:()=>E});var r,i,a=n(3336),o=n(6084),u=n(9584),s=n(2482);n(8011),n(4916),n(3123),n(7327),n(1539),n(2222),n(2481),n(9600),n(7601),n(9554),n(4747),n(3210),n(6755),n(7042),n(5306),n(7941),n(4553),n(6647),n(3710),n(9714),n(8862),n(5827),n(3948),n(3371),n(2772),n(561),n(9753),n(1058),n(3304),n(9070),n(4678),n(5837);function c(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return!!n[e.toLowerCase()]}:function(e){return!!n[e]}}r={},(0,s.Z)(r,1,"TEXT"),(0,s.Z)(r,2,"CLASS"),(0,s.Z)(r,4,"STYLE"),(0,s.Z)(r,8,"PROPS"),(0,s.Z)(r,16,"FULL_PROPS"),(0,s.Z)(r,32,"HYDRATE_EVENTS"),(0,s.Z)(r,64,"STABLE_FRAGMENT"),(0,s.Z)(r,128,"KEYED_FRAGMENT"),(0,s.Z)(r,256,"UNKEYED_FRAGMENT"),(0,s.Z)(r,512,"NEED_PATCH"),(0,s.Z)(r,1024,"DYNAMIC_SLOTS"),(0,s.Z)(r,2048,"DEV_ROOT_FRAGMENT"),(0,s.Z)(r,-1,"HOISTED"),(0,s.Z)(r,-2,"BAIL"),i={},(0,s.Z)(i,1,"STABLE"),(0,s.Z)(i,2,"DYNAMIC"),(0,s.Z)(i,3,"FORWARDED");var l="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",f=c(l);var h="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d=c(h);function v(e){return!!e||""===e}function p(e){if(P(e)){for(var t={},n=0;n<e.length;n++){var r=e[n],i=B(r)?m(r):p(r);if(i)for(var a in i)t[a]=i[a]}return t}return B(e)||G(e)?e:void 0}var y=/;(?![^(]*\))/g,g=/:(.+)/;function m(e){var t={};return e.split(y).forEach((function(e){if(e){var n=e.split(g);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function w(e){var t="";if(B(e))t=e;else if(P(e))for(var n=0;n<e.length;n++){var r=w(e[n]);r&&(t+=r+" ")}else if(G(e))for(var i in e)e[i]&&(t+=i+" ");return t.trim()}function k(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;n&&r<e.length;r++)n=b(e[r],t[r]);return n}function b(e,t){if(e===t)return!0;var n=j(e),r=j(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=P(e),r=P(t),n||r)return!(!n||!r)&&k(e,t);if(n=G(e),r=G(t),n||r){if(!n||!r)return!1;var i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(var o in e){var u=e.hasOwnProperty(o),s=t.hasOwnProperty(o);if(u&&!s||!u&&s||!b(e[o],t[o]))return!1}}return String(e)===String(t)}function x(e,t){return e.findIndex((function(e){return b(e,t)}))}var _,E=function(e){return B(e)?e:null==e?"":P(e)||G(e)&&(e.toString===z||!U(e.toString))?JSON.stringify(e,I,2):String(e)},I=function e(t,n){return n&&n.__v_isRef?e(t,n.value):F(n)?(0,s.Z)({},"Map(".concat(n.size,")"),(0,u.Z)(n.entries()).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];return e["".concat(r," =>")]=i,e}),{})):V(n)?(0,s.Z)({},"Set(".concat(n.size,")"),(0,u.Z)(n.values())):!G(n)||P(n)||Q(n)?n:String(n)},S={},T=[],A=function(){},R=function(){return!1},C=/^on[^a-z]/,Z=function(e){return C.test(e)},D=function(e){return e.startsWith("onUpdate:")},O=Object.assign,N=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},M=Object.prototype.hasOwnProperty,L=function(e,t){return M.call(e,t)},P=Array.isArray,F=function(e){return"[object Map]"===W(e)},V=function(e){return"[object Set]"===W(e)},j=function(e){return e instanceof Date},U=function(e){return"function"===typeof e},B=function(e){return"string"===typeof e},q=function(e){return"symbol"===(0,a.Z)(e)},G=function(e){return null!==e&&"object"===(0,a.Z)(e)},K=function(e){return G(e)&&U(e.then)&&U(e["catch"])},z=Object.prototype.toString,W=function(e){return z.call(e)},H=function(e){return W(e).slice(8,-1)},Q=function(e){return"[object Object]"===W(e)},Y=function(e){return B(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},$=c(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),J=function(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}},X=/-(\w)/g,ee=J((function(e){return e.replace(X,(function(e,t){return t?t.toUpperCase():""}))})),te=/\B([A-Z])/g,ne=J((function(e){return e.replace(te,"-$1").toLowerCase()})),re=J((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),ie=J((function(e){return e?"on".concat(re(e)):""})),ae=function(e,t){return!Object.is(e,t)},oe=function(e,t){for(var n=0;n<e.length;n++)e[n](t)},ue=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},se=function(e){var t=parseFloat(e);return isNaN(t)?e:t},ce=function(){return _||(_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})}},6133:(e,t,n)=>{e=n.nmd(e);var r=n(7847)["default"];n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(9070),n(8011),n(489),n(9554),n(8309),n(8304),n(1703),n(6647),n(4747),n(5069),n(7042),n(5837);var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=S(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function w(){}var k={};c(k,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(Z([])));x&&x!==n&&i.call(x,o)&&(k=x);var _=w.prototype=g.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(a,o,u,s){var c=f(e[a],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===r(h)&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(h).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var a;function o(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}this._invoke=o}function S(e,t,n){var r=h;return function(i,a){if(r===v)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return D()}n.method=i,n.arg=a;while(1){var o=n.delegate;if(o){var u=T(o,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var s=f(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=f(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function Z(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){while(++r<e.length)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:t,done:!0}}return m.prototype=w,c(_,"constructor",w),c(w,"constructor",m),m.displayName=c(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},E(I.prototype),c(I.prototype,u,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=Z,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:Z(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}("object"===r(e)?e.exports:{});try{regeneratorRuntime=i}catch(a){"object"===("undefined"===typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},6520:(e,t,n)=>{"use strict";n.d(t,{Ei:()=>C,w3:()=>R});var r=n(3336),i=(n(1703),n(6647),n(9070),n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321),n(8011),n(8304),n(489),n(1299),n(2419),n(3710),n(4812),n(9753),n(1817),n(2165),n(8783),n(3948),n(1038),n(7042),n(8309),n(4916),n(7601),n(6210),n(2772),n(2222),n(1249),n(4870));
/**
  * vue-class-component v8.0.0-rc.1
  * (c) 2015-present Evan You
  * @license MIT
  */
function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return!t||"object"!==(0,r.Z)(t)&&"function"!==typeof t?p(e):t}function g(e){var t=v();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function m(e){return w(e)||k(e)||b(e)||_()}function w(e){if(Array.isArray(e))return x(e)}function k(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!1,configurable:!0})}function I(e,t,n){Object.defineProperty(e,t,{get:function(){return n[t].value},set:function(e){n[t].value=e},enumerable:!0,configurable:!0})}function S(e){var t=Object.getPrototypeOf(e.prototype);if(t)return t.constructor}function T(e,t){return e.hasOwnProperty(t)?e[t]:void 0}var A=function(){function e(t,n){var r=this;a(this,e),E(this,"$props",(function(){return t})),E(this,"$attrs",(function(){return n.attrs})),E(this,"$slots",(function(){return n.slots})),E(this,"$emit",(function(){return n.emit})),Object.keys(t).forEach((function(e){Object.defineProperty(r,e,{enumerable:!1,configurable:!0,writable:!0,value:t[e]})}))}return u(e,null,[{key:"registerHooks",value:function(e){var t;(t=this.__h).push.apply(t,m(e))}},{key:"with",value:function(e){var t=new e,n={};Object.keys(t).forEach((function(e){var r=t[e];n[e]=null!==r&&void 0!==r?r:null}));var r=function(e){f(n,e);var t=g(n);function n(){return a(this,n),t.apply(this,arguments)}return n}(this);return r.__b={props:n},r}},{key:"__vccOpts",get:function(){if(this===R)return{};var e=this,t=T(e,"__c");if(t)return t;var n=l({},T(e,"__o"));e.__c=n;var r=S(e);r&&(n["extends"]=r.__vccOpts);var a=T(e,"__b");a&&(n.mixins=n.mixins||[],n.mixins.unshift(a)),n.methods=l({},n.methods),n.computed=l({},n.computed);var o=e.prototype;Object.getOwnPropertyNames(o).forEach((function(t){if("constructor"!==t)if(e.__h.indexOf(t)>-1)n[t]=o[t];else{var r=Object.getOwnPropertyDescriptor(o,t);"function"!==typeof r.value?(r.get||r.set)&&(n.computed[t]={get:r.get,set:r.set}):n.methods[t]=r.value}})),n.setup=function(t,n){var r,a=new e(t,n),o=Object.keys(a),u={},s=null;return o.forEach((function(e){void 0===a[e]||a[e]&&a[e].__s||(u[e]=(0,i.iH)(a[e]),I(a,e,u))})),o.forEach((function(e){if(a[e]&&a[e].__s){var t=a[e].__s();t instanceof Promise?(s||(s=Promise.resolve(u)),s=s.then((function(){return t.then((function(t){return u[e]=(0,i.WL)(t),u}))}))):u[e]=(0,i.WL)(t)}})),null!==(r=s)&&void 0!==r?r:u};var u=T(e,"__d");u&&u.forEach((function(e){return e(n)}));var s=["render","ssrRender","__file","__cssModules","__scopeId","__hmrId"];return s.forEach((function(t){e[t]&&(n[t]=e[t])})),n}}]),e}();A.__h=["data","beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];var R=A;function C(e){return function(t){return t.__o=e,t}}},89:(e,t,n)=>{"use strict";var r=n(2)["default"],i=n(4548)["default"];n(9070),t.Z=function(e,t){var n,a=e.__vccOpts||e,o=i(t);try{for(o.s();!(n=o.n()).done;){var u=r(n.value,2),s=u[0],c=u[1];a[s]=c}}catch(l){o.e(l)}finally{o.f()}return a}},302:(e,t,n)=>{"use strict";n.d(t,{PO:()=>Y,p7:()=>st});var r,i=n(6084),a=n(2482),o=n(6347),u=n(3336),s=(n(2526),n(1817),n(1539),n(3680),n(3706),n(2703),n(9753),n(1249),n(7042),n(1038),n(8783),n(2222),n(4916),n(5306),n(2772),n(6755),n(7941),n(6541),n(3123),n(9600),n(1532),n(3948),n(4765),n(6699),n(2023),n(9554),n(561),n(4812),n(9070),n(7852),n(8862),n(1703),n(6647),n(4603),n(8450),n(8386),n(9714),n(4723),n(8309),n(7601),n(189),n(4747),n(7327),n(9826),n(5827),n(5212),n(3710),n(4553),n(5069),n(3396)),c=n(4870),l="function"===typeof Symbol&&"symbol"===(0,u.Z)(Symbol.toStringTag),f=function(e){return l?Symbol(e):"_vr_"+e},h=f("rvlm"),d=f("rvd"),v=f("r"),p=f("rl"),y=f("rvl"),g="undefined"!==typeof window;function m(e){return e.__esModule||l&&"Module"===e[Symbol.toStringTag]}var w=Object.assign;function k(e,t){var n={};for(var r in t){var i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}var b=function(){};var x,_,E=/\/$/,I=function(e){return e.replace(E,"")};function S(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i={},a="",o="",u=t.indexOf("?"),s=t.indexOf("#",u>-1?u:0);return u>-1&&(n=t.slice(0,u),a=t.slice(u+1,s>-1?s:t.length),i=e(a)),s>-1&&(n=n||t.slice(0,s),o=t.slice(s,t.length)),n=N(null!=n?n:t,r),{fullPath:n+(a&&"?")+a+o,path:n,query:i,hash:o}}function T(e,t){var n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function A(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function R(e,t,n){var r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&C(t.matched[r],n.matched[i])&&Z(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function C(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Z(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!D(e[n],t[n]))return!1;return!0}function D(e,t){return Array.isArray(e)?O(e,t):Array.isArray(t)?O(t,e):e===t}function O(e,t){return Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return e===t[n]})):1===e.length&&e[0]===t}function N(e,t){if(e.startsWith("/"))return e;if(!e)return t;var n,r,i=t.split("/"),a=e.split("/"),o=i.length-1;for(n=0;n<a.length;n++)if(r=a[n],1!==o&&"."!==r){if(".."!==r)break;o--}return i.slice(0,o).join("/")+"/"+a.slice(n-(n===a.length?1:0)).join("/")}(function(e){e["pop"]="pop",e["push"]="push"})(x||(x={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(_||(_={}));function M(e){if(!e)if(g){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),I(e)}var L=/^[^#]+#/;function P(e,t){return e.replace(L,"#")+t}function F(e,t){var n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}var V=function(){return{left:window.pageXOffset,top:window.pageYOffset}};function j(e){var t;if("el"in e){var n=e.el,r="string"===typeof n&&n.startsWith("#"),i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=F(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function U(e,t){var n=history.state?history.state.position-t:-1;return n+e}var B=new Map;function q(e,t){B.set(e,t)}function G(e){var t=B.get(e);return B["delete"](e),t}var K=function(){return location.protocol+"//"+location.host};function z(e,t){var n=t.pathname,r=t.search,i=t.hash,a=e.indexOf("#");if(a>-1){var o=i.includes(e.slice(a))?e.slice(a).length:1,u=i.slice(o);return"/"!==u[0]&&(u="/"+u),A(u,"")}var s=A(n,e);return s+r+i}function W(e,t,n,r){var i=[],a=[],u=null,s=function(a){var o=a.state,s=z(e,location),c=n.value,l=t.value,f=0;if(o){if(n.value=s,t.value=o,u&&u===c)return void(u=null);f=l?o.position-l.position:0}else r(s);i.forEach((function(e){e(n.value,c,{delta:f,type:x.pop,direction:f?f>0?_.forward:_.back:_.unknown})}))};function c(){u=n.value}function l(e){i.push(e);var t=function(){var t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function f(){var e=window,t=e.history;t.state&&t.replaceState(w({},t.state,{scroll:V()}),"")}function h(){var e,t=(0,o.Z)(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;n()}}catch(r){t.e(r)}finally{t.f()}a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",f),{pauseListeners:c,listen:l,destroy:h}}function H(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?V():null}}function Q(e){var t=window,n=t.history,r=t.location,i={value:z(e,r)},a={value:n.state};function o(t,i,o){var u=e.indexOf("#"),s=u>-1?(r.host&&document.querySelector("base")?e:e.slice(u))+t:K()+e+t;try{n[o?"replaceState":"pushState"](i,"",s),a.value=i}catch(c){console.error(c),r[o?"replace":"assign"](s)}}function u(e,t){var r=w({},n.state,H(a.value.back,e,a.value.forward,!0),t,{position:a.value.position});o(e,r,!0),i.value=e}function s(e,t){var r=w({},a.value,n.state,{forward:e,scroll:V()});o(r.current,r,!0);var u=w({},H(i.value,e,null),{position:r.position+1},t);o(e,u,!1),i.value=e}return a.value||o(i.value,{back:null,current:i.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0),{location:i,state:a,push:s,replace:u}}function Y(e){e=M(e);var t=Q(e),n=W(e,t.state,t.location,t.replace);function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t||n.pauseListeners(),history.go(e)}var i=w({location:"",base:e,go:r,createHref:P.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:function(){return t.location.value}}),Object.defineProperty(i,"state",{enumerable:!0,get:function(){return t.state.value}}),i}function $(e){return"string"===typeof e||e&&"object"===(0,u.Z)(e)}function J(e){return"string"===typeof e||"symbol"===(0,u.Z)(e)}var X,ee={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},te=f("nf");(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(X||(X={}));r={},(0,a.Z)(r,1,(function(e){var t=e.location,n=e.currentLocation;return"No match for\n ".concat(JSON.stringify(t)).concat(n?"\nwhile being at\n"+JSON.stringify(n):"")})),(0,a.Z)(r,2,(function(e){var t=e.from,n=e.to;return'Redirected from "'.concat(t.fullPath,'" to "').concat(ae(n),'" via a navigation guard.')})),(0,a.Z)(r,4,(function(e){var t=e.from,n=e.to;return'Navigation aborted from "'.concat(t.fullPath,'" to "').concat(n.fullPath,'" via a navigation guard.')})),(0,a.Z)(r,8,(function(e){var t=e.from,n=e.to;return'Navigation cancelled from "'.concat(t.fullPath,'" to "').concat(n.fullPath,'" with a new navigation.')})),(0,a.Z)(r,16,(function(e){var t=e.from;e.to;return'Avoided redundant navigation to current location: "'.concat(t.fullPath,'".')}));function ne(e,t){return w(new Error,(0,a.Z)({type:e},te,!0),t)}function re(e,t){return e instanceof Error&&te in e&&(null==t||!!(e.type&t))}var ie=["params","query","hash"];function ae(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t,n={},r=(0,o.Z)(ie);try{for(r.s();!(t=r.n()).done;){var i=t.value;i in e&&(n[i]=e[i])}}catch(a){r.e(a)}finally{r.f()}return JSON.stringify(n,null,2)}var oe="[^/]+?",ue={sensitive:!1,strict:!1,start:!0,end:!0},se=/[.+*?^${}()[\]/\\]/g;function ce(e,t){var n,r=w({},ue,t),i=[],a=r.start?"^":"",u=[],s=(0,o.Z)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value,l=c.length?[]:[90];r.strict&&!c.length&&(a+="/");for(var f=0;f<c.length;f++){var h=c[f],d=40+(r.sensitive?.25:0);if(0===h.type)f||(a+="/"),a+=h.value.replace(se,"\\$&"),d+=40;else if(1===h.type){var v=h.value,p=h.repeatable,y=h.optional,g=h.regexp;u.push({name:v,repeatable:p,optional:y});var m=g||oe;if(m!==oe){d+=10;try{new RegExp("(".concat(m,")"))}catch(I){throw new Error('Invalid custom RegExp for param "'.concat(v,'" (').concat(m,"): ")+I.message)}}var k=p?"((?:".concat(m,")(?:/(?:").concat(m,"))*)"):"(".concat(m,")");f||(k=y&&c.length<2?"(?:/".concat(k,")"):"/"+k),y&&(k+="?"),a+=k,d+=20,y&&(d+=-8),p&&(d+=-20),".*"===m&&(d+=-50)}l.push(d)}i.push(l)}}catch(I){s.e(I)}finally{s.f()}if(r.strict&&r.end){var b=i.length-1;i[b][i[b].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");var x=new RegExp(a,r.sensitive?"":"i");function _(e){var t=e.match(x),n={};if(!t)return null;for(var r=1;r<t.length;r++){var i=t[r]||"",a=u[r-1];n[a.name]=i&&a.repeatable?i.split("/"):i}return n}function E(t){var n,r="",i=!1,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var u=n.value;i&&r.endsWith("/")||(r+="/"),i=!1;var s,c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(0===l.type)r+=l.value;else if(1===l.type){var f=l.value,h=l.repeatable,d=l.optional,v=f in t?t[f]:"";if(Array.isArray(v)&&!h)throw new Error('Provided param "'.concat(f,'" is an array but it is not repeatable (* or + modifiers)'));var p=Array.isArray(v)?v.join("/"):v;if(!p){if(!d)throw new Error('Missing required param "'.concat(f,'"'));u.length<2&&(r.endsWith("/")?r=r.slice(0,-1):i=!0)}r+=p}}}catch(I){c.e(I)}finally{c.f()}}}catch(I){a.e(I)}finally{a.f()}return r}return{re:x,score:i,keys:u,parse:_,stringify:E}}function le(e,t){var n=0;while(n<e.length&&n<t.length){var r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function fe(e,t){var n=0,r=e.score,i=t.score;while(n<r.length&&n<i.length){var a=le(r[n],i[n]);if(a)return a;n++}return i.length-r.length}var he={type:0,value:""},de=/[a-zA-Z0-9_]/;function ve(e){if(!e)return[[]];if("/"===e)return[[he]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(e){throw new Error("ERR (".concat(r,')/"').concat(c,'": ').concat(e))}var n,r=0,i=r,a=[];function o(){n&&a.push(n),n=[]}var u,s=0,c="",l="";function f(){c&&(0===r?n.push({type:0,value:c}):1===r||2===r||3===r?(n.length>1&&("*"===u||"+"===u)&&t("A repeatable param (".concat(c,") must be alone in its segment. eg: '/:ids+.")),n.push({type:1,value:c,regexp:l,repeatable:"*"===u||"+"===u,optional:"*"===u||"?"===u})):t("Invalid state to consume buffer"),c="")}function h(){c+=u}while(s<e.length)if(u=e[s++],"\\"!==u||2===r)switch(r){case 0:"/"===u?(c&&f(),o()):":"===u?(f(),r=1):h();break;case 4:h(),r=i;break;case 1:"("===u?r=2:de.test(u)?h():(f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&s--);break;case 2:")"===u?"\\"==l[l.length-1]?l=l.slice(0,-1)+u:r=3:l+=u;break;case 3:f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&s--,l="";break;default:t("Unknown state");break}else i=r,r=4;return 2===r&&t('Unfinished custom RegExp for param "'.concat(c,'"')),f(),o(),a}function pe(e,t,n){var r=ce(ve(e.path),n),i=w(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ye(e,t){var n=[],r=new Map;function i(e){return r.get(e)}function a(e,n,r){var i=!r,s=me(e);s.aliasOf=r&&r.record;var l,f,h=xe(t,e),d=[s];if("alias"in e){var v,p="string"===typeof e.alias?[e.alias]:e.alias,y=(0,o.Z)(p);try{for(y.s();!(v=y.n()).done;){var g=v.value;d.push(w({},s,{components:r?r.record.components:s.components,path:g,aliasOf:r?r.record:s}))}}catch(A){y.e(A)}finally{y.f()}}for(var m=0,k=d;m<k.length;m++){var x=k[m],_=x.path;if(n&&"/"!==_[0]){var E=n.record.path,I="/"===E[E.length-1]?"":"/";x.path=n.record.path+(_&&I+_)}if(l=pe(x,n,h),r?r.alias.push(l):(f=f||l,f!==l&&f.alias.push(l),i&&e.name&&!ke(l)&&u(e.name)),"children"in s)for(var S=s.children,T=0;T<S.length;T++)a(S[T],l,r&&r.children[T]);r=r||l,c(l)}return f?function(){u(f)}:b}function u(e){if(J(e)){var t=r.get(e);t&&(r["delete"](e),n.splice(n.indexOf(t),1),t.children.forEach(u),t.alias.forEach(u))}else{var i=n.indexOf(e);i>-1&&(n.splice(i,1),e.record.name&&r["delete"](e.record.name),e.children.forEach(u),e.alias.forEach(u))}}function s(){return n}function c(e){var t=0;while(t<n.length&&fe(e,n[t])>=0&&(e.record.path!==n[t].record.path||!_e(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!ke(e)&&r.set(e.record.name,e)}function l(e,t){var i,a,o,u={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw ne(1,{location:e});o=i.record.name,u=w(ge(t.params,i.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}))),e.params),a=i.stringify(u)}else if("path"in e)a=e.path,i=n.find((function(e){return e.re.test(a)})),i&&(u=i.parse(a),o=i.record.name);else{if(i=t.name?r.get(t.name):n.find((function(e){return e.re.test(t.path)})),!i)throw ne(1,{location:e,currentLocation:t});o=i.record.name,u=w({},t.params,e.params),a=i.stringify(u)}var s=[],c=i;while(c)s.unshift(c.record),c=c.parent;return{name:o,path:a,params:u,matched:s,meta:be(s)}}return t=xe({strict:!1,end:!0,sensitive:!1},t),e.forEach((function(e){return a(e)})),{addRoute:a,resolve:l,removeRoute:u,getRoutes:s,getRecordMatcher:i}}function ge(e,t){var n,r={},i=(0,o.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a in e&&(r[a]=e[a])}}catch(u){i.e(u)}finally{i.f()}return r}function me(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:we(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function we(e){var t={},n=e.props||!1;if("component"in e)t["default"]=n;else for(var r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function ke(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function be(e){return e.reduce((function(e,t){return w(e,t.meta)}),{})}function xe(e,t){var n={};for(var r in e)n[r]=r in t?t[r]:e[r];return n}function _e(e,t){return t.children.some((function(t){return t===e||_e(e,t)}))}var Ee=/#/g,Ie=/&/g,Se=/\//g,Te=/=/g,Ae=/\?/g,Re=/\+/g,Ce=/%5B/g,Ze=/%5D/g,De=/%5E/g,Oe=/%60/g,Ne=/%7B/g,Me=/%7C/g,Le=/%7D/g,Pe=/%20/g;function Fe(e){return encodeURI(""+e).replace(Me,"|").replace(Ce,"[").replace(Ze,"]")}function Ve(e){return Fe(e).replace(Ne,"{").replace(Le,"}").replace(De,"^")}function je(e){return Fe(e).replace(Re,"%2B").replace(Pe,"+").replace(Ee,"%23").replace(Ie,"%26").replace(Oe,"`").replace(Ne,"{").replace(Le,"}").replace(De,"^")}function Ue(e){return je(e).replace(Te,"%3D")}function Be(e){return Fe(e).replace(Ee,"%23").replace(Ae,"%3F")}function qe(e){return null==e?"":Be(e).replace(Se,"%2F")}function Ge(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Ke(e){var t={};if(""===e||"?"===e)return t;for(var n="?"===e[0],r=(n?e.slice(1):e).split("&"),i=0;i<r.length;++i){var a=r[i].replace(Re," "),o=a.indexOf("="),u=Ge(o<0?a:a.slice(0,o)),s=o<0?null:Ge(a.slice(o+1));if(u in t){var c=t[u];Array.isArray(c)||(c=t[u]=[c]),c.push(s)}else t[u]=s}return t}function ze(e){var t="",n=function(n){var i=e[n];if(n=Ue(n),null==i)return void 0!==i&&(t+=(t.length?"&":"")+n),r=n,"continue";var a=Array.isArray(i)?i.map((function(e){return e&&je(e)})):[i&&je(i)];a.forEach((function(e){void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})),r=n};for(var r in e)n(r);return t}function We(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((function(e){return null==e?null:""+e})):null==r?r:""+r)}return t}function He(){var e=[];function t(t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:function(){return e},reset:n}}function Qe(e,t,n,r,i){var a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return function(){return new Promise((function(o,u){var s=function(e){!1===e?u(ne(4,{from:n,to:t})):e instanceof Error?u(e):$(e)?u(ne(2,{from:t,to:e})):(a&&r.enterCallbacks[i]===a&&"function"===typeof e&&a.push(e),o())},c=e.call(r&&r.instances[i],t,n,s),l=Promise.resolve(c);e.length<3&&(l=l.then(s)),l["catch"]((function(e){return u(e)}))}))}}function Ye(e,t,n,r){var i,a=[],u=(0,o.Z)(e);try{var s=function(){var e=i.value,o=function(i){var o=e.components[i];if("beforeRouteEnter"!==t&&!e.instances[i])return"continue";if($e(o)){var u=o.__vccOpts||o,s=u[t];s&&a.push(Qe(s,n,r,e,i))}else{var c=o();0,a.push((function(){return c.then((function(a){if(!a)return Promise.reject(new Error("Couldn't resolve component \"".concat(i,'" at "').concat(e.path,'"')));var o=m(a)?a["default"]:a;e.components[i]=o;var u=o.__vccOpts||o,s=u[t];return s&&Qe(s,n,r,e,i)()}))}))}};for(var u in e.components)o(u)};for(u.s();!(i=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}return a}function $e(e){return"object"===(0,u.Z)(e)||"displayName"in e||"props"in e||"__vccOpts"in e}function Je(e){var t=(0,s.f3)(v),n=(0,s.f3)(p),r=(0,s.Fl)((function(){return t.resolve((0,c.SU)(e.to))})),i=(0,s.Fl)((function(){var e=r.value.matched,t=e.length,i=e[t-1],a=n.matched;if(!i||!a.length)return-1;var o=a.findIndex(C.bind(null,i));if(o>-1)return o;var u=rt(e[t-2]);return t>1&&rt(i)===u&&a[a.length-1].path!==u?a.findIndex(C.bind(null,e[t-2])):o})),a=(0,s.Fl)((function(){return i.value>-1&&nt(n.params,r.value.params)})),o=(0,s.Fl)((function(){return i.value>-1&&i.value===n.matched.length-1&&Z(n.params,r.value.params)}));function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tt(n)?t[(0,c.SU)(e.replace)?"replace":"push"]((0,c.SU)(e.to))["catch"](b):Promise.resolve()}return{route:r,href:(0,s.Fl)((function(){return r.value.href})),isActive:a,isExactActive:o,navigate:u}}var Xe=(0,s.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Je,setup:function(e,t){var n=t.slots,r=(0,c.qj)(Je(e)),i=(0,s.f3)(v),o=i.options,u=(0,s.Fl)((function(){var t;return t={},(0,a.Z)(t,it(e.activeClass,o.linkActiveClass,"router-link-active"),r.isActive),(0,a.Z)(t,it(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active"),r.isExactActive),t}));return function(){var t=n["default"]&&n["default"](r);return e.custom?t:(0,s.h)("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:u.value},t)}}}),et=Xe;function tt(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function nt(e,t){var n=function(n){var r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return{v:!1}}else if(!Array.isArray(i)||i.length!==r.length||r.some((function(e,t){return e!==i[t]})))return{v:!1}};for(var r in t){var i=n(r);if("object"===(0,u.Z)(i))return i.v}return!0}function rt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}var it=function(e,t,n){return null!=e?e:null!=t?t:n},at=(0,s.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup:function(e,t){var n=t.attrs,r=t.slots,a=(0,s.f3)(y),o=(0,s.Fl)((function(){return e.route||a.value})),u=(0,s.f3)(d,0),l=(0,s.Fl)((function(){return o.value.matched[u]}));(0,s.JJ)(d,u+1),(0,s.JJ)(h,l),(0,s.JJ)(y,o);var f=(0,c.iH)();return(0,s.YP)((function(){return[f.value,l.value,e.name]}),(function(e,t){var n=(0,i.Z)(e,3),r=n[0],a=n[1],o=n[2],u=(0,i.Z)(t,3),s=u[0],c=u[1];u[2];a&&(a.instances[o]=r,c&&c!==a&&r&&r===s&&(a.leaveGuards.size||(a.leaveGuards=c.leaveGuards),a.updateGuards.size||(a.updateGuards=c.updateGuards))),!r||!a||c&&C(a,c)&&s||(a.enterCallbacks[o]||[]).forEach((function(e){return e(r)}))}),{flush:"post"}),function(){var t=o.value,i=l.value,a=i&&i.components[e.name],u=e.name;if(!a)return ot(r["default"],{Component:a,route:t});var c=i.props[e.name],h=c?!0===c?t.params:"function"===typeof c?c(t):c:null,d=function(e){e.component.isUnmounted&&(i.instances[u]=null)},v=(0,s.h)(a,w({},h,n,{onVnodeUnmounted:d,ref:f}));return ot(r["default"],{Component:v,route:t})||v}}});function ot(e,t){if(!e)return null;var n=e(t);return 1===n.length?n[0]:n}var ut=at;function st(e){var t=ye(e.routes,e),n=e.parseQuery||Ke,r=e.stringifyQuery||ze,a=e.history;var u=He(),l=He(),f=He(),h=(0,c.XI)(ee),d=ee;g&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");var m,_=k.bind(null,(function(e){return""+e})),E=k.bind(null,qe),I=k.bind(null,Ge);function A(e,n){var r,i;return J(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function C(e){var n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function Z(){return t.getRoutes().map((function(e){return e.record}))}function D(e){return!!t.getRecordMatcher(e)}function O(e,i){if(i=w({},i||h.value),"string"===typeof e){var o=S(n,e,i.path),u=t.resolve({path:o.path},i),s=a.createHref(o.fullPath);return w(o,u,{params:I(u.params),hash:Ge(o.hash),redirectedFrom:void 0,href:s})}var c;if("path"in e)c=w({},e,{path:S(n,e.path,i.path).path});else{var l=w({},e.params);for(var f in l)null==l[f]&&delete l[f];c=w({},e,{params:E(e.params)}),i.params=E(i.params)}var d=t.resolve(c,i),v=e.hash||"";d.params=_(I(d.params));var p=T(r,w({},e,{hash:Ve(v),path:d.path})),y=a.createHref(p);return w({fullPath:p,hash:v,query:r===ze?We(e.query):e.query||{}},d,{redirectedFrom:void 0,href:y})}function N(e){return"string"===typeof e?S(n,e,h.value.path):w({},e)}function M(e,t){if(d!==e)return ne(8,{from:t,to:e})}function L(e){return B(e)}function P(e){return L(w(N(e),{replace:!0}))}function F(e){var t=e.matched[e.matched.length-1];if(t&&t.redirect){var n=t.redirect,r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=N(r):{path:r},r.params={}),w({query:e.query,hash:e.hash,params:e.params},r)}}function B(e,t){var n=d=O(e),i=h.value,a=e.state,o=e.force,u=!0===e.replace,s=F(n);if(s)return B(w(N(s),{state:a,force:o,replace:u}),t||n);var c,l=n;return l.redirectedFrom=t,!o&&R(r,i,n)&&(c=ne(16,{to:l,from:i}),oe(i,i,!0,!1)),(c?Promise.resolve(c):z(l,i))["catch"]((function(e){return re(e)?re(e,2)?e:ae(e):te(e,l,i)})).then((function(e){if(e){if(re(e,2))return B(w(N(e.to),{state:a,force:o,replace:u}),t||l)}else e=H(l,i,!0,u,a);return W(l,i,e),e}))}function K(e,t){var n=M(e,t);return n?Promise.reject(n):Promise.resolve()}function z(e,t){var n,r=lt(e,t),a=(0,i.Z)(r,3),s=a[0],c=a[1],f=a[2];n=Ye(s.reverse(),"beforeRouteLeave",e,t);var h,d=(0,o.Z)(s);try{for(d.s();!(h=d.n()).done;){var v=h.value;v.leaveGuards.forEach((function(r){n.push(Qe(r,e,t))}))}}catch(y){d.e(y)}finally{d.f()}var p=K.bind(null,e,t);return n.push(p),ct(n).then((function(){n=[];var r,i=(0,o.Z)(u.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(Qe(a,e,t))}}catch(y){i.e(y)}finally{i.f()}return n.push(p),ct(n)})).then((function(){n=Ye(c,"beforeRouteUpdate",e,t);var r,i=(0,o.Z)(c);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.updateGuards.forEach((function(r){n.push(Qe(r,e,t))}))}}catch(y){i.e(y)}finally{i.f()}return n.push(p),ct(n)})).then((function(){n=[];var r,i=(0,o.Z)(e.matched);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.beforeEnter&&!t.matched.includes(a))if(Array.isArray(a.beforeEnter)){var u,s=(0,o.Z)(a.beforeEnter);try{for(s.s();!(u=s.n()).done;){var c=u.value;n.push(Qe(c,e,t))}}catch(y){s.e(y)}finally{s.f()}}else n.push(Qe(a.beforeEnter,e,t))}}catch(y){i.e(y)}finally{i.f()}return n.push(p),ct(n)})).then((function(){return e.matched.forEach((function(e){return e.enterCallbacks={}})),n=Ye(f,"beforeRouteEnter",e,t),n.push(p),ct(n)})).then((function(){n=[];var r,i=(0,o.Z)(l.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(Qe(a,e,t))}}catch(y){i.e(y)}finally{i.f()}return n.push(p),ct(n)}))["catch"]((function(e){return re(e,8)?e:Promise.reject(e)}))}function W(e,t,n){var r,i=(0,o.Z)(f.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;a(e,t,n)}}catch(u){i.e(u)}finally{i.f()}}function H(e,t,n,r,i){var o=M(e,t);if(o)return o;var u=t===ee,s=g?history.state:{};n&&(r||u?a.replace(e.fullPath,w({scroll:u&&s&&s.scroll},i)):a.push(e.fullPath,i)),h.value=e,oe(e,t,n,u),ae()}function Q(){m=a.listen((function(e,t,n){var r=O(e),i=F(r);if(i)B(w(i,{replace:!0}),r)["catch"](b);else{d=r;var o=h.value;g&&q(U(o.fullPath,n.delta),V()),z(r,o)["catch"]((function(e){return re(e,12)?e:re(e,2)?(B(e.to,r).then((function(e){re(e,20)&&!n.delta&&n.type===x.pop&&a.go(-1,!1)}))["catch"](b),Promise.reject()):(n.delta&&a.go(-n.delta,!1),te(e,r,o))})).then((function(e){e=e||H(r,o,!1),e&&(n.delta?a.go(-n.delta,!1):n.type===x.pop&&re(e,20)&&a.go(-1,!1)),W(r,o,e)}))["catch"](b)}}))}var Y,$=He(),X=He();function te(e,t,n){ae(e);var r=X.list();return r.length?r.forEach((function(r){return r(e,t,n)})):console.error(e),Promise.reject(e)}function ie(){return Y&&h.value!==ee?Promise.resolve():new Promise((function(e,t){$.add([e,t])}))}function ae(e){return Y||(Y=!e,Q(),$.list().forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return e?a(e):r()})),$.reset()),e}function oe(t,n,r,i){var a=e.scrollBehavior;if(!g||!a)return Promise.resolve();var o=!r&&G(U(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return(0,s.Y3)().then((function(){return a(t,n,o)})).then((function(e){return e&&j(e)}))["catch"]((function(e){return te(e,t,n)}))}var ue,se=function(e){return a.go(e)},ce=new Set,le={currentRoute:h,addRoute:A,removeRoute:C,hasRoute:D,getRoutes:Z,resolve:O,options:e,push:L,replace:P,go:se,back:function(){return se(-1)},forward:function(){return se(1)},beforeEach:u.add,beforeResolve:l.add,afterEach:f.add,onError:X.add,isReady:ie,install:function(e){var t=this;e.component("RouterLink",et),e.component("RouterView",ut),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:function(){return(0,c.SU)(h)}}),g&&!ue&&h.value===ee&&(ue=!0,L(a.location)["catch"]((function(e){0})));var n={},r=function(e){n[e]=(0,s.Fl)((function(){return h.value[e]}))};for(var i in ee)r(i);e.provide(v,t),e.provide(p,(0,c.qj)(n)),e.provide(y,h);var o=e.unmount;ce.add(e),e.unmount=function(){ce["delete"](e),ce.size<1&&(d=ee,m&&m(),h.value=ee,ue=!1,Y=!1),o()}}};return le}function ct(e){return e.reduce((function(e,t){return e.then((function(){return t()}))}),Promise.resolve())}function lt(e,t){for(var n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length),o=function(a){var o=t.matched[a];o&&(e.matched.find((function(e){return C(e,o)}))?r.push(o):n.push(o));var u=e.matched[a];u&&(t.matched.find((function(e){return C(e,u)}))||i.push(u))},u=0;u<a;u++)o(u);return[n,r,i]}},65:(e,t,n)=>{"use strict";n.d(t,{MT:()=>oe});var r=n(3336),i=(n(7327),n(1539),n(9753),n(9554),n(4747),n(7941),n(1703),n(6647),n(2772),n(561),n(8011),n(9070),n(9600),n(7042),n(2222),n(3321),n(5827),n(4916),n(3123),n(3843),n(3710),n(1249),n(6699),n(2023),n(7852),n(8862),n(8783),n(3948),n(4812),n(9714),n(3396)),a=n(4870);function o(){return u().__VUE_DEVTOOLS_GLOBAL_HOOK__}function u(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}var s,c,l="function"===typeof Proxy,f="devtools-plugin:setup",h="plugin:settings:set",d=n(9584),v=n(6347),p=n(8534),y=n(3087),g=n(2833);n(6133);function m(){var e;return void 0!==s||("undefined"!==typeof window&&window.performance?(s=!0,c=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(s=!0,c=n.g.perf_hooks.performance):s=!1),s}function w(){return m()?c.now():Date.now()}var k=function(){function e(t,n){var r=this;(0,y.Z)(this,e),this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;var i={};if(t.settings)for(var a in t.settings){var o=t.settings[a];i[a]=o.defaultValue}var u="__vue-devtools-plugin-settings__".concat(t.id),s=Object.assign({},i);try{var c=localStorage.getItem(u),l=JSON.parse(c);Object.assign(s,l)}catch(f){}this.fallbacks={getSettings:function(){return s},setSettings:function(e){try{localStorage.setItem(u,JSON.stringify(e))}catch(f){}s=e},now:function(){return w()}},n&&n.on(h,(function(e,t){e===r.plugin.id&&r.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:function(e,t){return r.target?r.target.on[t]:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];r.onQueue.push({method:t,args:n})}}}),this.proxiedTarget=new Proxy({},{get:function(e,t){return r.target?r.target[t]:"on"===t?r.proxiedOn:Object.keys(r.fallbacks).includes(t)?function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r.targetQueue.push({method:t,args:i,resolve:function(){}}),(e=r.fallbacks)[t].apply(e,i)}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new Promise((function(e){r.targetQueue.push({method:t,args:n,resolve:e})}))}}})}return(0,g.Z)(e,[{key:"setRealTarget",value:function(){var e=(0,p.Z)(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.target=t,n=(0,v.Z)(this.onQueue);try{for(n.s();!(r=n.n()).done;)a=r.value,(i=this.target.on)[a.method].apply(i,(0,d.Z)(a.args))}catch(l){n.e(l)}finally{n.f()}o=(0,v.Z)(this.targetQueue),e.prev=4,o.s();case 6:if((u=o.n()).done){e.next=15;break}return c=u.value,e.t0=c,e.next=11,(s=this.target)[c.method].apply(s,(0,d.Z)(c.args));case 11:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e["catch"](4),o.e(e.t2);case 20:return e.prev=20,o.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[4,17,20,23]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function b(e,t){var n=e,r=u(),i=o(),a=l&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&a){var s=a?new k(n,i):null,c=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];c.push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}else i.emit(f,e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var x="store";function _(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function E(e){return null!==e&&"object"===(0,r.Z)(e)}function I(e){return e&&"function"===typeof e.then}function S(e,t){return function(){return e(t)}}function T(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function A(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;C(e,n,[],e._modules.root,!0),R(e,n,t)}function R(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};_(i,(function(t,n){o[n]=S(t,e),Object.defineProperty(e.getters,n,{get:function(){return o[n]()},enumerable:!0})})),e._state=(0,a.qj)({data:t}),e.strict&&L(e),r&&n&&e._withCommit((function(){r.data=null}))}function C(e,t,n,r,i){var a=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!a&&!i){var u=P(t,n.slice(0,-1)),s=n[n.length-1];e._withCommit((function(){u[s]=r.state}))}var c=r.context=Z(e,o,n);r.forEachMutation((function(t,n){var r=o+n;O(e,r,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:o+n,i=t.handler||t;N(e,r,i,c)})),r.forEachGetter((function(t,n){var r=o+n;M(e,r,t,c)})),r.forEachChild((function(r,a){C(e,t,n.concat(a),r,i)}))}function Z(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var a=F(n,r,i),o=a.payload,u=a.options,s=a.type;return u&&u.root||(s=t+s),e.dispatch(s,o)},commit:r?e.commit:function(n,r,i){var a=F(n,r,i),o=a.payload,u=a.options,s=a.type;u&&u.root||(s=t+s),e.commit(s,o,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return D(e,t)}},state:{get:function(){return P(e.state,n)}}}),i}function D(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function O(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function N(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return I(i)||(i=Promise.resolve(i)),e._devtoolHook?i["catch"]((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function M(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function L(e){(0,i.YP)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function P(e,t){return t.reduce((function(e,t){return e[t]}),e)}function F(e,t,n){return E(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var V="vuex bindings",j="vuex:mutations",U="vuex:actions",B="vuex",q=0;function G(e,t){b({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[V]},(function(n){n.addTimelineLayer({id:j,label:"Vuex Mutations",color:K}),n.addTimelineLayer({id:U,label:"Vuex Actions",color:K}),n.addInspector({id:B,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===B)if(n.filter){var r=[];$(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[Y(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===B){var r=n.nodeId;D(t,r),n.state=J(ee(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===B){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(B),n.sendInspectorState(B),n.addTimelineEvent({layerId:j,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=q++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:U,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:U,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var K=8702998,z=6710886,W=16777215,H={label:"namespaced",textColor:W,backgroundColor:z};function Q(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function Y(e,t){return{id:t||"root",label:Q(t),tags:e.namespaced?[H]:[],children:Object.keys(e._children).map((function(n){return Y(e._children[n],t+n+"/")}))}}function $(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[H]:[]}),Object.keys(t._children).forEach((function(i){$(e,t._children[i],n,r+i+"/")}))}function J(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var a=X(t);i.getters=Object.keys(a).map((function(e){return{key:e.endsWith("/")?Q(e):e,editable:!1,value:te((function(){return a[e]}))}}))}return i}function X(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,a=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[a]=te((function(){return e[n]}))}else t[n]=te((function(){return e[n]}))})),t}function ee(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var a=e[r];if(!a)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?a:a._children}),"root"===t?e:e.root._children)}function te(e){try{return e()}catch(t){return t}}var ne=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},re={namespaced:{configurable:!0}};re.namespaced.get=function(){return!!this._rawModule.namespaced},ne.prototype.addChild=function(e,t){this._children[e]=t},ne.prototype.removeChild=function(e){delete this._children[e]},ne.prototype.getChild=function(e){return this._children[e]},ne.prototype.hasChild=function(e){return e in this._children},ne.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},ne.prototype.forEachChild=function(e){_(this._children,e)},ne.prototype.forEachGetter=function(e){this._rawModule.getters&&_(this._rawModule.getters,e)},ne.prototype.forEachAction=function(e){this._rawModule.actions&&_(this._rawModule.actions,e)},ne.prototype.forEachMutation=function(e){this._rawModule.mutations&&_(this._rawModule.mutations,e)},Object.defineProperties(ne.prototype,re);var ie=function(e){this.register([],e,!1)};function ae(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;ae(e.concat(r),t.getChild(r),n.modules[r])}}ie.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},ie.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},ie.prototype.update=function(e){ae([],this.root,e)},ie.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new ne(t,n);if(0===e.length)this.root=i;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],i)}t.modules&&_(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},ie.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},ie.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function oe(e){return new ue(e)}var ue=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ie(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var a=this,o=this,u=o.dispatch,s=o.commit;this.dispatch=function(e,t){return u.call(a,e,t)},this.commit=function(e,t,n){return s.call(a,e,t,n)},this.strict=r;var c=this._modules.root.state;C(this,c,[],this._modules.root),R(this,c),n.forEach((function(e){return e(t)}))},se={state:{configurable:!0}};ue.prototype.install=function(e,t){e.provide(t||x,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&G(e,this)},se.state.get=function(){return this._state.data},se.state.set=function(e){0},ue.prototype.commit=function(e,t,n){var r=this,i=F(e,t,n),a=i.type,o=i.payload,u=(i.options,{type:a,payload:o}),s=this._mutations[a];s&&(this._withCommit((function(){s.forEach((function(e){e(o)}))})),this._subscribers.slice().forEach((function(e){return e(u,r.state)})))},ue.prototype.dispatch=function(e,t){var n=this,r=F(e,t),i=r.type,a=r.payload,o={type:i,payload:a},u=this._actions[i];if(u){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(o,n.state)}))}catch(c){0}var s=u.length>1?Promise.all(u.map((function(e){return e(a)}))):u[0](a);return new Promise((function(e,t){s.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(o,n.state)}))}catch(c){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(o,n.state,e)}))}catch(c){0}t(e)}))}))}},ue.prototype.subscribe=function(e,t){return T(e,this._subscribers,t)},ue.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return T(n,this._actionSubscribers,t)},ue.prototype.watch=function(e,t,n){var r=this;return(0,i.YP)((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},ue.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},ue.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),C(this,this.state,e,this._modules.get(e),n.preserveState),R(this,this.state)},ue.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=P(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),A(this)},ue.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},ue.prototype.hotUpdate=function(e){this._modules.update(e),A(this,!0)},ue.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(ue.prototype,se);fe((function(e,t){var n={};return ce(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=he(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),fe((function(e,t){var n={};return ce(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var a=he(this.$store,"mapMutations",e);if(!a)return;r=a.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),fe((function(e,t){var n={};return ce(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||he(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),fe((function(e,t){var n={};return ce(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var a=he(this.$store,"mapActions",e);if(!a)return;r=a.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function ce(e){return le(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function le(e){return Array.isArray(e)||E(e)}function fe(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function he(e,t,n){var r=e._modulesNamespaceMap[n];return r}},9227:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},2417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(1703),n(6647);function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},8534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(1539);function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}},3087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(1703),n(6647);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},5507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});n(2419),n(1539),n(1299),n(4812);var r=n(3967),i=n(7814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=Function.bind.apply(e,i),o=new a;return n&&(0,r.Z)(o,n.prototype),o},a.apply(null,arguments)}},2833:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(9070);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},6347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(9753),n(1703),n(6647);var r=n(2780);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}},7946:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(2419),n(1539),n(1299);var r=n(2040),i=n(7814),a=(n(1703),n(6647),n(3336)),o=n(2417);function u(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},2482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(9070);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},2040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(8304),n(489);function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}},9110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(1703),n(6647),n(8011),n(9070);var r=n(3967);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},7814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(1539),n(1299),n(2419);function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}},5082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321),n(9070);var r=n(2482);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},3967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(8304);function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}},6084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(9753);function r(e){if(Array.isArray(e))return e}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948);function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(s){u=!0,i=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(u)throw i}}return a}}var a=n(2780);n(1703),n(6647);function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||i(e,t)||(0,a.Z)(e,t)||o()}},9584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(9753);var r=n(9227);function i(e){if(Array.isArray(e))return(0,r.Z)(e)}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1038);function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=n(2780);n(1703),n(6647);function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return i(e)||a(e)||(0,o.Z)(e)||u()}},3336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},2780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(9227);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},2661:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r,i=n(2482),a=n(3087),o=n(2833),u=(n(8309),n(1539),n(9070),n(1249),n(7941),n(4916),n(5306),n(4812),n(2772),n(5287)),s=n(7142),c=n(7077),l=n(5168),f=function(){function e(t,n){var r=this;(0,a.Z)(this,e),this._delegate=t,this.firebase=n,(0,c._addComponent)(t,new s.wA("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,o.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),(0,c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){(0,c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){(0,c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},(0,i.Z)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,i.Z)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.LL("app-compat","Firebase",h);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function v(e){var t={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:s,removeApp:r,useAsService:l,modularAPIs:c}};function r(e){delete t[e]}function i(e){if(e=e||c._DEFAULT_ENTRY_NAME,!(0,u.r3)(t,e))throw d.create("no-app",{appName:e});return t[e]}function a(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if((0,u.r3)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o}function o(){return Object.keys(t).map((function(e){return t[e]}))}function s(t){var r=t.name,a=r.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&(0,u.ZB)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null}function l(e,t){if("serverAuth"===t)return null;var n=t;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:o}),i["App"]=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(){var e=v(f);function t(t){(0,u.ZB)(e,t)}return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:p,extendNamespace:t,createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),e}var y=p(),g=new l.Yd("@firebase/app-compat"),m="@firebase/app-compat",w="0.2.3";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(e){(0,c.registerVersion)(m,w,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,u.jU)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var x=y;k()},7077:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>v.ZR,SDK_VERSION:()=>Ae,_DEFAULT_ENTRY_NAME:()=>pe,_addComponent:()=>we,_addOrOverwriteComponent:()=>ke,_apps:()=>ge,_clearComponents:()=>Ee,_components:()=>me,_getProvider:()=>xe,_registerComponent:()=>be,_removeServiceInstance:()=>_e,deleteApp:()=>De,getApp:()=>Ce,getApps:()=>Ze,initializeApp:()=>Re,onLog:()=>Me,registerVersion:()=>Ne,setLogLevel:()=>Le});var r,i,a=n(9584),o=n(8534),u=n(3336),s=n(6347),c=n(2482),l=n(3087),f=n(2833),h=(n(6133),n(9600),n(7327),n(1539),n(1249),n(2222),n(1532),n(8783),n(3948),n(8309),n(1038),n(4916),n(4723),n(5212),n(3710),n(3843),n(8862),n(8733),n(7042),n(9826),n(7142)),d=n(5168),v=n(5287),p=n(5082),y=(n(5306),n(6699),n(4129),n(6647),n(7714),n(2801),n(1174),n(2707),n(2023),function(e,t){return t.some((function(t){return e instanceof t}))});function g(){return r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m(){return i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype["continue"],IDBCursor.prototype.continuePrimaryKey])}var w=new WeakMap,k=new WeakMap,b=new WeakMap,x=new WeakMap,_=new WeakMap;function E(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(C(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&w.set(t,e)}))["catch"]((function(){})),_.set(t,e),t}function I(e){if(!k.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));k.set(e,t)}}var S={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return k.get(e);if("objectStoreNames"===t)return e.objectStoreNames||b.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return C(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function T(e){S=e(S)}function A(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?m().includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Z(this),n),C(w.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(e.apply(Z(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Z(this),t].concat(r));return b.set(a,t.sort?t.sort():[t]),C(a)}}function R(e){return"function"===typeof e?A(e):(e instanceof IDBTransaction&&I(e),y(e,g())?new Proxy(e,S):e)}function C(e){if(e instanceof IDBRequest)return E(e);if(x.has(e))return x.get(e);var t=R(e);return t!==e&&(x.set(e,t),_.set(t,e)),t}var Z=function(e){return _.get(e)};function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=C(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(C(u.result),e.oldVersion,e.newVersion,C(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))}))["catch"]((function(){})),s}var O,N,M=["get","getKey","getAll","getAllKeys","count"],L=["put","add","delete","clear"],P=new Map;function F(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(P.get(t))return P.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=L.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||M.includes(n))){var a=function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(t){var a,o,u,s,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return P.set(t,a),a}}}T((function(e){return(0,p.Z)((0,p.Z)({},e),{},{get:function(t,n,r){return F(t,n)||e.get(t,n,r)},has:function(t,n){return!!F(t,n)||e.has(t,n)}})}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var V=function(){function e(t){(0,l.Z)(this,e),this.container=t}return(0,f.Z)(e,[{key:"getPlatformInfoString",value:function(){var e=this.container.getProviders();return e.map((function(e){if(j(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();function j(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}var U="@firebase/app",B="0.9.3",q=new d.Yd("@firebase/app"),G="@firebase/app-compat",K="@firebase/analytics-compat",z="@firebase/analytics",W="@firebase/app-check-compat",H="@firebase/app-check",Q="@firebase/auth",Y="@firebase/auth-compat",$="@firebase/database",J="@firebase/database-compat",X="@firebase/functions",ee="@firebase/functions-compat",te="@firebase/installations",ne="@firebase/installations-compat",re="@firebase/messaging",ie="@firebase/messaging-compat",ae="@firebase/performance",oe="@firebase/performance-compat",ue="@firebase/remote-config",se="@firebase/remote-config-compat",ce="@firebase/storage",le="@firebase/storage-compat",fe="@firebase/firestore",he="@firebase/firestore-compat",de="firebase",ve="9.17.1",pe="[DEFAULT]",ye=(O={},(0,c.Z)(O,U,"fire-core"),(0,c.Z)(O,G,"fire-core-compat"),(0,c.Z)(O,z,"fire-analytics"),(0,c.Z)(O,K,"fire-analytics-compat"),(0,c.Z)(O,H,"fire-app-check"),(0,c.Z)(O,W,"fire-app-check-compat"),(0,c.Z)(O,Q,"fire-auth"),(0,c.Z)(O,Y,"fire-auth-compat"),(0,c.Z)(O,$,"fire-rtdb"),(0,c.Z)(O,J,"fire-rtdb-compat"),(0,c.Z)(O,X,"fire-fn"),(0,c.Z)(O,ee,"fire-fn-compat"),(0,c.Z)(O,te,"fire-iid"),(0,c.Z)(O,ne,"fire-iid-compat"),(0,c.Z)(O,re,"fire-fcm"),(0,c.Z)(O,ie,"fire-fcm-compat"),(0,c.Z)(O,ae,"fire-perf"),(0,c.Z)(O,oe,"fire-perf-compat"),(0,c.Z)(O,ue,"fire-rc"),(0,c.Z)(O,se,"fire-rc-compat"),(0,c.Z)(O,ce,"fire-gcs"),(0,c.Z)(O,le,"fire-gcs-compat"),(0,c.Z)(O,fe,"fire-fst"),(0,c.Z)(O,he,"fire-fst-compat"),(0,c.Z)(O,"fire-js","fire-js"),(0,c.Z)(O,de,"fire-js-all"),O),ge=new Map,me=new Map;function we(e,t){try{e.container.addComponent(t)}catch(n){q.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ke(e,t){e.container.addOrOverwriteComponent(t)}function be(e){var t=e.name;if(me.has(t))return q.debug("There were multiple attempts to register component ".concat(t,".")),!1;me.set(t,e);var n,r=(0,s.Z)(ge.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;we(i,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function xe(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe;xe(e,t).clearInstance(n)}function Ee(){me.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie=(N={},(0,c.Z)(N,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,c.Z)(N,"bad-app-name","Illegal App name: '{$appName}"),(0,c.Z)(N,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,c.Z)(N,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,c.Z)(N,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,c.Z)(N,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,c.Z)(N,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,c.Z)(N,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(N,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(N,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(N,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),N),Se=new v.LL("app","Firebase",Ie),Te=function(){function e(t,n,r){var i=this;(0,l.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new h.wA("app",(function(){return i}),"PUBLIC"))}return(0,f.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Se.create("app-deleted",{appName:this._name})}}]),e}(),Ae=ve;function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==(0,u.Z)(t)){var r=t;t={name:r}}var i=Object.assign({name:pe,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Se.create("bad-app-name",{appName:String(a)});if(n||(n=(0,v.aH)()),!n)throw Se.create("no-options");var o=ge.get(a);if(o){if((0,v.vZ)(n,o.options)&&(0,v.vZ)(i,o.config))return o;throw Se.create("duplicate-app",{appName:a})}var c,l=new h.H0(a),f=(0,s.Z)(me.values());try{for(f.s();!(c=f.n()).done;){var d=c.value;l.addComponent(d)}}catch(y){f.e(y)}finally{f.f()}var p=new Te(n,i,l);return ge.set(a,p),p}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=ge.get(e);if(!t&&e===pe)return Re();if(!t)throw Se.create("no-app",{appName:e});return t}function Ze(){return Array.from(ge.values())}function De(e){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,o.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.name,!ge.has(n)){e.next=6;break}return ge["delete"](n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e["delete"]()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function Ne(e,t,n){var r,i=null!==(r=ye[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void q.warn(u.join(" "))}be(new h.wA("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Me(e,t){if(null!==e&&"function"!==typeof e)throw Se.create("invalid-log-argument");(0,d.Am)(e,t)}function Le(e){(0,d.Ub)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe="firebase-heartbeat-database",Fe=1,Ve="firebase-heartbeat-store",je=null;function Ue(){return je||(je=D(Pe,Fe,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(Ve)}}})["catch"]((function(e){throw Se.create("idb-open",{originalErrorMessage:e.message})}))),je}function Be(e){return qe.apply(this,arguments)}function qe(){return qe=(0,o.Z)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ve).objectStore(Ve).get(ze(t)));case 7:e.prev=7,e.t0=e["catch"](0),e.t0 instanceof v.ZR?q.warn(e.t0.message):(r=Se.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),q.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),qe.apply(this,arguments)}function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,o.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue();case 3:return r=e.sent,i=r.transaction(Ve,"readwrite"),a=i.objectStore(Ve),e.next=8,a.put(n,ze(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e["catch"](0),e.t0 instanceof v.ZR?q.warn(e.t0.message):(o=Se.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),q.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ke.apply(this,arguments)}function ze(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We=1024,He=2592e6,Qe=function(){function e(t){var n=this;(0,l.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Je(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,f.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ye(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf(),n=Date.now();return n-t<=He})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ye(),n=$e(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=(0,v.L)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Ye(){var e=new Date;return e.toISOString().substring(0,10)}function $e(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We,r=[],i=e.slice(),a=(0,s.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Xe(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Xe(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(c){a.e(c)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Je=function(){function e(t){(0,l.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,f.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,v.hl)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",(0,v.eu)().then((function(){return!0}))["catch"]((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"read",value:function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(t=e.sent,t){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Be(this.app);case 9:return n=e.sent,e.abrupt("return",n||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"overwrite",value:function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(r=e.sent,r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Ge(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(r=e.sent,r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Ge(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[].concat((0,a.Z)(i.heartbeats),(0,a.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function Xe(e){return(0,v.L)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){be(new h.wA("platform-logger",(function(e){return new V(e)}),"PRIVATE")),be(new h.wA("heartbeat",(function(e){return new Qe(e)}),"PRIVATE")),Ne(U,B,e),Ne(U,B,"esm2017"),Ne("fire-js","")}et("")},7142:(e,t,n)=>{"use strict";n.d(t,{H0:()=>p,wA:()=>l});var r=n(9584),i=n(8534),a=n(6084),o=n(6347),u=n(3087),s=n(2833),c=(n(6133),n(8309),n(1532),n(1539),n(8783),n(3948),n(1703),n(6647),n(2222),n(1038),n(1249),n(7327),n(189),n(5287)),l=function(){function e(t,n,r){(0,u.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,s.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),f="[DEFAULT]",h=function(){function e(t,n){(0,u.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,s.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new c.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(v(e))try{this.getOrInitializeService({instanceIdentifier:f})}catch(l){}var t,n=(0,o.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],u=r[1],s=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:s});u.resolve(c)}catch(l){}}}catch(h){n.e(h)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.instancesDeferred["delete"](e),this.instancesOptions["delete"](e),this.instances["delete"](e)}},{key:"delete",value:function(){var e=(0,i.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,r.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL["delete"]()}))),(0,r.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,u=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=(0,o.Z)(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var c=(0,a.Z)(i.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(u)}}catch(d){s.e(d)}finally{s.f()}return u}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i["delete"](e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(u){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.component?this.component.multipleInstances?e:f:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function d(e){return e===f?void 0:e}function v(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=function(){function e(t){(0,u.Z)(this,e),this.name=t,this.providers=new Map}return(0,s.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers["delete"](e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new h(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},5168:(e,t,n)=>{"use strict";n.d(t,{Am:()=>y,Ub:()=>p,Yd:()=>v,in:()=>i});var r,i,a=n(6347),o=n(3087),u=n(2833),s=n(2482),c=(n(8733),n(3710),n(2222),n(8309),n(1703),n(6647),n(9554),n(1539),n(9600),n(7327),n(1249),n(9714),n(8862),[]);(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},(0,s.Z)(r,i.DEBUG,"log"),(0,s.Z)(r,i.VERBOSE,"log"),(0,s.Z)(r,i.INFO,"info"),(0,s.Z)(r,i.WARN,"warn"),(0,s.Z)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},v=function(){function e(t){(0,o.Z)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return(0,u.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function p(e){c.forEach((function(t){t.setLogLevel(e)}))}function y(e,t){var n,r=(0,a.Z)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}}},1509:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(2661),i="firebase",a="9.17.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Z.registerVersion(i,a,"app-compat")},7858:(e,t,n)=>{"use strict";var r=n(5507),i=n(9110),a=n(7946),o=n(6347),u=n(3336),s=n(3087),c=n(2833),l=(n(9575),n(1539),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(2222),n(8783),n(4129),n(3948),n(4916),n(5306),n(4812),n(1249),n(9554),n(4747),n(2661)),f=(n(1299),n(4819),n(5003),n(2040));function h(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,f.Z)(e),null===e)break;return e}function d(){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}var v,p=n(6084),y=n(8534),g=n(9584),m=(n(6133),n(8862),n(1703),n(6647),n(3710),n(9714),n(8309),n(1532),n(2564),n(6541),n(3112),n(3843),n(7042),n(9600),n(2772),n(7327),n(3123),n(7601),n(9826),n(4723),n(9653),n(5069),n(189),n(2262),n(4506),n(3161),n(4363),n(5994),n(5505),n(7714),n(2801),n(1174),n(7479),n(2165),n(2526),n(1817),n(4603),n(8450),n(8386),n(3650),n(7941),n(2707),n(5827),n(5212),n(561),n(8733),n(9841),n(6716),n(8264),n(1038),n(2479),n(9753),n(86),n(4553),n(9720),n(6699),n(2023),n(489),n(4765),n(7077)),w=n(7142),k=n(5168),b=n(5287),x=(n(5837),n(9070),n(3210),n(4678),n(1058),"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}),_={},E=E||{},I=x||self;function S(){}function T(e){var t=(0,u.Z)(e);return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function A(e){var t=(0,u.Z)(e);return"object"==t&&null!=e||"function"==t}function R(e){return Object.prototype.hasOwnProperty.call(e,C)&&e[C]||(e[C]=++Z)}var C="closure_uid_"+(1e9*Math.random()>>>0),Z=0;function D(e,t,n){return e.call.apply(e.bind,arguments)}function O(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function N(e,t,n){return N=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D:O,N.apply(null,arguments)}function M(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function L(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function P(){this.s=this.s,this.o=this.o}var F=0;P.prototype.s=!1,P.prototype.na=function(){this.s||(this.s=!0,this.M(),0==F)||R(this)},P.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var V=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function j(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function U(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(T(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function B(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{I.addEventListener("test",S,t),I.removeEventListener("test",S,t)}catch(n){}return e}();function G(e){return/^[\s\xa0]*$/.test(e)}var K=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function z(e,t){return e<t?-1:e>t?1:0}function W(){var e=I.navigator;return e&&(e=e.userAgent)?e:""}function H(e){return-1!=W().indexOf(e)}function Q(e){return Q[" "](e),e}function Y(e){var t=ce;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}Q[" "]=S;var $,J=H("Opera"),X=H("Trident")||H("MSIE"),ee=H("Edge"),te=ee||X,ne=H("Gecko")&&!(-1!=W().toLowerCase().indexOf("webkit")&&!H("Edge"))&&!(H("Trident")||H("MSIE"))&&!H("Edge"),re=-1!=W().toLowerCase().indexOf("webkit")&&!H("Edge");function ie(){var e=I.document;return e?e.documentMode:void 0}e:{var ae="",oe=function(){var e=W();return ne?/rv:([^\);]+)(\)|;)/.exec(e):ee?/Edge\/([\d\.]+)/.exec(e):X?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):re?/WebKit\/(\S+)/.exec(e):J?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(oe&&(ae=oe?oe[1]:""),X){var ue=ie();if(null!=ue&&ue>parseFloat(ae)){$=String(ue);break e}}$=ae}var se,ce={};function le(){return Y((function(){for(var e=0,t=K(String($)).split("."),n=K("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=z(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||z(0==a[2].length,0==o[2].length)||z(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(I.document&&X){var fe=ie();se=fe||(parseInt($,10)||void 0)}else se=void 0;var he=se;function de(e,t){if(B.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ne){e:{try{Q(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ve[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&de.X.h.call(this)}}L(de,B);var ve={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ge(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ye,this.ba=this.ea=!1}function me(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function we(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ke(e){var t={};for(var n in e)t[n]=e[n];return t}var be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(var a=0;a<be.length;a++)n=be[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _e(e){this.src=e,this.g={},this.h=0}function Ee(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=V(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(me(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ie(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}_e.prototype.add=function(e,t,n,r,i){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var o=Ie(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new ge(t,this.src,a,!!r,i),t.ea=n,e.push(t)),t};var Se="closure_lm_"+(1e6*Math.random()|0),Te={};function Ae(e,t,n,r,i){if(r&&r.once)return Ze(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ae(e,t[a],n,r,i);return null}return n=Fe(n),e&&e[pe]?e.N(t,n,A(r)?!!r.capture:!!r,i):Re(e,t,n,!1,r,i)}function Re(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=A(i)?!!i.capture:!!i,u=Le(e);if(u||(e[Se]=u=new _e(e)),n=u.add(t,n,r,o,a),n.proxy)return n;if(r=Ce(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)q||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ne(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ce(){function e(n){return t.call(e.src,e.listener,n)}var t=Me;return e}function Ze(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ze(e,t[a],n,r,i);return null}return n=Fe(n),e&&e[pe]?e.O(t,n,A(r)?!!r.capture:!!r,i):Re(e,t,n,!0,r,i)}function De(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)De(e,t[a],n,r,i);else r=A(r)?!!r.capture:!!r,n=Fe(n),e&&e[pe]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=Ie(a,n,r,i),-1<n&&(me(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Le(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ie(t,n,r,i)),(n=-1<e?t[e]:null)&&Oe(n))}function Oe(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[pe])Ee(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ne(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Le(t))?(Ee(n,e),0==n.h&&(n.src=null,t[Se]=null)):me(e)}}}function Ne(e){return e in Te?Te[e]:Te[e]="on"+e}function Me(e,t){if(e.ba)e=!0;else{t=new de(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Oe(e),e=n.call(r,t)}return e}function Le(e){return e=e[Se],e instanceof _e?e:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(e){return"function"===typeof e?e:(e[Pe]||(e[Pe]=function(t){return e.handleEvent(t)}),e[Pe])}function Ve(){P.call(this),this.i=new _e(this),this.P=this,this.I=null}function je(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new B(t,e);else if(t instanceof B)t.target=t.target||e;else{var i=t;t=new B(r,e),xe(t,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ue(o,r,!0,t)&&i}if(o=t.g=e,i=Ue(o,r,!0,t)&&i,i=Ue(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=Ue(o,r,!1,t)&&i}function Ue(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Ee(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}L(Ve,P),Ve.prototype[pe]=!0,Ve.prototype.removeEventListener=function(e,t,n,r){De(this,e,t,n,r)},Ve.prototype.M=function(){if(Ve.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)me(n[r]);delete t.g[e],t.h--}}this.I=null},Ve.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ve.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Be=I.JSON.stringify;function qe(){var e=Je,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ge,Ke=function(){function e(){(0,s.Z)(this,e),this.h=this.g=null}return(0,c.Z)(e,[{key:"add",value:function(e,t){var n=ze.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ze=new(function(){function e(t,n){(0,s.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,c.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new We}),(function(e){return e.reset()})),We=function(){function e(){(0,s.Z)(this,e),this.next=this.g=this.h=null}return(0,c.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function He(e){I.setTimeout((function(){throw e}),0)}function Qe(e,t){Ge||Ye(),$e||(Ge(),$e=!0),Je.add(e,t)}function Ye(){var e=I.Promise.resolve(void 0);Ge=function(){e.then(Xe)}}var $e=!1,Je=new Ke;function Xe(){for(var e;e=qe();){try{e.h.call(e.g)}catch(n){He(n)}var t=ze;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}$e=!1}function et(e,t){Ve.call(this),this.h=e||1,this.g=t||I,this.j=N(this.lb,this),this.l=Date.now()}function tt(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function nt(e,t,n){if("function"===typeof e)n&&(e=N(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=N(e.handleEvent,e)}return 2147483647<Number(t)?-1:I.setTimeout(e,t||0)}function rt(e){e.g=nt((function(){e.g=null,e.i&&(e.i=!1,rt(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}L(et,Ve),v=et.prototype,v.ca=!1,v.R=null,v.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),je(this,"tick"),this.ca&&(tt(this),this.start()))}},v.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},v.M=function(){et.X.M.call(this),tt(this),delete this.g};var it=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,c.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:rt(this)}},{key:"M",value:function(){d((0,f.Z)(n.prototype),"M",this).call(this),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(P);function at(e){P.call(this),this.h=e,this.g={}}L(at,P);var ot=[];function ut(e,t,n,r){Array.isArray(n)||(n&&(ot[0]=n.toString()),n=ot);for(var i=0;i<n.length;i++){var a=Ae(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function st(e){we(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Oe(e)}),e),e.g={}}function ct(){this.g=!0}function lt(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}function ft(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}function ht(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+vt(e,n)+(r?" "+r:"")}))}function dt(e,t){e.info((function(){return"TIMEOUT: "+t}))}function vt(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Be(n)}catch(u){return t}}at.prototype.M=function(){at.X.M.call(this),st(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ct.prototype.Aa=function(){this.g=!1},ct.prototype.info=function(){};var pt={},yt=null;function gt(){return yt=yt||new Ve}function mt(e){B.call(this,pt.Pa,e)}function wt(e){var t=gt();je(t,new mt(t))}function kt(e,t){B.call(this,pt.STAT_EVENT,e),this.stat=t}function bt(e){var t=gt();je(t,new kt(t,e))}function xt(e,t){B.call(this,pt.Qa,e),this.size=t}function _t(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return I.setTimeout((function(){e()}),t)}pt.Pa="serverreachability",L(mt,B),pt.STAT_EVENT="statevent",L(kt,B),pt.Qa="timingevent",L(xt,B);var Et={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},It={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function St(){}function Tt(e){return e.h||(e.h=e.i())}function At(){}St.prototype.h=null;var Rt,Ct={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zt(){B.call(this,"d")}function Dt(){B.call(this,"c")}function Ot(){}function Nt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new at(this),this.O=Lt,e=te?125:void 0,this.T=new et(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}L(Zt,B),L(Dt,B),L(Ot,St),Ot.prototype.g=function(){return new XMLHttpRequest},Ot.prototype.i=function(){return{}},Rt=new Ot;var Lt=45e3,Pt={},Ft={};function Vt(e,t,n){e.K=1,e.v=sn(nn(t)),e.s=n,e.P=!0,jt(e,null)}function jt(e,t){e.F=Date.now(),Gt(e),e.A=nn(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),bn(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Mt,e.g=Ir(e.l,n?t:null,!e.s),0<e.N&&(e.L=new it(N(e.La,e,e.g),e.N)),ut(e.S,e.g,"readystatechange",e.ib),t=e.H?ke(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),wt(),lt(e.j,e.u,e.A,e.m,e.U,e.s)}function Ut(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Bt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if(r=qt(e,n),r==Ft){4==t&&(e.o=4,bt(14),i=!1),ht(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pt){e.o=4,bt(15),ht(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ht(e.j,e.m,r,null),Qt(e,r)}Ut(e)&&r!=Ft&&r!=Pt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),gr(t),t.K=!0,bt(11))):(ht(e.j,e.m,n,"[Invalid Chunked Response]"),Ht(e),Wt(e))}function qt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ft:(n=Number(t.substring(n,r)),isNaN(n)?Pt:(r+=1,r+n>t.length?Ft:(t=t.substr(r,n),e.C=r+n,t)))}function Gt(e){e.V=Date.now()+e.O,Kt(e,e.O)}function Kt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_t(N(e.gb,e),t)}function zt(e){e.B&&(I.clearTimeout(e.B),e.B=null)}function Wt(e){0==e.l.G||e.I||kr(e.l,e)}function Ht(e){zt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,tt(e.T),st(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Qt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Rn(n.h,e)))if(!e.J&&Rn(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wr(n),sr(n)}yr(n),bt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=_t(N(n.cb,n),6e3));if(1>=An(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else xr(n,11)}else if((e.J||n.g==e)&&wr(n),!G(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Cn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,un(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var d=e;if(r.sa=Er(r,r.H?r.ka:null,r.V),d.J){Zn(r.h,d);var v=d,p=r.J;p&&v.setTimeout(p),v.B&&(zt(v),Gt(v)),r.g=d}else pr(r);0<n.i.length&&lr(n)}else"stop"!=a[0]&&"close"!=a[0]||xr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?xr(n,7):ur(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}wt(4)}catch(a){}}function Yt(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(T(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function $t(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(T(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}function Jt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(T(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=$t(e),r=Yt(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}v=Nt.prototype,v.setTimeout=function(e){this.O=e},v.ib=function(e){e=e.target;var t=this.L;t&&3==tr(e)?t.l():this.La(e)},v.La=function(e){try{if(e==this.g)e:{var t=tr(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||te||this.g&&(this.h.h||this.g.fa()||nr(this.g)))){this.I||4!=t||7==n||wt(8==n||0>=r?3:2),zt(this);var i=this.g.aa();this.Y=i;t:if(Ut(this)){var a=nr(this.g);e="";var o=a.length,u=4==tr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ht(this),Wt(this);var s="";break t}this.h.i=new I.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,ft(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,bt(12),Ht(this),Wt(this);break e}ht(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qt(this,i)}this.P?(Bt(this,t,s),te&&this.i&&3==t&&(ut(this.S,this.T,"tick",this.hb),this.T.start())):(ht(this.j,this.m,s,null),Qt(this,s)),4==t&&Ht(this),this.i&&!this.I&&(4==t?kr(this.l,this):(this.i=!1,Gt(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,bt(12)):(this.o=0,bt(13)),Ht(this),Wt(this)}}}catch(t){}},v.hb=function(){if(this.g){var e=tr(this.g),t=this.g.fa();this.C<t.length&&(zt(this),Bt(this,e,t),this.i&&4!=e&&Gt(this))}},v.cancel=function(){this.I=!0,Ht(this)},v.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(dt(this.j,this.A),2!=this.K&&(wt(),bt(17)),Ht(this),this.o=2,Wt(this)):Kt(this,this.V-e)};var Xt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function en(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function tn(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof tn){this.h=void 0!==t?t:e.h,rn(this,e.j),this.s=e.s,this.g=e.g,an(this,e.m),this.l=e.l,t=e.i;var n=new gn;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),on(this,n),this.o=e.o}else e&&(n=String(e).match(Xt))?(this.h=!!t,rn(this,n[1]||"",!0),this.s=cn(n[2]||""),this.g=cn(n[3]||"",!0),an(this,n[4]),this.l=cn(n[5]||"",!0),on(this,n[6]||"",!0),this.o=cn(n[7]||"")):(this.h=!!t,this.i=new gn(null,this.h))}function nn(e){return new tn(e)}function rn(e,t,n){e.j=n?cn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function an(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function on(e,t,n){t instanceof gn?(e.i=t,_n(e.i,e.h)):(n||(t=ln(t,pn)),e.i=new gn(t,e.h))}function un(e,t,n){e.i.set(t,n)}function sn(e){return un(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function cn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ln(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,fn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fn(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}tn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ln(t,hn,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ln(t,hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ln(n,"/"==n.charAt(0)?vn:dn,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ln(n,yn)),e.join("")};var hn=/[#\/\?@]/g,dn=/[#\?:]/g,vn=/[#\?]/g,pn=/[#\?@]/g,yn=/#/g;function gn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mn(e){e.g||(e.g=new Map,e.h=0,e.i&&en(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wn(e,t){mn(e),t=xn(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g["delete"](t))}function kn(e,t){return mn(e),t=xn(e,t),e.g.has(t)}function bn(e,t,n){wn(e,t),0<n.length&&(e.i=null,e.g.set(xn(e,t),j(n)),e.h+=n.length)}function xn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _n(e,t){t&&!e.j&&(mn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wn(this,t),bn(this,n,e))}),e)),e.j=t}v=gn.prototype,v.add=function(e,t){mn(this),this.i=null,e=xn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},v.forEach=function(e,t){mn(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},v.oa=function(){mn(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},v.W=function(e){mn(this);var t=[];if("string"===typeof e)kn(this,e)&&(t=t.concat(this.g.get(xn(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},v.set=function(e,t){return mn(this),this.i=null,e=xn(this,e),kn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},v.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t},v.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var En=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.h=t,this.g=n}));function In(e){this.l=e||Sn,I.PerformanceNavigationTiming?(e=I.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(I.g&&I.g.Ga&&I.g.Ga()&&I.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sn=10;function Tn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function An(e){return e.h?1:e.g?e.g.size:0}function Rn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cn(e,t){e.g?e.g.add(t):e.h=t}function Zn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g["delete"](t)}function Dn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,o.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return j(e.i)}function On(){}function Nn(){this.g=new On}function Mn(e,t,n){var r=n||"";try{Jt(e,(function(e,n){var i=e;A(e)&&(i=Be(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ln(e,t){var n=new ct;if(I.Image){var r=new Image;r.onload=M(Pn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=M(Pn,n,r,"TestLoadImage: error",!1,t),r.onabort=M(Pn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=M(Pn,n,r,"TestLoadImage: timeout",!1,t),I.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Pn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Fn(e){this.l=e.ac||null,this.j=e.jb||!1}function Vn(e,t){Ve.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=jn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}In.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,o.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.cancel()}}catch(r){t.e(r)}finally{t.f()}this.g.clear()}},On.prototype.stringify=function(e){return I.JSON.stringify(e,void 0)},On.prototype.parse=function(e){return I.JSON.parse(e,void 0)},L(Fn,St),Fn.prototype.g=function(){return new Vn(this.l,this.j)},Fn.prototype.i=function(e){return function(){return e}}({}),L(Vn,Ve);var jn=0;function Un(e){e.j.read().then(e.Ta.bind(e))["catch"](e.ga.bind(e))}function Bn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qn(e)}function qn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}v=Vn.prototype,v.open=function(e,t){if(this.readyState!=jn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qn(this)},v.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||I).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.")["catch"]((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bn(this)),this.readyState=jn},v.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof I.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Un(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},v.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bn(this):qn(this),3==this.readyState&&Un(this)}},v.Va=function(e){this.g&&(this.response=this.responseText=e,Bn(this))},v.Ua=function(e){this.g&&(this.response=e,Bn(this))},v.ga=function(){this.g&&Bn(this)},v.setRequestHeader=function(e,t){this.v.append(e,t)},v.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},v.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gn=I.JSON.parse;function Kn(e){Ve.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zn,this.K=this.L=!1}L(Kn,Ve);var zn="",Wn=/^https?$/i,Hn=["POST","PUT"];function Qn(e){return X&&le()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Yn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$n(e),Xn(e)}function $n(e){e.D||(e.D=!0,je(e,"complete"),je(e,"error"))}function Jn(e){if(e.h&&"undefined"!=typeof E&&(!e.C[1]||4!=tr(e)||2!=e.aa()))if(e.v&&4==tr(e))nt(e.Ha,0,e);else if(je(e,"readystatechange"),4==tr(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Xt)[1]||null;if(!a&&I.self&&I.self.location){var o=I.self.location.protocol;a=o.substr(0,o.length-1)}i=!Wn.test(a?a.toLowerCase():"")}t=i}if(t)je(e,"complete"),je(e,"success");else{e.m=6;try{var u=2<tr(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",$n(e)}}finally{Xn(e)}}}function Xn(e,t){if(e.g){er(e);var n=e.g,r=e.C[0]?S:null;e.g=null,e.C=null,t||je(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function er(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(I.clearTimeout(e.A),e.A=null)}function tr(e){return e.g?e.g.readyState:0}function nr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ur){return null}}function rr(e){var t="";return we(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ir(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rr(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):un(e,t,n))}function ar(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function or(e){this.Ca=0,this.i=[],this.j=new ct,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ar("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ar("baseRetryDelayMs",5e3,e),this.bb=ar("retryDelaySeedMs",1e4,e),this.$a=ar("forwardChannelMaxRetries",2,e),this.ta=ar("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new In(e&&e.concurrentRequestLimit),this.Fa=new Nn,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ur(e){if(cr(e),3==e.G){var t=e.U++,n=nn(e.F);un(n,"SID",e.I),un(n,"RID",t),un(n,"TYPE","terminate"),dr(e,n),t=new Nt(e,e.j,t,void 0),t.K=2,t.v=sn(nn(n)),n=!1,I.navigator&&I.navigator.sendBeacon&&(n=I.navigator.sendBeacon(t.v.toString(),"")),!n&&I.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ir(t.l,null),t.g.da(t.v)),t.F=Date.now(),Gt(t)}_r(e)}function sr(e){e.g&&(gr(e),e.g.cancel(),e.g=null)}function cr(e){sr(e),e.u&&(I.clearTimeout(e.u),e.u=null),wr(e),e.h.cancel(),e.m&&("number"===typeof e.m&&I.clearTimeout(e.m),e.m=null)}function lr(e){Tn(e.h)||e.m||(e.m=!0,Qe(e.Ja,e),e.C=0)}function fr(e,t){return!(An(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=_t(N(e.Ja,e,t),br(e,e.C)),e.C++,!0))}function hr(e,t){var n;n=t?t.m:e.U++;var r=nn(e.F);un(r,"SID",e.I),un(r,"RID",n),un(r,"AID",e.T),dr(e,r),e.o&&e.s&&ir(r,e.o,e.s),n=new Nt(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=vr(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Cn(e.h,n),Vt(n,r,t)}function dr(e,t){e.ia&&we(e.ia,(function(e,n){un(t,n,e)})),e.l&&Jt({},(function(e,n){un(t,n,e)}))}function vr(e,t,n){n=Math.min(e.i.length,n);var r=e.l?N(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(c-=a,0>c)a=Math.max(0,i[s].h-100),u=!1;else try{Mn(l,o,"req"+c+"_")}catch(Xr){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function pr(e){e.g||e.u||(e.Z=1,Qe(e.Ia,e),e.A=0)}function yr(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=_t(N(e.Ia,e),br(e,e.A)),e.A++,!0)}function gr(e){null!=e.B&&(I.clearTimeout(e.B),e.B=null)}function mr(e){e.g=new Nt(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=nn(e.sa);un(t,"RID","rpc"),un(t,"SID",e.I),un(t,"CI",e.L?"0":"1"),un(t,"AID",e.T),un(t,"TYPE","xmlhttp"),dr(e,t),e.o&&e.s&&ir(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=sn(nn(t)),n.s=null,n.P=!0,jt(n,e)}function wr(e){null!=e.v&&(I.clearTimeout(e.v),e.v=null)}function kr(e,t){var n=null;if(e.g==t){wr(e),gr(e),e.g=null;var r=2}else{if(!Rn(e.h,t))return;n=t.D,Zn(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=gt(),je(r,new xt(r,n)),lr(e)}else pr(e);else if(i=t.o,3==i||0==i&&0<e.pa||!(1==r&&fr(e,t)||2==r&&yr(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:xr(e,5);break;case 4:xr(e,10);break;case 3:xr(e,6);break;default:xr(e,2)}}function br(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function xr(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=N(e.kb,e);n||(n=new tn("//www.google.com/images/cleardot.gif"),I.location&&"http"==I.location.protocol||rn(n,"https"),sn(n)),Ln(n.toString(),r)}else bt(2);e.G=0,e.l&&e.l.va(t),_r(e),cr(e)}function _r(e){if(e.G=0,e.la=[],e.l){var t=Dn(e.h);0==t.length&&0==e.i.length||(U(e.la,t),U(e.la,e.i),e.h.i.length=0,j(e.i),e.i.length=0),e.l.ua()}}function Er(e,t,n){var r=n instanceof tn?nn(n):new tn(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),an(r,r.m);else{var i=I.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new tn(null,void 0);r&&rn(a,r),t&&(a.g=t),i&&an(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&un(r,n,t),un(r,"VER",e.ma),dr(e,r),r}function Ir(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Kn(new Fn({jb:!0})):new Kn(e.ra),t.Ka(e.H),t}function Sr(){}function Tr(){if(X&&!(10<=Number(he)))throw Error("Environmental error: no available transport.")}function Ar(e,t){Ve.call(this),this.g=new or(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!G(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!G(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Zr(this)}function Rr(e){Zt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cr(){Dt.call(this),this.status=1}function Zr(e){this.g=e}v=Kn.prototype,v.Ka=function(e){this.L=e},v.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rt.g(),this.C=this.u?Tt(this.u):Tt(Rt),this.g.onreadystatechange=N(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Yn(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,u=(0,o.Z)(r.keys());try{for(u.s();!(a=u.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(v){u.e(v)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=I.FormData&&e instanceof I.FormData,!(0<=V(Hn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=(0,o.Z)(n);try{for(l.s();!(c=l.n()).done;){var f=(0,p.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(v){l.e(v)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{er(this),0<this.B&&((this.K=Qn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=N(this.qa,this)):this.A=nt(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Yn(this,s)}},v.qa=function(){"undefined"!=typeof E&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))},v.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,je(this,"complete"),je(this,"abort"),Xn(this))},v.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xn(this,!0)),Kn.X.M.call(this)},v.Ha=function(){this.s||(this.F||this.v||this.l?Jn(this):this.fb())},v.fb=function(){Jn(this)},v.aa=function(){try{return 2<tr(this)?this.g.status:-1}catch(e){return-1}},v.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},v.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gn(t)}},v.Ea=function(){return this.m},v.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},v=or.prototype,v.ma=8,v.G=1,v.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Nt(this,this.j,e,void 0),n=this.s;if(this.S&&(n?(n=ke(n),xe(n,this.S)):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(a="__data__"in a.g&&(a=a.g.__data__,"string"===typeof a)?a.length:void 0,void 0===a)break;if(r+=a,4096<r){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vr(this,t,r),i=nn(this.F),un(i,"RID",e),un(i,"CVER",22),this.D&&un(i,"X-HTTP-Session-Id",this.D),dr(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(rr(n)))+"&"+r:this.o&&ir(i,this.o,n)),Cn(this.h,t),this.Ya&&un(i,"TYPE","init"),this.O?(un(i,"$req",r),un(i,"SID","null"),t.Z=!0,Vt(t,i,null)):Vt(t,i,r),this.G=2}}else 3==this.G&&(e?hr(this,e):0==this.i.length||Tn(this.h)||hr(this))},v.Ia=function(){if(this.u=null,mr(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=_t(N(this.eb,this),e)}},v.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,bt(10),sr(this),mr(this))},v.cb=function(){null!=this.v&&(this.v=null,sr(this),yr(this),bt(19))},v.kb=function(e){e?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))},v=Sr.prototype,v.xa=function(){},v.wa=function(){},v.va=function(){},v.ua=function(){},v.Ra=function(){},Tr.prototype.g=function(e,t){return new Ar(e,t)},L(Ar,Ve),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;bt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Er(e,null,e.V),lr(e)},Ar.prototype.close=function(){ur(this.g)},Ar.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Be(e),e=n);t.i.push(new En(t.ab++,e)),3==t.G&&lr(t)},Ar.prototype.M=function(){this.g.l=null,delete this.j,ur(this.g),delete this.g,Ar.X.M.call(this)},L(Rr,Zt),L(Cr,Dt),L(Zr,Sr),Zr.prototype.xa=function(){je(this.g,"a")},Zr.prototype.wa=function(e){je(this.g,new Rr(e))},Zr.prototype.va=function(e){je(this.g,new Cr)},Zr.prototype.ua=function(){je(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,Ar.prototype.send=Ar.prototype.u,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,It.COMPLETE="complete",At.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",Ve.prototype.listen=Ve.prototype.N,Kn.prototype.listenOnce=Kn.prototype.O,Kn.prototype.getLastError=Kn.prototype.Oa,Kn.prototype.getLastErrorCode=Kn.prototype.Ea,Kn.prototype.getStatus=Kn.prototype.aa,Kn.prototype.getResponseJson=Kn.prototype.Sa,Kn.prototype.getResponseText=Kn.prototype.fa,Kn.prototype.send=Kn.prototype.da,Kn.prototype.setWithCredentials=Kn.prototype.Ka;var Dr=_.createWebChannelTransport=function(){return new Tr},Or=_.getStatEventTarget=function(){return gt()},Nr=_.ErrorCode=Et,Mr=_.EventType=It,Lr=_.Event=pt,Pr=_.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Fr=_.FetchXmlHttpFactory=Fn,Vr=_.WebChannel=At,jr=_.XhrIo=Kn,Ur="@firebase/firestore",Br=function(){function e(t){(0,s.Z)(this,e),this.uid=t}return(0,c.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qr="9.17.1",Gr=new k.Yd("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return Gr.logLevel}function zr(e){Gr.setLogLevel(e)}function Wr(e){if(Gr.logLevel<=k["in"].DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yr);Gr.debug.apply(Gr,["Firestore (".concat(qr,"): ").concat(e)].concat((0,g.Z)(i)))}}function Hr(e){if(Gr.logLevel<=k["in"].ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yr);Gr.error.apply(Gr,["Firestore (".concat(qr,"): ").concat(e)].concat((0,g.Z)(i)))}}function Qr(e){if(Gr.logLevel<=k["in"].WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yr);Gr.warn.apply(Gr,["Firestore (".concat(qr,"): ").concat(e)].concat((0,g.Z)(i)))}}function Yr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(qr,") INTERNAL ASSERTION FAILED: ")+e;throw Hr(t),new Error(t)}function Jr(e,t){e||$r()}function Xr(e,t){e||$r()}function ei(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ni=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,r),i.code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,c.Z)(n)}(b.ZR),ri=(0,c.Z)((function e(){var t=this;(0,s.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ii=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ai=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Br.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),oi=function(){function e(t){(0,s.Z)(this,e),this.token=t,this.changeListener=null}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ui=function(){function e(t){(0,s.Z)(this,e),this.t=t,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,c.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ri;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ri,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Wr("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Wr("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ri)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Wr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Jr("string"==typeof n.accessToken),new ii(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Jr(null===e||"string"==typeof e),new Br(e)}}]),e}(),si=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.p=new Map}return(0,c.Z)(e,[{key:"I",value:function(){return this.g?this.g():(Jr(!("object"!=(0,u.Z)(this.h)||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),ci=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new si(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Br.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),li=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),fi=function(){function e(t){(0,s.Z)(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return(0,c.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Wr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Wr("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Wr("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Wr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Jr("string"==typeof t.token),e.A=t.token,new li(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hi(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=hi(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function vi(e,t){return e<t?-1:e>t?1:0}function pi(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function yi(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi=function(){function e(t,n){if((0,s.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ni(ti.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ni(ti.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ni(ti.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ni(ti.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,c.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?vi(this.nanoseconds,e.nanoseconds):vi(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new e(n,r)}}]),e}(),mi=function(){function e(t){(0,s.Z)(this,e),this.timestamp=t}return(0,c.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gi(0,0))}},{key:"max",value:function(){return new e(new gi(253402300799,999999999))}}]),e}(),wi=function(){function e(t,n,r){(0,s.Z)(this,e),void 0===n?n=0:n>t.length&&$r(),void 0===r?r=t.length-n:r>t.length-n&&$r(),this.segments=t,this.offset=n,this.len=r}return(0,c.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ki=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ni(ti.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,g.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wi),bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xi=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return bi.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ni(ti.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ni(ti.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ni(ti.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ni(ti.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wi),_i=function(){function e(t){(0,s.Z)(this,e),this.path=t}return(0,c.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ki.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ki.fromString(t))}},{key:"fromName",value:function(t){return new e(ki.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ki.emptyPath())}},{key:"comparator",value:function(e,t){return ki.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ki(t.slice()))}}]),e}(),Ei=(0,c.Z)((function e(t,n,r,i){(0,s.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e){return e.fields.find((function(e){return 2===e.kind}))}function Si(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ei.UNKNOWN_ID=-1;var Ti=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.fieldPath=t,this.kind=n}));var Ai=function(){function e(t,n){(0,s.Z)(this,e),this.sequenceNumber=t,this.offset=n}return(0,c.Z)(e,null,[{key:"empty",value:function(){return new e(0,Zi.min())}}]),e}();function Ri(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=mi.fromTimestamp(1e9===r?new gi(n+1,0):new gi(n,r));return new Zi(i,_i.empty(),t)}function Ci(e){return new Zi(e.readTime,e.key,-1)}var Zi=function(){function e(t,n,r){(0,s.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,c.Z)(e,null,[{key:"min",value:function(){return new e(mi.min(),_i.empty(),-1)}},{key:"max",value:function(){return new e(mi.max(),_i.empty(),-1)}}]),e}();function Di(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=_i.comparator(e.documentKey,t.documentKey),0!==n?n:vi(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ni=function(){function e(){(0,s.Z)(this,e),this.onCommittedListeners=[]}return(0,c.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mi(e){return Li.apply(this,arguments)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return Li=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.code===ti.FAILED_PRECONDITION&&t.message===Oi){e.next=2;break}throw t;case 2:Wr("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}var Pi=function(){function e(t){var n=this;(0,s.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,c.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&$r(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,o.Z)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o,o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){var i=function i(){!0===t()?n().next((function(){i()}),r):e()};i()}))}}]),e}(),Fi=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new ri,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Ui(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=zi(e.target.error);r.P.reject(new Ui(t,n))}}return(0,c.Z)(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Wr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new qi(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ui(n,t)}}}]),e}(),Vi=function(){function e(t,n,r){(0,s.Z)(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D((0,b.z$)())&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,c.Z)(e,[{key:"F",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Wr("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ui(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ni(ti.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ni(ti.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ui(t,n))},i.onupgradeneeded=function(e){Wr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Wr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,s,c,l,f=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.F(t);case 2:return f.db=e.sent,n=Fi.open(f.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e}))["catch"]((function(e){return n.abort(e),Pi.reject(e)})).toPromise(),o["catch"]((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if(s=e.t0,"object"!==(0,u.Z)(s)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e["catch"](3),c=e.t1,l="FirebaseError"!==c.name&&o<3,Wr("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),l){e.next=15;break}return e.abrupt("return",Promise.reject(c));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Wr("SimpleDb","Removing database:",e),Gi(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!(0,b.hl)())return!1;if(e.N())return!0;var t=(0,b.z$)(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",BASE_URL:"/"})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ji=function(){function e(t){(0,s.Z)(this,e),this.q=t,this.U=!1,this.K=null}return(0,c.Z)(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Gi(this.q["delete"]())}}]),e}(),Ui=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,ti.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r)),i.name="IndexedDbTransactionError",i}return(0,c.Z)(n)}(ni);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e){return"IndexedDbTransactionError"===e.name}var qi=function(){function e(t){(0,s.Z)(this,e),this.store=t}return(0,c.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Wr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Wr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gi(n)}},{key:"add",value:function(e){return Wr("SimpleDb","ADD",this.store.name,e,e),Gi(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Gi(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Wr("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Wr("SimpleDb","DELETE",this.store.name,e),Gi(this.store["delete"](e))}},{key:"count",value:function(){return Wr("SimpleDb","COUNT",this.store.name),Gi(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Pi((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Pi((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Wr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n["delete"]()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Pi((function(n,r){t.onerror=function(e){var t=zi(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r["continue"]():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Pi((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ji(i),o=t(i.primaryKey,i.value,a);if(o instanceof Pi){var u=o["catch"]((function(e){return a.done(),Pi.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i["continue"]():i["continue"](a.G)}else r()}})).next((function(){return Pi.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Gi(e){return new Pi((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=zi(e.target.error);n(t)}}))}var Ki=!1;function zi(e){var t=Vi.D((0,b.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ni("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ki||(Ki=!0,setTimeout((function(){throw r}),0)),r}}return e}var Wi=function(){function e(t,n){(0,s.Z)(this,e),this.asyncQueue=t,this.et=n,this.task=null}return(0,c.Z)(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Wr("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Wr,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e["catch"](1),!Bi(e.t4)){e.next=17;break}Wr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Mi(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Hi=function(){function e(t,n){(0,s.Z)(this,e),this.localStore=t,this.persistence=n}return(0,c.Z)(e,[{key:"st",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t,n=this,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Pi.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Wr("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Wr("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Ci(t);Di(r,n)>0&&(n=r)})),new Zi(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Qi=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return(0,c.Z)(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Qi.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yi=(0,c.Z)((function e(t,n,r,i,a,o,u,c){(0,s.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=c})),$i=function(){function e(t,n){(0,s.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,c.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ji(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ea(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(e){return null==e}function na(e){return 0===e&&1/e==-1/0}function ra(e){return"number"==typeof e&&Number.isInteger(e)&&!na(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa=function(e){function t(e){(0,s.Z)(this,t),this.binaryString=e}return(0,c.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return vi(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=atob(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);aa.EMPTY_BYTE_STRING=new aa("");var oa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(e){if(Jr(!!e),"string"==typeof e){var t=0,n=oa.exec(e);if(Jr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sa(e.seconds),nanos:sa(e.nanos)}}function sa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ca(e){return"string"==typeof e?aa.fromBase64String(e):aa.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fa(e){var t=e.mapValue.fields.__previous_value__;return la(t)?fa(t):t}function ha(e){var t=ua(e.mapValue.fields.__local_write_time__.timestampValue);return new gi(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var da={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},va={nullValue:"NULL_VALUE"};function pa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?la(e)?4:Ra(e)?9007199254740991:10:$r()}function ya(e,t){if(e===t)return!0;var n=pa(e);if(n!==pa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ha(e).isEqual(ha(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ua(e.timestampValue),r=ua(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ca(e.bytesValue).isEqual(ca(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sa(e.geoPointValue.latitude)===sa(t.geoPointValue.latitude)&&sa(e.geoPointValue.longitude)===sa(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sa(e.integerValue)===sa(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=sa(e.doubleValue),r=sa(t.doubleValue);return n===r?na(n)===na(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pi(e.arrayValue.values||[],t.arrayValue.values||[],ya);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ji(n)!==Ji(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ya(n[i],r[i])))return!1;return!0}(e,t);default:return $r()}}function ga(e,t){return void 0!==(e.values||[]).find((function(e){return ya(e,t)}))}function ma(e,t){if(e===t)return 0;var n=pa(e),r=pa(t);if(n!==r)return vi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vi(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=sa(e.integerValue||e.doubleValue),r=sa(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return wa(e.timestampValue,t.timestampValue);case 4:return wa(ha(e),ha(t));case 5:return vi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ca(e),r=ca(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=vi(n[i],r[i]);if(0!==a)return a}return vi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=vi(sa(e.latitude),sa(t.latitude));return 0!==n?n:vi(sa(e.longitude),sa(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ma(n[i],r[i]);if(a)return a}return vi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===da.mapValue&&t===da.mapValue)return 0;if(e===da.mapValue)return 1;if(t===da.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=vi(r[o],a[o]);if(0!==u)return u;var s=ma(n[r[o]],i[a[o]]);if(0!==s)return s}return vi(r.length,a.length)}(e.mapValue,t.mapValue);default:throw $r()}}function wa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vi(e,t);var n=ua(e),r=ua(t),i=vi(n.seconds,r.seconds);return 0!==i?i:vi(n.nanos,r.nanos)}function ka(e){return ba(e)}function ba(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ua(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ca(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_i.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,o.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ba(a)}}catch(u){i.e(u)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,o.Z)(n);try{for(a.s();!(t=a.n()).done;){var u=t.value;i?i=!1:r+=",",r+="".concat(u,":").concat(ba(e.fields[u]))}}catch(s){a.e(s)}finally{a.f()}return r+"}"}(e.mapValue):$r();var t,n}function xa(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function _a(e){return!!e&&"integerValue"in e}function Ea(e){return!!e&&"arrayValue"in e}function Ia(e){return!!e&&"nullValue"in e}function Sa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ta(e){return!!e&&"mapValue"in e}function Aa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==(0,u.Z)(e.timestampValue))return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Xi(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Aa(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Aa(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ra(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ca(e){return"nullValue"in e?va:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?xa($i.empty(),_i.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:$r()}function Za(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?xa($i.empty(),_i.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?da:$r()}function Da(e,t){var n=ma(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Oa(e,t){var n=ma(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.position=t,this.inclusive=n}));function Ma(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_i.comparator(_i.fromName(o.referenceValue),n.key):ma(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function La(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ya(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pa=(0,c.Z)((function e(){(0,s.Z)(this,e)})),Fa=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.field=e,a.op=r,a.value=i,a}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ma(t,this.value)):null!==t&&pa(this.value)===pa(t)&&this.matchesComparison(ma(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $r()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ha(e,t,r):"array-contains"===t?new Ja(e,r):"in"===t?new Xa(e,r):"not-in"===t?new eo(e,r):"array-contains-any"===t?new to(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Qa(e,n):new Ya(e,n)}}]),n}(Pa),Va=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.filters=e,i.op=r,i.ht=null,i}return(0,c.Z)(n,[{key:"matches",value:function(e){return ja(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=(0,o.Z)(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Pa);function ja(e){return"and"===e.op}function Ua(e){return"or"===e.op}function Ba(e){return qa(e)&&ja(e)}function qa(e){var t,n=(0,o.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof Va)return!1}}catch(i){n.e(i)}finally{n.f()}return!0}function Ga(e){if(e instanceof Fa)return e.field.canonicalString()+e.op.toString()+ka(e.value);if(Ba(e))return e.filters.map((function(e){return Ga(e)})).join(",");var t=e.filters.map((function(e){return Ga(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ka(e,t){return e instanceof Fa?function(e,t){return t instanceof Fa&&e.op===t.op&&e.field.isEqual(t.field)&&ya(e.value,t.value)}(e,t):e instanceof Va?function(e,t){return t instanceof Va&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ka(n,t.filters[r])}),!0)}(e,t):void $r()}function za(e,t){var n=e.filters.concat(t);return Va.create(n,e.op)}function Wa(e){return e instanceof Fa?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ka(e.value))}(e):e instanceof Va?function(e){return e.op.toString()+" {"+e.getFilters().map(Wa).join(" ,")+"}"}(e):"Filter"}var Ha=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this,e,r,i),a.key=_i.fromName(i.referenceValue),a}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=_i.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Fa),Qa=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,"in",r),i.keys=$a("in",r),i}return(0,c.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Fa),Ya=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,"not-in",r),i.keys=$a("not-in",r),i}return(0,c.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Fa);function $a(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _i.fromName(e.referenceValue)}))}var Ja=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ea(t)&&ga(t.arrayValue,this.value)}}]),n}(Fa),Xa=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,"in",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ga(this.value.arrayValue,t)}}]),n}(Fa),eo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,"not-in",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){if(ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ga(this.value.arrayValue,t)}}]),n}(Fa),to=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ea(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ga(t.value.arrayValue,e)}))}}]),n}(Fa),no=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,s.Z)(this,e),this.field=t,this.dir=n}));function ro(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io=function(){function e(t,n){(0,s.Z)(this,e),this.comparator=t,this.root=n||oo.EMPTY}return(0,c.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,oo.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,oo.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ao(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ao(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ao(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ao(this.root,e,this.comparator,!0)}}]),e}(),ao=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,c.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),oo=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,c.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw $r();if(this.right.isRed())throw $r();var e=this.left.check();if(e!==this.right.check())throw $r();return e+(this.isRed()?0:1)}}]),e}();oo.EMPTY=null,oo.RED=!0,oo.BLACK=!1,oo.EMPTY=new(function(){function e(){(0,s.Z)(this,e),this.size=0}return(0,c.Z)(e,[{key:"key",get:function(){throw $r()}},{key:"value",get:function(){throw $r()}},{key:"color",get:function(){throw $r()}},{key:"left",get:function(){throw $r()}},{key:"right",get:function(){throw $r()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new oo(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var uo=function(){function e(t){(0,s.Z)(this,e),this.comparator=t,this.data=new io(this.comparator)}return(0,c.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new so(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new so(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),so=function(){function e(t){(0,s.Z)(this,e),this.iter=t}return(0,c.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function co(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo=function(){function e(t){(0,s.Z)(this,e),this.fields=t,t.sort(xi.comparator)}return(0,c.Z)(e,[{key:"unionWith",value:function(t){var n,r=new uo(xi.comparator),i=(0,o.Z)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var u,s=(0,o.Z)(t);try{for(s.s();!(u=s.n()).done;){var c=u.value;r=r.add(c)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,o.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isPrefixOf(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return pi(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),fo=function(){function e(t){(0,s.Z)(this,e),this.value=t}return(0,c.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ta(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Aa(t)}},{key:"setAll",value:function(e){var t=this,n=xi.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Aa(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ta(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ya(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ta(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Xi(t,(function(t,n){return e[t]=n}));var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(u){i.e(u)}finally{i.f()}}},{key:"clone",value:function(){return new e(Aa(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e){var t=[];return Xi(e.fields,(function(e,n){var r=new xi([e]);if(Ta(n)){var i=ho(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,u=(0,o.Z)(i);try{for(u.s();!(a=u.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){u.e(c)}finally{u.f()}}}else t.push(r)})),new lo(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var vo=function(){function e(t,n,r,i,a,o,u){(0,s.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return(0,c.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(mi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=mi.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,mi.min(),mi.min(),mi.min(),fo.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,mi.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,mi.min(),mi.min(),fo.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,mi.min(),mi.min(),fo.empty(),2)}}]),e}(),po=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,s.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new po(e,t,n,r,i,a,o)}function go(e){var t=ei(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Ga(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ta(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ka(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ka(e)})).join(",")),t.ft=n}return t.ft}function mo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ro(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ka(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!La(e.startAt,t.startAt)&&La(e.endAt,t.endAt)}function wo(e){return _i.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ko(e,t){return e.filters.filter((function(e){return e instanceof Fa&&e.field.isEqual(t)}))}function bo(e,t,n){var r,i=va,a=!0,u=(0,o.Z)(ko(e,t));try{for(u.s();!(r=u.n()).done;){var s=r.value,c=va,l=!0;switch(s.op){case"<":case"<=":c=Ca(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,l=!1;break;case"!=":case"not-in":c=va}Da({value:i,inclusive:a},{value:c,inclusive:l})<0&&(i=c,a=l)}}catch(d){u.e(d)}finally{u.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];Da({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function xo(e,t,n){var r,i=da,a=!0,u=(0,o.Z)(ko(e,t));try{for(u.s();!(r=u.n()).done;){var s=r.value,c=da,l=!0;switch(s.op){case">=":case">":c=Za(s.value),l=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,l=!1;break;case"!=":case"not-in":c=da}Oa({value:i,inclusive:a},{value:c,inclusive:l})>0&&(i=c,a=l)}}catch(d){u.e(d)}finally{u.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];Oa({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,s.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=c,this.dt=null,this._t=null,this.startAt,this.endAt}));function Eo(e,t,n,r,i,a,o,u){return new _o(e,t,n,r,i,a,o,u)}function Io(e){return new _o(e)}function So(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function To(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ao(e){var t,n=(0,o.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.getFirstInequalityField();if(null!==i)return i}}catch(a){n.e(a)}finally{n.f()}return null}function Ro(e){return null!==e.collectionGroup}function Co(e){var t=ei(e);if(null===t.dt){t.dt=[];var n=Ao(t),r=To(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new no(n)),t.dt.push(new no(xi.keyField(),"asc"));else{var i,a=!1,u=(0,o.Z)(t.explicitOrderBy);try{for(u.s();!(i=u.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){u.e(l)}finally{u.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new no(xi.keyField(),c))}}}return t.dt}function Zo(e){var t=ei(e);if(!t._t)if("F"===t.limitType)t._t=yo(t.path,t.collectionGroup,Co(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,o.Z)(Co(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,u="desc"===a.dir?"asc":"desc";r.push(new no(a.field,u))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new Na(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new Na(t.startAt.position,t.startAt.inclusive):null;t._t=yo(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t._t}function Do(e,t){t.getFirstInequalityField(),Ao(e);var n=e.filters.concat([t]);return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Oo(e,t,n){return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function No(e,t){return mo(Zo(e),Zo(t))&&e.limitType===t.limitType}function Mo(e){return"".concat(go(Zo(e)),"|lt:").concat(e.limitType)}function Lo(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Wa(e)})).join(", "),"]")),ta(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ka(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ka(e)})).join(",")),"Target(".concat(t,")")}(Zo(e)),"; limitType=").concat(e.limitType,")")}function Po(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_i.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,o.Z)(Co(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,o.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ma(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Co(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ma(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Co(e),t))}(e,t)}function Fo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Vo(e){return function(t,n){var r,i=!1,a=(0,o.Z)(Co(e));try{for(a.s();!(r=a.n()).done;){var u=r.value,s=jo(u,t,n);if(0!==s)return s;i=i||u.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function jo(e,t,n){var r=e.field.isKeyField()?_i.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ma(r,i):$r()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $r()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:na(t)?"-0":t}}function Bo(e){return{integerValue:""+e}}function qo(e,t){return ra(t)?Bo(t):Uo(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=(0,c.Z)((function e(){(0,s.Z)(this,e),this._=void 0}));function Ko(e,t,n){return e instanceof Ho?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qo?Yo(e,t):e instanceof $o?Jo(e,t):function(e,t){var n=Wo(e,t),r=eu(n)+eu(e.gt);return _a(n)&&_a(e.gt)?Bo(r):Uo(e.yt,r)}(e,t)}function zo(e,t,n){return e instanceof Qo?Yo(e,t):e instanceof $o?Jo(e,t):n}function Wo(e,t){return e instanceof Xo?_a(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ho=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(Go),Qo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.elements=e,r}return(0,c.Z)(n)}(Go);function Yo(e,t){var n,r=tu(t),i=(0,o.Z)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ya(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return{arrayValue:{values:r}}}var $o=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.elements=e,r}return(0,c.Z)(n)}(Go);function Jo(e,t){var n,r=tu(t),i=(0,o.Z)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ya(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return{arrayValue:{values:r}}}var Xo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.yt=e,i.gt=r,i}return(0,c.Z)(n)}(Go);function eu(e){return sa(e.integerValue||e.doubleValue)}function tu(e){return Ea(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nu=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.field=t,this.transform=n}));function ru(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qo&&t instanceof Qo||e instanceof $o&&t instanceof $o?pi(e.elements,t.elements,ya):e instanceof Xo&&t instanceof Xo?ya(e.gt,t.gt):e instanceof Ho&&t instanceof Ho}(e.transform,t.transform)}var iu=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.version=t,this.transformResults=n})),au=function(){function e(t,n){(0,s.Z)(this,e),this.updateTime=t,this.exists=n}return(0,c.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ou(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var uu=(0,c.Z)((function e(){(0,s.Z)(this,e)}));function su(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ku(e.key,au.none()):new du(e.key,e.data,au.none());var n,r=e.data,i=fo.empty(),a=new uo(xi.comparator),u=(0,o.Z)(t.fields);try{for(u.s();!(n=u.n()).done;){var s=n.value;if(!a.has(s)){var c=r.field(s);null===c&&s.length>1&&(s=s.popLast(),c=r.field(s)),null===c?i["delete"](s):i.set(s,c),a=a.add(s)}}}catch(l){u.e(l)}finally{u.f()}return new vu(e.key,i,new lo(a.toArray()),au.none())}function cu(e,t,n){e instanceof du?function(e,t,n){var r=e.value.clone(),i=yu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vu?function(e,t,n){if(ou(e.precondition,t)){var r=yu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lu(e,t,n,r){return e instanceof du?function(e,t,n,r){if(!ou(e.precondition,t))return n;var i=e.value.clone(),a=gu(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vu?function(e,t,n,r){if(!ou(e.precondition,t))return n;var i=gu(e.fieldTransforms,r,t),a=t.data;return a.setAll(pu(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ou(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function fu(e,t){var n,r=null,i=(0,o.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.data.field(a.field),s=Wo(a.transform,u||null);null!=s&&(null===r&&(r=fo.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function hu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pi(e,t,(function(e,t){return ru(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var du=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,s.Z)(this,n),a=t.call(this),a.key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(uu),vu=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,s.Z)(this,n),o=t.call(this),o.key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(uu);function pu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function yu(e,t,n){var r=new Map;Jr(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,zo(o,u,n[i]))}return r}function gu(e,t,n){var r,i=new Map,a=(0,o.Z)(e);try{for(a.s();!(r=a.n()).done;){var u=r.value,s=u.transform,c=n.data.field(u.field);i.set(u.field,Ko(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var mu,wu,ku=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(uu),bu=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(uu),xu=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.count=t}));function _u(e){switch(e){default:return $r();case ti.CANCELLED:case ti.UNKNOWN:case ti.DEADLINE_EXCEEDED:case ti.RESOURCE_EXHAUSTED:case ti.INTERNAL:case ti.UNAVAILABLE:case ti.UNAUTHENTICATED:return!1;case ti.INVALID_ARGUMENT:case ti.NOT_FOUND:case ti.ALREADY_EXISTS:case ti.PERMISSION_DENIED:case ti.FAILED_PRECONDITION:case ti.ABORTED:case ti.OUT_OF_RANGE:case ti.UNIMPLEMENTED:case ti.DATA_LOSS:return!0}}function Eu(e){if(void 0===e)return Hr("GRPC error has no .code"),ti.UNKNOWN;switch(e){case mu.OK:return ti.OK;case mu.CANCELLED:return ti.CANCELLED;case mu.UNKNOWN:return ti.UNKNOWN;case mu.DEADLINE_EXCEEDED:return ti.DEADLINE_EXCEEDED;case mu.RESOURCE_EXHAUSTED:return ti.RESOURCE_EXHAUSTED;case mu.INTERNAL:return ti.INTERNAL;case mu.UNAVAILABLE:return ti.UNAVAILABLE;case mu.UNAUTHENTICATED:return ti.UNAUTHENTICATED;case mu.INVALID_ARGUMENT:return ti.INVALID_ARGUMENT;case mu.NOT_FOUND:return ti.NOT_FOUND;case mu.ALREADY_EXISTS:return ti.ALREADY_EXISTS;case mu.PERMISSION_DENIED:return ti.PERMISSION_DENIED;case mu.FAILED_PRECONDITION:return ti.FAILED_PRECONDITION;case mu.ABORTED:return ti.ABORTED;case mu.OUT_OF_RANGE:return ti.OUT_OF_RANGE;case mu.UNIMPLEMENTED:return ti.UNIMPLEMENTED;case mu.DATA_LOSS:return ti.DATA_LOSS;default:return $r()}}(wu=mu||(mu={}))[wu.OK=0]="OK",wu[wu.CANCELLED=1]="CANCELLED",wu[wu.UNKNOWN=2]="UNKNOWN",wu[wu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wu[wu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wu[wu.NOT_FOUND=5]="NOT_FOUND",wu[wu.ALREADY_EXISTS=6]="ALREADY_EXISTS",wu[wu.PERMISSION_DENIED=7]="PERMISSION_DENIED",wu[wu.UNAUTHENTICATED=16]="UNAUTHENTICATED",wu[wu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wu[wu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wu[wu.ABORTED=10]="ABORTED",wu[wu.OUT_OF_RANGE=11]="OUT_OF_RANGE",wu[wu.UNIMPLEMENTED=12]="UNIMPLEMENTED",wu[wu.INTERNAL=13]="INTERNAL",wu[wu.UNAVAILABLE=14]="UNAVAILABLE",wu[wu.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Iu=function(){function e(t,n){(0,s.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,p.Z)(r.value,2),u=a[0],s=a[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Xi(this.inner,(function(t,n){var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,p.Z)(r.value,2),u=a[0],s=a[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ea(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Su=new io(_i.comparator);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(){return Su}var Au=new io(_i.comparator);function Ru(){for(var e=Au,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Cu(e){var t=Au;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Zu(){return Ou()}function Du(){return Ou()}function Ou(){return new Iu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Nu=new io(_i.comparator),Mu=new uo(_i.comparator);function Lu(){for(var e=Mu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Pu=new uo(vi);function Fu(){return Pu}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vu=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,c.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,ju.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(mi.min(),i,Fu(),Tu(),Lu())}}]),e}(),ju=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,c.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Lu(),Lu(),Lu())}}]),e}(),Uu=(0,c.Z)((function e(t,n,r,i){(0,s.Z)(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Bu=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.targetId=t,this.Et=n})),qu=(0,c.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aa.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,s.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gu=function(){function e(){(0,s.Z)(this,e),this.At=0,this.Rt=Wu(),this.bt=aa.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return(0,c.Z)(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Lu(),t=Lu(),n=Lu();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$r()}})),new ju(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Wu()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Ku=function(){function e(t){(0,s.Z)(this,e),this.$t=t,this.Bt=new Map,this.Lt=Tu(),this.qt=zu(),this.Ut=new uo(vi)}return(0,c.Z)(e,[{key:"Kt",value:function(e){var t,n=(0,o.Z)(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=(0,o.Z)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var u=i.value;this.Qt(u,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:$r()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(wo(i))if(0===n){var a=new _i(i.path);this.Qt(t,a,vo.newNoDocument(a,mi.min()))}else Jr(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&wo(a.target)){var o=new _i(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,vo.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Lu();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Vu(e,n,this.Ut,this.Lt,r);return this.Lt=Tu(),this.qt=zu(),this.Ut=new uo(vi),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t)["delete"](e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt["delete"](e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Gu,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new uo(vi),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Wr("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Gu),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function zu(){return new io(_i.comparator)}function Wu(){return new io(_i.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hu=function(){var e={asc:"ASCENDING",desc:"DESCENDING"};return e}(),Qu=function(){var e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e}(),Yu=function(){var e={and:"AND",or:"OR"};return e}(),$u=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.databaseId=t,this.wt=n}));function Ju(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xu(e,t){return e.wt?t.toBase64():t.toUint8Array()}function es(e,t){return Ju(e,t.toTimestamp())}function ts(e){return Jr(!!e),mi.fromTimestamp(function(e){var t=ua(e);return new gi(t.seconds,t.nanos)}(e))}function ns(e,t){return function(e){return new ki(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function rs(e){var t=ki.fromString(e);return Jr(Rs(t)),t}function is(e,t){return ns(e.databaseId,t.path)}function as(e,t){var n=rs(t);if(n.get(1)!==e.databaseId.projectId)throw new ni(ti.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ni(ti.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _i(cs(n))}function os(e,t){return ns(e.databaseId,t)}function us(e){var t=rs(e);return 4===t.length?ki.emptyPath():cs(t)}function ss(e){return new ki(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cs(e){return Jr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ls(e,t,n){return{name:is(e,t),fields:n.value.mapValue.fields}}function fs(e,t,n){var r=as(e,t.name),i=ts(t.updateTime),a=t.createTime?ts(t.createTime):mi.min(),o=new fo({mapValue:{fields:t.fields}}),u=vo.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function hs(e,t){return"found"in t?function(e,t){Jr(!!t.found),t.found.name,t.found.updateTime;var n=as(e,t.found.name),r=ts(t.found.updateTime),i=t.found.createTime?ts(t.found.createTime):mi.min(),a=new fo({mapValue:{fields:t.found.fields}});return vo.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Jr(!!t.missing),Jr(!!t.readTime);var n=as(e,t.missing),r=ts(t.readTime);return vo.newNoDocument(n,r)}(e,t):$r()}function ds(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:$r()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Jr(void 0===t||"string"==typeof t),aa.fromBase64String(t||"")):(Jr(void 0===t||t instanceof Uint8Array),aa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ti.UNKNOWN:Eu(e.code);return new ni(t,e.message||"")}(o);n=new qu(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=as(e,s.document.name),l=ts(s.document.updateTime),f=s.document.createTime?ts(s.document.createTime):mi.min(),h=new fo({mapValue:{fields:s.document.fields}}),d=vo.newFoundDocument(c,l,f,h),v=s.targetIds||[],p=s.removedTargetIds||[];n=new Uu(v,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var g=as(e,y.document),m=y.readTime?ts(y.readTime):mi.min(),w=vo.newNoDocument(g,m),k=y.removedTargetIds||[];n=new Uu([],k,w.key,w)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var x=as(e,b.document),_=b.removedTargetIds||[];n=new Uu([],_,x,null)}else{if(!("filter"in t))return $r();t.filter;var E=t.filter;E.targetId;var I=E.count||0,S=new xu(I),T=E.targetId;n=new Bu(T,S)}return n}function vs(e,t){var n;if(t instanceof du)n={update:ls(e,t.key,t.value)};else if(t instanceof ku)n={delete:is(e,t.key)};else if(t instanceof vu)n={update:ls(e,t.key,t.data),updateMask:As(t.fieldMask)};else{if(!(t instanceof bu))return $r();n={verify:is(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ho)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $o)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xo)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw $r()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:es(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$r()}(e,t.precondition)),n}function ps(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?au.updateTime(ts(e.updateTime)):void 0!==e.exists?au.exists(e.exists):au.none()}(t.currentDocument):au.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Jr("REQUEST_TIME"===t.setToServerValue),n=new Ho;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Qo(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $o(i)}else"increment"in t?n=new Xo(e,t.increment):$r();var a=xi.fromServerFormat(t.fieldPath);return new nu(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=as(e,t.update.name),a=new fo({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new lo(t.map((function(e){return xi.fromServerFormat(e)})))}(t.updateMask);return new vu(i,a,o,n,r)}return new du(i,a,n,r)}if(t["delete"]){var u=as(e,t["delete"]);return new ku(u,n)}if(t.verify){var s=as(e,t.verify);return new bu(s,n)}return $r()}function ys(e,t){return e&&e.length>0?(Jr(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ts(e.updateTime):ts(t);return n.isEqual(mi.min())&&(n=ts(t)),new iu(n,e.transformResults||[])}(e,t)}))):[]}function gs(e,t){return{documents:[os(e,t.path)]}}function ms(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=os(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=os(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Ts(Va.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Is(e.field),direction:xs(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||ta(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ws(e){var t=us(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Jr(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=bs(e);return t instanceof Va&&Ba(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new no(Ss(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;n.limit&&(c=function(e){var t;return t="object"==(0,u.Z)(e)?e.value:e,ta(t)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Na(n,t)}(n.startAt));var f=null;return n.endAt&&(f=function(e){var t=!e.before,n=e.values||[];return new Na(n,t)}(n.endAt)),Eo(t,i,s,o,c,"F",l,f)}function ks(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $r()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function bs(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ss(e.unaryFilter.field);return Fa.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ss(e.unaryFilter.field);return Fa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ss(e.unaryFilter.field);return Fa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ss(e.unaryFilter.field);return Fa.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $r()}}(e):void 0!==e.fieldFilter?function(e){return Fa.create(Ss(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $r()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Va.create(e.compositeFilter.filters.map((function(e){return bs(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return $r()}}(e.compositeFilter.op))}(e):$r()}function xs(e){return Hu[e]}function _s(e){return Qu[e]}function Es(e){return Yu[e]}function Is(e){return{fieldPath:e.canonicalString()}}function Ss(e){return xi.fromServerFormat(e.fieldPath)}function Ts(e){return e instanceof Fa?function(e){if("=="===e.op){if(Sa(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NAN"}};if(Ia(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sa(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NOT_NAN"}};if(Ia(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(e.field),op:_s(e.op),value:e.value}}}(e):e instanceof Va?function(e){var t=e.getFilters().map((function(e){return Ts(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Es(e.op),filters:t}}}(e):$r()}function As(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rs(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ds(t)),t=Zs(e.get(n),t);return Ds(t)}function Zs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function Ds(e){return e+""}function Os(e){var t=e.length;if(Jr(t>=2),2===t)return Jr(""===e.charAt(0)&&""===e.charAt(1)),ki.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("",a);switch((o<0||o>n)&&$r(),e.charAt(o+1)){case"":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(i+=u,s=i,i=""),r.push(s);break;case"":i+=e.substring(a,o),i+="\0";break;case"":i+=e.substring(a,o+1);break;default:$r()}a=o+2}return new ki(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e,t){return[e,Cs(t)]}function Ls(e,t,n){return[e,Cs(t),n]}var Ps={},Fs=["prefixPath","collectionGroup","readTime","documentId"],Vs=["prefixPath","collectionGroup","documentId"],js=["collectionGroup","readTime","prefixPath","documentId"],Us=["canonicalId","targetId"],Bs=["targetId","path"],qs=["path","targetId"],Gs=["collectionId","parent"],Ks=["indexId","uid"],zs=["uid","sequenceNumber"],Ws=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hs=["indexId","uid","orderedDocumentKey"],Qs=["userId","collectionPath","documentId"],Ys=["userId","collectionPath","largestBatchId"],$s=["userId","collectionGroup","largestBatchId"],Js=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Xs=[].concat((0,g.Z)(Js),["documentOverlays"]),ec=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tc=ec,nc=[].concat(tc,["indexConfiguration","indexState","indexEntries"]),rc=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.se=e,i.currentSequenceNumber=r,i}return(0,c.Z)(n)}(Ni);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(e,t){var n=ei(e);return Vi.M(n.se,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,c.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&cu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,o.Z)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=lu(i,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var a,u=(0,o.Z)(this.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime))}}catch(c){u.e(c)}finally{u.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Du();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields);u=t.has(i.key)?null:u;var s=su(o,u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(mi.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Lu())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&pi(this.mutations,e.mutations,(function(e,t){return hu(e,t)}))&&pi(this.baseMutations,e.baseMutations,(function(e,t){return hu(e,t)}))}}]),e}(),oc=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,c.Z)(e,null,[{key:"from",value:function(t,n,r){Jr(t.mutations.length===r.length);for(var i=Nu,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),uc=function(){function e(t,n){(0,s.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,c.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),sc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mi.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mi.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:aa.EMPTY_BYTE_STRING;(0,s.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,c.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),cc=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.ie=t}));function lc(e,t){var n;if(t.document)n=fs(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_i.fromSegments(t.noDocument.path),i=vc(t.noDocument.readTime);n=vo.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return $r();var a=_i.fromSegments(t.unknownDocument.path),o=vc(t.unknownDocument.version);n=vo.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new gi(e[0],e[1]);return mi.fromTimestamp(t)}(t.readTime)),n}function fc(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hc(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:is(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ju(e,t.version.toTimestamp()),createTime:Ju(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:dc(t.version)};else{if(!t.isUnknownDocument())return $r();r.unknownDocument={path:n.path.toArray(),version:dc(t.version)}}return r}function hc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function dc(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function vc(e){var t=new gi(e.seconds,e.nanoseconds);return mi.fromTimestamp(t)}function pc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ps(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return ps(e.ie,t)})),u=gi.fromMillis(t.localWriteTimeMs);return new ac(t.batchId,u,n,o)}function yc(e){var t,n,r=vc(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?vc(e.lastLimboFreeSnapshotVersion):mi.min();return void 0!==e.query.documents?(Jr(1===(n=e.query).documents.length),t=Zo(Io(us(n.documents[0])))):t=function(e){return Zo(ws(e))}(e.query),new sc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,aa.fromBase64String(e.resumeToken))}function gc(e,t){var n,r=dc(t.snapshotVersion),i=dc(t.lastLimboFreeSnapshotVersion);n=wo(t.target)?gs(e.ie,t.target):ms(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:go(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function mc(e){var t=ws({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Oo(t,t.limit,"L"):t}function wc(e,t){return new uc(t.largestBatchId,ps(e.ie,t.overlayMutation))}function kc(e,t){var n=t.path.lastSegment();return[e,Cs(t.path.popLast()),n]}function bc(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:dc(r.readTime),documentKey:Cs(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return _c(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:vc(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return _c(e).put({bundleId:(n=t).id,createTime:dc(ts(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ec(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:mc(t.bundledQuery),readTime:vc(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ec(e).put(function(e){return{name:e.name,readTime:dc(ts(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function _c(e){return ic(e,"bundles")}function Ec(e){return ic(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ic=function(){function e(t,n){(0,s.Z)(this,e),this.yt=t,this.userId=n}return(0,c.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Sc(e).get(kc(this.userId,t)).next((function(e){return e?wc(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Zu();return Pi.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new uc(t,a);i.push(r.oe(e,o))})),Pi.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Cs(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Sc(e).Y("collectionPathOverlayIndex",i))})),Pi.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Zu(),a=Cs(t),u=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sc(e).W("collectionPathOverlayIndex",u).next((function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,u=wc(r.yt,a);i.set(u.getKey(),u)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Zu(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sc(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=wc(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return Sc(e).put(function(e,t,n){var r=kc(t,n.mutation.key),i=(0,p.Z)(r,3),a=(i[0],i[1]),o=i[2];return{userId:t,collectionPath:a,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:vs(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){var r=n.uid||"";return new e(t,r)}}]),e}();function Sc(e){return ic(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tc=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(sa(e.integerValue));else if("doubleValue"in e){var n=sa(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),na(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ca(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Ra(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):$r()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(u){i.e(u)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),_i.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function Ac(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Rc(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ac(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Tc.Ie=new Tc;var Cc=function(){function e(){(0,s.Z)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,c.Z)(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(u){n.e(u)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(u){n.e(u)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=Rc(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=Rc(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Zc=function(){function e(t){(0,s.Z)(this,e),this.$e=t}return(0,c.Z)(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),Dc=function(){function e(t){(0,s.Z)(this,e),this.$e=t}return(0,c.Z)(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),Oc=function(){function e(){(0,s.Z)(this,e),this.$e=new Cc,this.Be=new Zc(this.$e),this.Le=new Dc(this.$e)}return(0,c.Z)(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),Nc=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,c.Z)(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Mc(e,t){var n=e.indexId-t.indexId;return 0!==n?n:(n=Lc(e.arrayValue,t.arrayValue),0!==n?n:(n=Lc(e.directionalValue,t.directionalValue),0!==n?n:_i.comparator(e.documentKey,t.documentKey)))}function Lc(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pc=function(){function e(t){(0,s.Z)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=(0,o.Z)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i;a.isInequality()?this.Qe=a:this.Ge.push(a)}}catch(u){r.e(u)}finally{r.f()}}return(0,c.Z)(e,[{key:"je",value:function(e){Jr(e.collectionGroup===this.collectionId);var t=Ii(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Si(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=(0,o.Z)(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(e){var t,n;if(Jr(e instanceof Fa||e instanceof Va),e instanceof Fa){if(e instanceof Xa){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Fa.create(e.field,"==",t)})))||[];return Va.create(r,"or")}return e}var i=e.filters.map((function(e){return Fc(e)}));return Va.create(i,e.op)}function Vc(e){if(0===e.getFilters().length)return[];var t=qc(Fc(e));return Jr(Bc(t)),jc(t)||Uc(t)?[t]:t.getFilters()}function jc(e){return e instanceof Fa}function Uc(e){return e instanceof Va&&Ba(e)}function Bc(e){return jc(e)||Uc(e)||function(e){if(e instanceof Va&&Ua(e)){var t,n=(0,o.Z)(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!jc(r)&&!Uc(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function qc(e){if(Jr(e instanceof Fa||e instanceof Va),e instanceof Fa)return e;if(1===e.filters.length)return qc(e.filters[0]);var t=e.filters.map((function(e){return qc(e)})),n=Va.create(t,e.op);return n=zc(n),Bc(n)?n:(Jr(n instanceof Va),Jr(ja(n)),Jr(n.filters.length>1),n.filters.reduce((function(e,t){return Gc(e,t)})))}function Gc(e,t){var n;return Jr(e instanceof Fa||e instanceof Va),Jr(t instanceof Fa||t instanceof Va),n=e instanceof Fa?t instanceof Fa?function(e,t){return Va.create([e,t],"and")}(e,t):Kc(e,t):t instanceof Fa?Kc(t,e):function(e,t){if(Jr(e.filters.length>0&&t.filters.length>0),ja(e)&&ja(t))return za(e,t.getFilters());var n=Ua(e)?e:t,r=Ua(e)?t:e,i=n.filters.map((function(e){return Gc(e,r)}));return Va.create(i,"or")}(e,t),zc(n)}function Kc(e,t){if(ja(t))return za(t,e.getFilters());var n=t.filters.map((function(t){return Gc(e,t)}));return Va.create(n,"or")}function zc(e){if(Jr(e instanceof Fa||e instanceof Va),e instanceof Fa)return e;var t=e.getFilters();if(1===t.length)return zc(t[0]);if(qa(e))return e;var n=t.map((function(e){return zc(e)})),r=[];return n.forEach((function(t){t instanceof Fa?r.push(t):t instanceof Va&&(t.op===e.op?r.push.apply(r,(0,g.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Va.create(r,e.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Wc=function(){function e(){(0,s.Z)(this,e),this.Je=new Hc}return(0,c.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),Pi.resolve()}},{key:"getCollectionParents",value:function(e,t){return Pi.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Pi.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Pi.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Pi.resolve(null)}},{key:"getIndexType",value:function(e,t){return Pi.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Pi.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Pi.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Pi.resolve(Zi.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Pi.resolve(Zi.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Pi.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Pi.resolve()}}]),e}(),Hc=function(){function e(){(0,s.Z)(this,e),this.index={}}return(0,c.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uo(ki.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new uo(ki.comparator)).toArray()}}]),e}(),Qc=new Uint8Array(0),Yc=function(){function e(t,n){(0,s.Z)(this,e),this.user=t,this.databaseId=n,this.Ye=new Hc,this.Xe=new Iu((function(e){return go(e)}),(function(e,t){return mo(e,t)})),this.uid=t.uid||""}return(0,c.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Cs(i)};return $c(e).put(a)}return Pi.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[yi(t),""],!1,!0);return $c(e).W(r).next((function(e){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Os(a.parent))}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Xc(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=el(e);return a.next((function(e){o.put(bc(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Xc(e),r=el(e),i=Jc(e);return n["delete"](t.indexId).next((function(){return r["delete"](IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i["delete"](IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Jc(e),i=!0,a=new Map;return Pi.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Lu(),u=[];return Pi.forEach(a,(function(i,a){var s;Wr("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(go(t)));var c=function(e,t){var n=Ii(t);if(void 0===n)return null;var r,i=(0,o.Z)(ko(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(u){i.e(u)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=(0,o.Z)(Si(t));try{for(i.s();!(n=i.n()).done;){var a,u=n.value,s=(0,o.Z)(ko(e,u.fieldPath));try{for(s.s();!(a=s.n()).done;){var c=a.value;switch(c.op){case"==":case"in":r.set(u.fieldPath.canonicalString(),c.value);break;case"not-in":case"!=":return r.set(u.fieldPath.canonicalString(),c.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),f=function(e,t){var n,r=[],i=!0,a=(0,o.Z)(Si(t));try{for(a.s();!(n=a.n()).done;){var u=n.value,s=0===u.kind?bo(e,u.fieldPath,e.startAt):xo(e,u.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new Na(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=(0,o.Z)(Si(t));try{for(a.s();!(n=a.n()).done;){var u=n.value,s=0===u.kind?xo(e,u.fieldPath,e.endAt):bo(e,u.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new Na(r,i)}(a,i),d=n.en(i,a,f),v=n.en(i,a,h),p=n.nn(i,a,l),y=n.sn(i.indexId,c,d,f.inclusive,v,h.inclusive,p);return Pi.forEach(y,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=_i.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),u.push(n))}))}))}))})).next((function(){return u}))}return Pi.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Vc(Va.create(e.filters,"and")).map((function(t){return yo(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.rn(t[s/c]):Qc,h=u.on(e,f,n[s%c],r),d=u.un(e,f,i[s%c],a),v=o.map((function(t){return u.on(e,f,t,!0)}));l.push.apply(l,(0,g.Z)(u.createRange(h,d,v)))},h=0;h<s;++h)f(h);return l}},{key:"on",value:function(e,t,n,r){var i=new Nc(e,_i.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new Nc(e,_i.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new Pc(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(u){i.e(u)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return Pi.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new uo(xi.comparator),r=!1,i=(0,o.Z)(e.filters);try{for(i.s();!(t=i.n()).done;){var a,u=t.value,s=(0,o.Z)(u.getFlattenedFilters());try{for(s.s();!(a=s.n()).done;){var c=a.value;c.field.isKeyField()||("array-contains"===c.op||"array-contains-any"===c.op?r=!0:n=n.add(c.field))}}catch(d){s.e(d)}finally{s.f()}}}catch(d){i.e(d)}finally{i.f()}var l,f=(0,o.Z)(e.orderBy);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.field.isKeyField()||(n=n.add(h.field))}}catch(d){f.e(d)}finally{f.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new Oc,i=(0,o.Z)(Si(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.data.field(a.fieldPath);if(null==u)return null;var s=r.qe(a.kind);Tc.Ie.ue(u,s)}}catch(c){i.e(c)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new Oc;return Tc.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new Oc;return Tc.Ie.ue(xa(this.databaseId,t),n.qe(function(e){var t=Si(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Oc);var i,a=0,u=(0,o.Z)(Si(e));try{for(u.s();!(i=u.n()).done;){var s,c=i.value,l=n[a++],f=(0,o.Z)(r);try{for(f.s();!(s=f.n()).done;){var h=s.value;if(this.hn(t,c.fieldPath)&&Ea(l))r=this.ln(r,c,l);else{var d=h.qe(c.kind);Tc.Ie.ue(l,d)}}}catch(v){f.e(v)}finally{f.f()}}}catch(v){u.e(v)}finally{u.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=(0,g.Z)(e),a=[],u=(0,o.Z)(n.arrayValue.values||[]);try{for(u.s();!(r=u.n()).done;){var s,c=r.value,l=(0,o.Z)(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new Oc;h.seed(f.Fe()),Tc.Ie.ue(c,h.qe(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Fa&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Xc(e),i=el(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Pi.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ai(t.sequenceNumber,new Zi(vc(t.readTime),new _i(Os(t.documentKey)),t.largestBatchId)):Ai.empty(),r=e.fields.map((function(e){var t=(0,p.Z)(e,2),n=t[0],r=t[1];return new Ti(xi.fromServerFormat(n),r)}));return new Ei(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:vi(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Xc(e),a=el(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Pi.forEach(t,(function(t){return a.put(bc(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Pi.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Pi.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Pi.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Pi.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return Jc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return Jc(e)["delete"]([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=Jc(e),i=new uo(Mc);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new Nc(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new uo(Mc),r=this.cn(t,e);if(null==r)return n;var i=Ii(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ea(a)){var u,s=(0,o.Z)(a.arrayValue.values||[]);try{for(s.s();!(u=s.n()).done;){var c=u.value;n=n.add(new Nc(t.indexId,e.key,this.rn(c),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new Nc(t.indexId,e.key,Qc,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Wr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=co(a),s=co(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=co(o)):l?(i(u),u=co(a)):(u=co(a),s=co(o))}}(r,i,Mc,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),Pi.waitFor(o)}},{key:"dn",value:function(e){var t=1;return el(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Mc(e,t)})).filter((function(e,t,n){return!t||0!==Mc(e,n[t-1])}));var r=[];r.push(e);var i,a=(0,o.Z)(n);try{for(a.s();!(i=a.n()).done;){var u=i.value,s=Mc(u,e),c=Mc(u,t);if(0===s)r[0]=e.Ue();else if(s>0&&c<0)r.push(u),r.push(u.Ue());else if(c>0)break}}catch(v){a.e(v)}finally{a.f()}r.push(t);for(var l=[],f=0;f<r.length;f+=2){if(this.pn(r[f],r[f+1]))return[];var h=[r[f].indexId,this.uid,r[f].arrayValue,r[f].directionalValue,Qc,[]],d=[r[f+1].indexId,this.uid,r[f+1].arrayValue,r[f+1].directionalValue,Qc,[]];l.push(IDBKeyRange.bound(h,d))}return l}},{key:"pn",value:function(e,t){return Mc(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(tl)}},{key:"getMinOffset",value:function(e,t){var n=this;return Pi.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||$r()}))})).next(tl)}}]),e}();function $c(e){return ic(e,"collectionParents")}function Jc(e){return ic(e,"indexEntries")}function Xc(e){return ic(e,"indexConfiguration")}function el(e){return ic(e,"indexState")}function tl(e){Jr(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Di(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Zi(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rl=function(){function e(t,n,r){(0,s.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,c.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function il(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],u=IDBKeyRange.only(n.batchId),s=0,c=r.Z({range:u},(function(e,t,n){return s++,n["delete"]()}));a.push(c.next((function(){Jr(1===s)})));var l,f=[],h=(0,o.Z)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,v=Ls(t,d.key.path,n.batchId);a.push(i["delete"](v)),f.push(d.key)}}catch(p){h.e(p)}finally{h.f()}return Pi.waitFor(a).next((function(){return f}))}function al(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw $r();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl.DEFAULT_COLLECTION_PERCENTILE=10,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rl.DEFAULT=new rl(41943040,rl.DEFAULT_COLLECTION_PERCENTILE,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rl.DISABLED=new rl(-1,0,0);var ol=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return(0,c.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sl(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=cl(e),u=sl(e);return u.add({}).next((function(s){Jr("number"==typeof s);var c,l=new ac(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return vs(e.ie,t)})),i=n.mutations.map((function(t){return vs(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,l),h=[],d=new uo((function(e,t){return vi(e.canonicalString(),t.canonicalString())})),v=(0,o.Z)(r);try{for(v.s();!(c=v.n()).done;){var p=c.value,y=Ls(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),h.push(u.put(f)),h.push(a.put(y,Ps))}}catch(g){v.e(g)}finally{v.f()}return d.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=l.keys()})),Pi.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return sl(e).get(t).next((function(e){return e?(Jr(e.userId===n.userId),pc(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Pi.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return sl(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Jr(t.batchId>=r),a=pc(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sl(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return pc(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ms(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return cl(e).Z({range:i},(function(r,i,o){var u=(0,p.Z)(r,3),s=u[0],c=u[1],l=u[2],f=Os(c);if(s===n.userId&&t.path.isEqual(f))return sl(e).get(l).next((function(e){if(!e)throw $r();Jr(e.userId===n.userId),a.push(pc(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new uo(vi),i=[];return t.forEach((function(t){var a=Ms(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=cl(e).Z({range:o},(function(e,i,a){var o=(0,p.Z)(e,3),u=o[0],s=o[1],c=o[2],l=Os(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Pi.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ms(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new uo(vi);return cl(e).Z({range:o},(function(e,t,a){var o=(0,p.Z)(e,3),s=o[0],c=o[1],l=o[2],f=Os(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sl(e).get(t).next((function(e){if(null===e)throw $r();Jr(e.userId===n.userId),r.push(pc(n.yt,e))})))})),Pi.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return il(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Pi.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Pi.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return cl(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Os(e[1]);i.push(a)}else r.done()})).next((function(){Jr(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ul(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return ll(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){Jr(""!==t.uid);var a=t.isAuthenticated()?t.uid:"";return new e(a,n,r,i)}}]),e}();function ul(e,t,n){var r=Ms(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return cl(e).Z({range:a,X:!0},(function(e,n,r){var a=(0,p.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function sl(e){return ic(e,"mutations")}function cl(e){return ic(e,"documentMutations")}function ll(e){return ic(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fl=function(){function e(t){(0,s.Z)(this,e),this.bn=t}return(0,c.Z)(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),hl=function(){function e(t,n){(0,s.Z)(this,e),this.referenceDelegate=t,this.yt=n}return(0,c.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new fl(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return mi.fromTimestamp(new gi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return dl(e)["delete"](t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Jr(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return dl(e).Z((function(o,u){var s=yc(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Pi.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return dl(e).Z((function(e,n){var r=yc(n);t(r)}))}},{key:"Vn",value:function(e){return vl(e).get("targetGlobalKey").next((function(e){return Jr(null!==e),e}))}},{key:"Sn",value:function(e,t){return vl(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return dl(e).put(gc(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=go(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dl(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=yc(n);mo(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=pl(e);return t.forEach((function(t){var o=Cs(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Pi.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=pl(e);return Pi.forEach(t,(function(t){var a=Cs(t.path);return Pi.waitFor([i["delete"]([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=pl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n["delete"](r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pl(e),i=Lu();return r.Z({range:n,X:!0},(function(e,t,n){var r=Os(e[1]),a=new _i(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Cs(t.path),r=IDBKeyRange.bound([n],[yi(n)],!1,!0),i=0;return pl(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,p.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return dl(e).get(t).next((function(e){return e?yc(e):null}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e){return ic(e,"targets")}function vl(e){return ic(e,"targetGlobal")}function pl(e){return ic(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(e,t){var n=(0,p.Z)(e,2),r=n[0],i=n[1],a=(0,p.Z)(t,2),o=a[0],u=a[1],s=vi(r,o);return 0===s?vi(i,u):s}var gl=function(){function e(t){(0,s.Z)(this,e),this.xn=t,this.buffer=new uo(yl),this.Nn=0}return(0,c.Z)(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yl(t,n)<0&&(this.buffer=this.buffer["delete"](n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ml=function(){function e(t,n,r){(0,s.Z)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return(0,c.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Wr("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e["catch"](1),!Bi(e.t0)){e.next=12;break}Wr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Mi(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),wl=function(){function e(t,n){(0,s.Z)(this,e),this.$n=t,this.params=n}return(0,c.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Pi.resolve(Qi.at);var r=new gl(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Wr("LruGarbageCollector","Garbage collection skipped; disabled"),Pi.resolve(nl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Wr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),nl):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Wr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Kr()<=k["in"].DEBUG&&Wr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Pi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),kl=function(){function e(t,n){(0,s.Z)(this,e),this.db=t,this.garbageCollector=function(e,t){return new wl(e,t)}(this,n)}return(0,c.Z)(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return bl(e,n)}},{key:"removeReference",value:function(e,t,n){return bl(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return bl(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return ll(e).tt((function(r){return ul(e,r,t).next((function(e){return e&&(n=!0),Pi.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,mi.min()),pl(e)["delete"]([0,Cs(o.path)])}))}));i.push(s)}})).next((function(){return Pi.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return bl(e,t)}},{key:"Kn",value:function(e,t){var n,r=pl(e),i=Qi.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=(0,p.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Qi.at&&t(new _i(Os(n)),i),i=s,n=u):i=Qi.at})).next((function(){i!==Qi.at&&t(new _i(Os(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function bl(e,t){return pl(e).put(function(e,t){return{targetId:0,path:Cs(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xl=function(){function e(){(0,s.Z)(this,e),this.changes=new Iu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,c.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,vo.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Pi.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),_l=function(){function e(t){(0,s.Z)(this,e),this.yt=t}return(0,c.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Tl(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Tl(e)["delete"](function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],hc(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=vo.newInvalidDocument(t);return Tl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Al(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:vo.newInvalidDocument(t)};return Tl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Al(t))},(function(e,i){r={document:n.jn(t,i),size:al(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Tu();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Tu(),i=new io(_i.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,al(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Pi.resolve();var r=new uo(Cl);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Al(r.first()),Al(r.last())),a=r.getIterator(),o=a.getNext();return Tl(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_i.fromSegments([].concat((0,g.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Cl(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Al(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,u=[a.popLast().toArray(),a.lastSegment(),hc(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tl(e).W(IDBKeyRange.bound(u,s,!0)).next((function(e){var n,a=Tu(),u=(0,o.Z)(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c=i.jn(_i.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);c.isFoundDocument()&&(Po(t,c)||r.has(c.key))&&(a=a.insert(c.key,c))}}catch(l){u.e(l)}finally{u.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Tu(),o=Rl(t,n),u=Rl(t,Zi.max());return Tl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(_i.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);a=a.insert(o.key,o),a.size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Il(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Sl(e).get("remoteDocumentGlobalKey").next((function(e){return Jr(!!e),e}))}},{key:"Qn",value:function(e,t){return Sl(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=lc(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(mi.min()))return n}return vo.newInvalidDocument(e)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e){return new _l(e)}var Il=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.Yn=e,i.trackRemovals=r,i.Xn=new Iu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,c.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new uo((function(e,t){return vi(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=fc(t.Yn.yt,o);i=i.add(a.path.popLast());var c=al(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=fc(t.Yn.yt,o.convertToNoDocument(mi.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Pi.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents,r=e.Jn;return r.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(xl);function Sl(e){return ic(e,"remoteDocumentGlobal")}function Tl(e){return ic(e,"remoteDocumentsV14")}function Al(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Rl(e,t){var n=t.documentKey.path.toArray();return[e,hc(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Cl(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=vi(n[a],r[a]),i)return i;return i=vi(n.length,r.length),i||(i=vi(n[n.length-2],r[r.length-2]),i||vi(n[n.length-1],r[r.length-1]))
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Zl=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Dl=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,c.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&lu(r.mutation,e,lo.empty(),gi.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Lu()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lu(),i=Zu();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ru();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Zu();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Lu())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Tu(),a=Ou(),o=Ou();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof vu)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),lu(o.mutation,t,o.mutation.getFieldMask(),gi.now())):a.set(t.key,lo.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Zl(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ou(),i=new io((function(e,t){return e-t})),a=Lu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=(0,o.Z)(e);try{var u=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||lo.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Lu()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)u()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Du();c.forEach((function(e){if(!a.has(e)){var n=su(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Pi.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return _i.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ro(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Pi.resolve(Zu()),u=-1,s=a;return o.next((function(t){return Pi.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Pi.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Lu())})).next((function(e){return{batchId:u,changes:Cu(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new _i(t)).next((function(e){var t=Ru();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ru();return this.indexManager.getCollectionParents(e,i).next((function(o){return Pi.forEach(o,(function(o){var u=function(e,t){return new _o(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,vo.newInvalidDocument(r)))}));var n=Ru();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&lu(a.mutation,i,lo.empty(),gi.now()),Po(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Ol=function(){function e(t){(0,s.Z)(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return(0,c.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Pi.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:ts(n.createTime)}),Pi.resolve()}},{key:"getNamedQuery",value:function(e,t){return Pi.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:mc(e.bundledQuery),readTime:ts(e.readTime)}}(t)),Pi.resolve()}}]),e}(),Nl=function(){function e(){(0,s.Z)(this,e),this.overlays=new io(_i.comparator),this.es=new Map}return(0,c.Z)(e,[{key:"getOverlay",value:function(e,t){return Pi.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Zu();return Pi.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),Pi.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es["delete"](n)),Pi.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Zu(),i=t.length+1,a=new _i(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Pi.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new io((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Zu(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Zu(),c=i.getIterator();c.hasNext();)if(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),s.size()>=r)break;return Pi.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId)["delete"](n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new uc(t,n));var a=this.es.get(t);void 0===a&&(a=Lu(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Ml=function(){function e(){(0,s.Z)(this,e),this.ns=new uo(Ll.ss),this.rs=new uo(Ll.os)}return(0,c.Z)(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ll(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Ll(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new _i(new ki([])),r=new Ll(n,e),i=new Ll(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns["delete"](e),this.rs=this.rs["delete"](e)}},{key:"ds",value:function(e){var t=new _i(new ki([])),n=new Ll(t,e),r=new Ll(t,e+1),i=Lu();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ll(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ll=function(){function e(t,n){(0,s.Z)(this,e),this.key=t,this._s=n}return(0,c.Z)(e,null,[{key:"ss",value:function(e,t){return _i.comparator(e.key,t.key)||vi(e._s,t._s)}},{key:"os",value:function(e,t){return vi(e._s,t._s)||_i.comparator(e.key,t.key)}}]),e}(),Pl=function(){function e(t,n){(0,s.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new uo(Ll.ss)}return(0,c.Z)(e,[{key:"checkEmpty",value:function(e){return Pi.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ac(i,t,n,r);this.mutationQueue.push(a);var u,s=(0,o.Z)(r);try{for(s.s();!(u=s.n()).done;){var c=u.value;this.gs=this.gs.add(new Ll(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Pi.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Pi.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Pi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Pi.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Pi.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ll(t,0),i=new Ll(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Pi.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new uo(vi);return t.forEach((function(e){var t=new Ll(e,0),i=new Ll(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Pi.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_i.isDocumentKey(i)||(i=i.child(""));var a=new Ll(new _i(i),0),o=new uo(vi);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Pi.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Jr(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Pi.forEach(t.mutations,(function(i){var a=new Ll(i.key,t.batchId);return r=r["delete"](a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ll(t,0),r=this.gs.firstAfterOrEqual(n);return Pi.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Pi.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Fl=function(){function e(t){(0,s.Z)(this,e),this.Es=t,this.docs=new io(_i.comparator),this.size=0}return(0,c.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Pi.resolve(n?n.document.mutableCopy():vo.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Tu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():vo.newInvalidDocument(e))})),Pi.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Tu(),a=t.path,o=new _i(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Di(Ci(l),n)<=0||(r.has(l.key)||Po(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Pi.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){$r()}},{key:"As",value:function(e,t){return Pi.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Vl(this)}},{key:"getSize",value:function(e){return Pi.resolve(this.size)}}]),e}(),Vl=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.Yn=e,r}return(0,c.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Pi.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(xl),jl=function(){function e(t){(0,s.Z)(this,e),this.persistence=t,this.Rs=new Iu((function(e){return go(e)}),mo),this.lastRemoteSnapshotVersion=mi.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ml,this.targetCount=0,this.vs=fl.Pn()}return(0,c.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Pi.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Pi.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Pi.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Pi.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Pi.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new fl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Pi.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Pi.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs["delete"](t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Pi.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs["delete"](o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Pi.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Pi.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Pi.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Pi.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Pi.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Pi.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Pi.resolve(n)}},{key:"containsKey",value:function(e,t){return Pi.resolve(this.Ps.containsKey(t))}}]),e}(),Ul=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.Vs={},this.overlays={},this.Ss=new Qi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new jl(this),this.indexManager=new Wc,this.remoteDocumentCache=function(e){return new Fl(e)}((function(e){return r.referenceDelegate.xs(e)})),this.yt=new cc(n),this.Ns=new Ol(this.yt)}return(0,c.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Nl,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Pl(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Wr("MemoryPersistence","Starting transaction:",e);var i=new Bl(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Pi.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Bl=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.currentSequenceNumber=e,r}return(0,c.Z)(n)}(Ni),ql=function(){function e(t){(0,s.Z)(this,e),this.persistence=t,this.Fs=new Ml,this.$s=null}return(0,c.Z)(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw $r()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls["delete"](n.toString()),Pi.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Pi.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Pi.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pi.forEach(this.Ls,(function(r){var i=_i.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,mi.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls["delete"](t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return Pi.or([function(){return Pi.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Gl=function(){function e(t){(0,s.Z)(this,e),this.yt=t}return(0,c.Z)(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Fi("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ns,{unique:!0}),e.createObjectStore("documentMutations")}(e),Kl(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Pi.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Kl(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mi.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ns,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Pi.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Qs});t.createIndex("collectionPathOverlayIndex",Ys,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",$s,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Fs});t.createIndex("documentKeyIndex",Vs),t.createIndex("collectionGroupIndex",js)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ks}).createIndex("sequenceNumberIndex",zs,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ws}).createIndex("documentKeyIndex",Hs,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=al(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Pi.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Pi.forEach(r,(function(r){Jr(r.userId===n.userId);var i=pc(t.yt,r);return il(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new ki(n),o=function(e){return[0,Cs(e)]}(a);r.push(t.get(o).next((function(n){return n?Pi.resolve():function(n){return t.put({targetId:0,path:Cs(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Pi.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Gs});var n=t.store("collectionParents"),r=new Hc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Cs(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new ki(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,p.Z)(e,3),r=(n[0],n[1]),a=(n[2],Os(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=yc(r),a=gc(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new _i(ki.fromString(i.document.name).popFirst(5)):i.noDocument?_i.fromSegments(i.noDocument.path):i.unknownDocument?_i.fromSegments(i.unknownDocument.path):$r()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Pi.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=El(this.yt),a=new Ul(ql.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Lu();pc(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Pi.forEach(r,(function(e,r){var o=new Br(r),u=Ic.re(n.yt,o),s=a.getIndexManager(o),c=ol.re(o,n.yt,s,a.referenceDelegate);return new Dl(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new rc(t,Qi.at),e).next()}))}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(e){e.createObjectStore("targetDocuments",{keyPath:Bs}).createIndex("documentTargetsIndex",qs,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Us,{unique:!0}),e.createObjectStore("targetGlobal")}var zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wl=function(){function e(t,n,r,i,a,o,u,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if((0,s.Z)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=l,this.Ys=f,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new ni(ti.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kl(this,i),this.ii=n+"main",this.yt=new cc(c),this.ri=new Vi(this.ii,this.Xs,new Gl(this.yt)),this.Cs=new hl(this.referenceDelegate,this.yt),this.remoteDocumentCache=El(this.yt),this.Ns=new xc,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&Hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,c.Z)(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ni(ti.FAILED_PRECONDITION,zl);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Qi(t,e.Js)})).then((function(){e.Ds=!0}))["catch"]((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=(0,y.Z)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=(0,y.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ql(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))}))["catch"]((function(t){if(Bi(t))return Wr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Wr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Hl(e).get("owner").next((function(e){return Pi.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Ql(e)["delete"](this.clientId)}},{key:"yi",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ic(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Pi.forEach(r,(function(e){return t["delete"](e.clientId)})).next((function(){return r}))}))}))["catch"]((function(){return[]}));case 4:if(t=e.sent,this.oi){n=(0,o.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(u){n.e(u)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Pi.resolve(!0):Hl(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new ni(ti.FAILED_PRECONDITION,zl);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ql(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Wr("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new rc(e,Qi.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ql(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return ol.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Yc(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ic.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Wr("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?nc:14===i?tc:13===i?ec:12===i?Xs:11===i?Js:void $r();return this.ri.runTransaction(e,o,u,(function(i){return a=new rc(i,r.Ss?r.Ss.next():Qi.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Hr("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new ni(ti.FAILED_PRECONDITION,Oi);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Hl(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ni(ti.FAILED_PRECONDITION,zl)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hl(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Hl(e);return n.get("owner").next((function(e){return t.mi(e)?(Wr("IndexedDbPersistence","Releasing primary lease."),n["delete"]("owner")):Pi.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Hr("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),(0,b.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Wr("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Hr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(L){Hr("Failed to set zombie client id.",L)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(L){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Vi.C()}}]),e}();function Hl(e){return ic(e,"owner")}function Ql(e){return ic(e,"clientMetadata")}function Yl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var $l=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return(0,c.Z)(e,null,[{key:"Ci",value:function(t,n){var r,i=Lu(),a=Lu(),u=(0,o.Z)(n.docChanges);try{for(u.s();!(r=u.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){u.e(c)}finally{u.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Jl=function(){function e(){(0,s.Z)(this,e),this.xi=!1}return(0,c.Z)(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(So(t))return Pi.resolve(null);var r=Zo(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Oo(t,null,"F"),r=Zo(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Lu.apply(void 0,(0,g.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Oo(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return So(t)||r.isEqual(mi.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Kr()<=k["in"].DEBUG&&Wr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lo(t)),i.Bi(e,o,t,Ri(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new uo(Vo(e));return t.forEach((function(t,r){Po(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Kr()<=k["in"].DEBUG&&Wr("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.Ni.getDocumentsMatchingQuery(e,t,Zi.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Xl=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new io(vi),this.Ui=new Iu((function(e){return go(e)}),mo),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return(0,c.Z)(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dl(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e,t,n,r){return new Xl(e,t,n,r)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return nf=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],u=[],s=Lu(),c=(0,o.Z)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var f,h=(0,o.Z)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var v,p=(0,o.Z)(n);try{for(p.s();!(v=p.n()).done;){var y=v.value;u.push(y.batchId);var g,m=(0,o.Z)(y.mutations);try{for(m.s();!(g=m.n()).done;){var w=g.value;s=s.add(w.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:u}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}function rf(e,t){var n=ei(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Pi.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Jr(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Lu(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function af(e){var t=ei(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function of(e,t){var n=ei(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(aa.EMPTY_BYTE_STRING,mi.min()).withLastLimboFreeSnapshotVersion(mi.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Tu(),s=Lu();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(uf(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(mi.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Pi.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function uf(e,t,n){var r=Lu(),i=Lu();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Tu();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(mi.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Wr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function sf(e,t){var n=ei(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function cf(e,t){var n=ei(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Pi.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new sc(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function lf(e,t,n){return ff.apply(this,arguments)}function ff(){return ff=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=ei(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e["catch"](1),Bi(e.t1)){e.next=12;break}throw e.t1;case 12:Wr("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui["delete"](a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ff.apply(this,arguments)}function hf(e,t,n){var r=ei(e),i=mi.min(),a=Lu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ei(e),i=r.Ui.get(n);return void 0!==i?Pi.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Zo(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:mi.min(),n?a:Lu())})).next((function(e){return pf(r,Fo(t),e),{documents:e,Hi:a}}))}))}function df(e,t){var n=ei(e),r=ei(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function vf(e,t){var n=ei(e),r=n.Ki.get(t)||mi.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Ri(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return pf(n,t,e),e}))}function pf(e,t,n){var r=e.Ki.get(t)||mi.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function yf(e,t,n,r){return gf.apply(this,arguments)}function gf(){return gf=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r,i){var a,u,s,c,l,f,h,d,v,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=ei(t),u=Lu(),s=Tu(),c=(0,o.Z)(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Ji(f.metadata.name),f.document&&(u=u.add(h)),d=n.Yi(f),d.setReadTime(n.Xi(f.metadata.readTime)),s=s.insert(h,d)}catch(y){c.e(y)}finally{c.f()}return v=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,cf(a,function(e){return Zo(Io(ki.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return uf(e,v,s).next((function(t){return v.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,u,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function mf(e,t){return wf.apply(this,arguments)}function wf(){return wf=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Lu(),e.next=3,cf(t,Zo(mc(n.bundledQuery)));case 3:return i=e.sent,a=ei(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ts(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(aa.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function kf(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bf(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function xf(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var _f=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,c.Z)(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==(0,u.Z)(a)&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==(0,u.Z)(a.error));return o&&a.error&&(o="string"==typeof a.error.message&&"string"==typeof a.error.code,o&&(i=new ni(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Hr("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ef=function(){function e(t,n,r){(0,s.Z)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,c.Z)(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==(0,u.Z)(i)&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==(0,u.Z)(i.error));return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new ni(i.error.code,i.error.message))),a?new e(t,i.state,r):(Hr("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),If=function(){function e(t,n){(0,s.Z)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,c.Z)(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==(0,u.Z)(r)&&r.activeTargetIds instanceof Array,a=Fu(),o=0;i&&o<r.activeTargetIds.length;++o)i=ra(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Hr("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Sf=function(){function e(t,n){(0,s.Z)(this,e),this.clientId=t,this.onlineState=n}return(0,c.Z)(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==(0,u.Z)(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Hr("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Tf=function(){function e(){(0,s.Z)(this,e),this.activeTargetIds=Fu()}return(0,c.Z)(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds["delete"](e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Af=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new io(vi),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=kf(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Tf),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return(0,c.Z)(e,[{key:"start",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t,n,r,i,a,u,s,c,l,f,h,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=(0,o.Z)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if(i=r.value,i!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:a=this.getItem(kf(this.persistenceKey,i)),a&&(u=If.Zi(i,a),u&&(this.ur=this.ur.insert(u.clientId,u)));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),s=this.storage.getItem(this.wr),s&&(c=this.yr(s),c&&this.pr(c)),l=(0,o.Z)(this.cr);try{for(l.s();!(f=l.n()).done;)h=f.value,this.rr(h)}catch(v){l.e(v)}finally{l.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(xf(this.persistenceKey,e));if(n){var r=Ef.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(xf(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Wr("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Wr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Wr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Wr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,y.Z)(regeneratorRuntime.mark((function e(){var r,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(i=t.Sr(n.key,n.newValue),!i){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(a=t.Dr(n.key,n.newValue),!a){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(o=t.Nr(n.key,n.newValue),!o){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(u=t.yr(n.newValue),!u){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Qi.at;if(null!=e)try{var n=JSON.parse(e);Jr("number"==typeof n),t=n}catch(e){Hr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Qi.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new _f(this.currentUser,e,t,n),i=bf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=bf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=xf(this.persistenceKey,e),i=new Ef(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return If.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return _f.Zi(new Br(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Ef.Zi(r,t)}},{key:"yr",value:function(e){return Sf.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Wr("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Fu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Rf=function(){function e(){(0,s.Z)(this,e),this.Lr=new Tf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,c.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Tf,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Cf=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Zf=function(){function e(){var t=this;(0,s.Z)(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return(0,c.Z)(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Wr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,o.Z)(this.Wr);try{for(t.s();!(e=t.n()).done;){var n=e.value;n(0)}}catch(r){t.e(r)}finally{t.f()}}},{key:"jr",value:function(){Wr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,o.Z)(this.Wr);try{for(t.s();!(e=t.n()).done;){var n=e.value;n(1)}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Df={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Of=function(){function e(t){(0,s.Z)(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return(0,c.Z)(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Nf=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this,e),r.forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,c.Z)(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new jr;o.setWithCredentials(!0),o.listenOnce(Mr.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Nr.NO_ERROR:var t=o.getResponseJson();Wr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nr.TIMEOUT:Wr("Connection",'RPC "'+e+'" timed out'),a(new ni(ti.DEADLINE_EXCEEDED,"Request time out"));break;case Nr.HTTP_ERROR:var n=o.getStatus();if(Wr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ti).indexOf(t)>=0?t:ti.UNKNOWN}(u.status);a(new ni(s,u.message))}else a(new ni(ti.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ni(ti.UNAVAILABLE,"Connection failed."));break;default:$r()}}finally{Wr("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Dr(),a=Or(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Fr({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Wr("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Of({Hr:function(e){l?Wr("Connection","Not sending because WebChannel is closed:",e):(c||(Wr("Connection","Opening WebChannel transport."),s.open(),c=!0),Wr("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Vr.EventType.OPEN,(function(){l||Wr("Connection","WebChannel transport opened.")})),h(s,Vr.EventType.CLOSE,(function(){l||(l=!0,Wr("Connection","WebChannel transport closed"),f.io())})),h(s,Vr.EventType.ERROR,(function(e){l||(l=!0,Qr("Connection","WebChannel transport errored:",e),f.io(new ni(ti.UNAVAILABLE,"The operation could not be completed")))})),h(s,Vr.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Jr(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Wr("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=mu[e];if(void 0!==t)return Eu(t)}(a),u=i.message;void 0===o&&(o=ti.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new ni(o,u)),s.close()}else Wr("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Lr.STAT_EVENT,(function(e){e.stat===Pr.PROXY?Wr("Connection","Detected buffering proxy"):e.stat===Pr.NOPROXY&&Wr("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){(0,s.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,c.Z)(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Wr("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Wr("RestConnection","Received: ",e),e}),(function(t){throw Qr("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+qr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Df[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){return"undefined"!=typeof window?window:null}function Lf(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(e){return new $u(e,!0)}var Ff=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,s.Z)(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return(0,c.Z)(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Wr("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Vf=function(){function e(t,n,r,i,a,o,u,c){(0,s.Z)(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ff(t,n)}return(0,c.Z)(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===ti.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===ti.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,p.Z)(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new ni(ti.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro((0,y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Wr("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Wr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),jf=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a,o,u){var c;return(0,s.Z)(this,n),c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u),c.yt=o,c}return(0,c.Z)(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=ds(this.yt,e),n=function(e){if(!("targetChange"in e))return mi.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?mi.min():t.readTime?ts(t.readTime):mi.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=ss(this.yt),t.addTarget=function(e,t){var n,r=t.target;return n=wo(r)?{documents:gs(e,r)}:{query:ms(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xu(e,t.resumeToken):t.snapshotVersion.compareTo(mi.min())>0&&(n.readTime=Ju(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=ks(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=ss(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(Vf),Uf=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a,o,u){var c;return(0,s.Z)(this,n),c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u),c.yt=o,c.Jo=!1,c}return(0,c.Z)(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,d((0,f.Z)(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Jr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=ys(e.writeResults,e.commitTime),n=ts(e.commitTime);return this.listener.Zo(n,t)}return Jr(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=ss(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vs(t.yt,e)}))};this.Bo(n)}}]),n}(Vf),Bf=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a){var o;return(0,s.Z)(this,n),o=t.call(this),o.authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return(0,c.Z)(n,[{key:"su",value:function(){if(this.nu)throw new ni(ti.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,p.Z)(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)}))["catch"]((function(e){throw"FirebaseError"===e.name?(e.code===ti.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ni(ti.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,p.Z)(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)}))["catch"]((function(e){throw"FirebaseError"===e.name?(e.code===ti.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ni(ti.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e)}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qf=function(){function e(t,n){(0,s.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return(0,c.Z)(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Hr(t),this.ou=!1):Wr("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Gf=(0,c.Z)((function e(t,n,r,i,a){var o=this;(0,s.Z)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=th(o),!e.t0){e.next=5;break}return Wr("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ei(t),n._u.add(4),e.next=4,Wf(n);case 4:return n.gu.set("Unknown"),n._u["delete"](4),e.next=8,Kf(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new qf(r,i)}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(e){return zf.apply(this,arguments)}function zf(){return zf=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!th(t)){e.next=18;break}n=(0,o.Z)(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),zf.apply(this,arguments)}function Wf(e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=(0,o.Z)(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Hf.apply(this,arguments)}function Qf(e,t){var n=ei(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),eh(n)?Xf(n):Ch(n).ko()&&$f(n,t))}function Yf(e,t){var n=ei(e),r=Ch(n);n.du["delete"](t),r.ko()&&Jf(n,t),0===n.du.size&&(r.ko()?r.Fo():th(n)&&n.gu.set("Unknown"))}function $f(e,t){e.yu.Ot(t.targetId),Ch(e).zo(t)}function Jf(e,t){e.yu.Ot(t),Ch(e).Ho(t)}function Xf(e){e.yu=new Ku({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),Ch(e).start(),e.gu.uu()}function eh(e){return th(e)&&!Ch(e).No()&&e.du.size>0}function th(e){return 0===ei(e)._u.size}function nh(e){e.yu=void 0}function rh(e){return ih.apply(this,arguments)}function ih(){return ih=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){$f(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:nh(t),eh(t)?(t.gu.hu(n),Xf(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function uh(e,t,n){return sh.apply(this,arguments)}function sh(){return sh=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof qu&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.cause,i=(0,o.Z)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(u=a.value,e.t0=t.du.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,r);case 10:t.du["delete"](u),t.yu.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e["catch"](1),Wr("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ch(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof Uu?t.yu.Kt(n):n instanceof Bu?t.yu.Jt(n):t.yu.jt(n),r.isEqual(mi.min())){e.next=29;break}return e.prev=14,e.next=17,af(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(aa.EMPTY_BYTE_STRING,n.snapshotVersion)),Jf(e,t);var r=new sc(n.target,t,1,n.sequenceNumber);$f(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e["catch"](14),Wr("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ch(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),sh.apply(this,arguments)}function ch(e,t,n){return lh.apply(this,arguments)}function lh(){return lh=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Bi(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Wf(t);case 5:t.gu.set("Offline"),r||(r=function(){return af(t.localStore)}),t.asyncQueue.enqueueRetryable((0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Wr("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u["delete"](1),e.next=6,Kf(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e,t){return t()["catch"]((function(n){return ch(e,n,t)}))}function hh(e){return dh.apply(this,arguments)}function dh(){return dh=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=ei(t),r=Zh(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!vh(n)){e.next=19;break}return e.prev=3,e.next=6,sf(n.localStore,i);case 6:if(a=e.sent,null!==a){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,ph(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](3),e.next=17,ch(n,e.t0);case 17:e.next=2;break;case 19:yh(n)&&gh(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),dh.apply(this,arguments)}function vh(e){return th(e)&&e.fu.length<10}function ph(e,t){e.fu.push(t);var n=Zh(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function yh(e){return th(e)&&!Zh(e).No()&&e.fu.length>0}function gh(e){Zh(e).start()}function mh(e){return wh.apply(this,arguments)}function wh(){return wh=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Zh(t).eu();case 1:case"end":return e.stop()}}),e)}))),wh.apply(this,arguments)}function kh(e){return bh.apply(this,arguments)}function bh(){return bh=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Zh(t),r=(0,o.Z)(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(u){r.e(u)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function xh(e,t,n){return _h.apply(this,arguments)}function _h(){return _h=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=oc.from(i,n,r),e.next=3,fh(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,hh(t);case 5:case"end":return e.stop()}}),e)}))),_h.apply(this,arguments)}function Eh(e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=n&&Zh(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=n.code,!_u(i)||i===ti.ABORTED){e.next=7;break}return r=t.fu.shift(),Zh(t).Mo(),e.next=5,fh(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,hh(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:yh(t)&&gh(t);case 5:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}function Sh(e,t){return Th.apply(this,arguments)}function Th(){return Th=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),r.asyncQueue.verifyOperationInProgress(),Wr("RemoteStore","RemoteStore received new credentials"),i=th(r),r._u.add(3),e.next=6,Wf(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u["delete"](3),e.next=12,Kf(r);case 12:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}function Ah(e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ei(t),!n){e.next=7;break}return r._u["delete"](2),e.next=5,Kf(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Wf(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Rh.apply(this,arguments)}function Ch(e){return e.pu||(e.pu=function(e,t,n){var r=ei(e);return r.su(),new jf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Yr:rh.bind(null,e),Zr:ah.bind(null,e),Wo:uh.bind(null,e)}),e.wu.push(function(){var t=(0,y.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),eh(e)?Xf(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:nh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Zh(e){return e.Iu||(e.Iu=function(e,t,n){var r=ei(e);return r.su(),new Uf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:mh.bind(null,e),Zr:Eh.bind(null,e),tu:kh.bind(null,e),Zo:xh.bind(null,e)}),e.wu.push(function(){var t=(0,y.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,hh(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Wr("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Dh=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise["catch"]((function(e){}))}return(0,c.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ni(ti.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=Date.now()+r,u=new e(t,n,o,i,a);return u.start(r),u}}]),e}();function Oh(e,t){if(Hr("AsyncQueue","".concat(t,": ").concat(e)),Bi(e))return new ni(ti.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh=function(){function e(t){(0,s.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||_i.comparator(e.key,n.key)}:function(e,t){return _i.comparator(e.key,t.key)},this.keyedMap=Ru(),this.sortedSet=new io(this.comparator)}return(0,c.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this["delete"](e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Mh=function(){function e(){(0,s.Z)(this,e),this.Tu=new io(_i.comparator)}return(0,c.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$r():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Lh=function(){function e(t,n,r,i,a,o,u,c,l){(0,s.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=l}return(0,c.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&No(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Nh.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Ph=(0,c.Z)((function e(){(0,s.Z)(this,e),this.Au=void 0,this.listeners=[]})),Fh=(0,c.Z)((function e(){(0,s.Z)(this,e),this.queries=new Iu((function(e){return Mo(e)}),No),this.onlineState="Unknown",this.Ru=new Set}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ei(t),i=n.query,a=!1,o=r.queries.get(i),o||(a=!0,o=new Ph),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),u=Oh(e.t0,"Initialization of query '".concat(Lo(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Kh(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),jh.apply(this,arguments)}function Uh(e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ei(t),i=n.query,a=!1,o=r.queries.get(i),o&&(u=o.listeners.indexOf(n),u>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length)),!a){e.next=6;break}return e.abrupt("return",(r.queries["delete"](i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function qh(e,t){var n,r=ei(e),i=!1,a=(0,o.Z)(t);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=u.query,c=r.queries.get(s);if(c){var l,f=(0,o.Z)(c.listeners);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.Pu(u)&&(i=!0)}}catch(d){f.e(d)}finally{f.f()}c.Au=u}}}catch(d){a.e(d)}finally{a.f()}i&&Kh(r)}function Gh(e,t,n){var r=ei(e),i=r.queries.get(t);if(i){var a,u=(0,o.Z)(i.listeners);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.onError(n)}}catch(c){u.e(c)}finally{u.f()}}r.queries["delete"](t)}function Kh(e){e.Ru.forEach((function(e){e.next()}))}var zh=function(){function e(t,n,r){(0,s.Z)(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return(0,c.Z)(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,o.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(u){r.e(u)}finally{r.f()}e=new Lh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Lh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),Wh=function(){function e(t,n){(0,s.Z)(this,e),this.ku=t,this.byteLength=n}return(0,c.Z)(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),Hh=function(){function e(t){(0,s.Z)(this,e),this.yt=t}return(0,c.Z)(e,[{key:"Ji",value:function(e){return as(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?fs(this.yt,e.document,!1):vo.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return ts(e)}}]),e}(),Qh=function(){function e(t,n,r){(0,s.Z)(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Yh(t)}return(0,c.Z)(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=ki.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Hh(this.yt),i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var u,s=r.Ji(a.metadata.name),c=(0,o.Z)(a.metadata.queries);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=(n.get(l)||Lu()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yf(this.localStore,new Hh(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=(0,o.Z)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,mf(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $h=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.key=t})),Jh=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.key=t})),Xh=function(){function e(t,n){(0,s.Z)(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Lu(),this.mutatedKeys=Lu(),this.Gu=Vo(t),this.Qu=new Nh(this.Gu)}return(0,c.Z)(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Mh,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Po(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a["delete"](e)):(o=o["delete"](e),a=a["delete"](e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o["delete"](l.key),a=a["delete"](l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $r()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new Lh(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Mh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu["delete"](e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Lu(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Jh(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new $h(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Lu();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Lh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),ed=(0,c.Z)((function e(t,n,r){(0,s.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),td=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.key=t,this.nc=!1})),nd=function(){function e(t,n,r,i,a,o){(0,s.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Iu((function(e){return Mo(e)}),No),this.rc=new Map,this.oc=new Set,this.uc=new io(_i.comparator),this.cc=new Map,this.ac=new Ml,this.hc={},this.lc=new Map,this.fc=fl.vn(),this.onlineState="Unknown",this.dc=void 0}return(0,c.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function rd(e,t){return id.apply(this,arguments)}function id(){return id=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Yd(t),o=r.ic.get(n),!o){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,cf(r.localStore,Zo(n));case 8:return u=e.sent,r.isPrimaryClient&&Qf(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,ad(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}function ad(e,t,n,r,i){return od.apply(this,arguments)}function od(){return od=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,hf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Sd(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,hf(t.localStore,n,!0);case 3:return o=e.sent,u=new Xh(n,o.Hi),s=u.Wu(o.documents),c=ju.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Sd(t,r,l.Xu),f=new ed(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function ud(e,t){return sd.apply(this,arguments)}function sd(){return sd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ei(t),i=r.ic.get(n),a=r.rc.get(i.targetId),!(a.length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!No(e,n)}))),void r.ic["delete"](n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,lf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Yf(r.remoteStore,i.targetId),Ed(r,i.targetId)}))["catch"](Mi);case 9:e.next=14;break;case 11:return Ed(r,i.targetId),e.next=14,lf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function cd(e,t,n){return ld.apply(this,arguments)}function ld(){return ld=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=$d(t),e.prev=1,e.next=4,function(e,t){var n,r,i=ei(e),a=gi.now(),u=t.reduce((function(e,t){return e.add(t.key)}),Lu());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Tu(),c=Lu();return i.Gi.getEntries(e,u).next((function(e){s=e,s.forEach((function(e,t){t.isValidDocument()||(c=c.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var u,s=[],c=(0,o.Z)(t);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=fu(l,n.get(l.key).overlayedDocument);null!=f&&s.push(new vu(l.key,f,ho(f.value.mapValue),au.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,c);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Cu(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new io(vi)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Rd(i,a.changes);case 9:return e.next=11,hh(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](1),u=Oh(e.t0,"Failed to persist write"),r.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ld.apply(this,arguments)}function fd(e,t){return hd.apply(this,arguments)}function hd(){return hd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),e.prev=1,e.next=4,of(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Jr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Jr(n.nc):e.removedDocuments.size>0&&(Jr(n.nc),n.nc=!1))})),e.next=8,Rd(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e["catch"](1),e.next=14,Mi(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),hd.apply(this,arguments)}function dd(e,t,n){var r=ei(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ei(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,o.Z)(n.listeners);try{for(a.s();!(i=a.n()).done;){var u=i.value;u.bu(t)&&(r=!0)}}catch(s){a.e(s)}finally{a.f()}})),r&&Kh(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vd(e,t,n){return pd.apply(this,arguments)}function pd(){return pd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=ei(t),i.sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),o=a&&a.key,!o){e.next=14;break}return u=new io(_i.comparator),u=u.insert(o,vo.newNoDocument(o,mi.min())),s=Lu().add(o),c=new Vu(mi.min(),new Map,new uo(vi),u,s),e.next=9,fd(i,c);case 9:i.uc=i.uc.remove(o),i.cc["delete"](n),Ad(i),e.next=16;break;case 14:return e.next=16,lf(i.localStore,n,!1).then((function(){return Ed(i,n,r)}))["catch"](Mi);case 16:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function yd(e,t){return gd.apply(this,arguments)}function gd(){return gd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),i=n.batch.batchId,e.prev=1,e.next=4,rf(r.localStore,n);case 4:return a=e.sent,_d(r,i,null),xd(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Rd(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](1),e.next=16,Mi(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gd.apply(this,arguments)}function md(e,t,n){return wd.apply(this,arguments)}function wd(){return wd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=ei(t),e.prev=1,e.next=4,function(e,t){var n=ei(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Jr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,_d(i,n,r),xd(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Rd(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](1),e.next=16,Mi(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wd.apply(this,arguments)}function kd(e,t){return bd.apply(this,arguments)}function bd(){return bd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),th(r.remoteStore)||Wr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ei(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(i=e.sent,-1!==i){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:a=r.lc.get(i)||[],a.push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),o=Oh(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),bd.apply(this,arguments)}function xd(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc["delete"](t)}function _d(e,t,n){var r=ei(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Ed(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,o.Z)(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic["delete"](a),n&&e.sc.wc(a,n)}}catch(u){i.e(u)}finally{i.f()}e.rc["delete"](t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Id(e,t)}))}function Id(e,t){e.oc["delete"](t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Yf(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc["delete"](n),Ad(e))}function Sd(e,t,n){var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof $h?(e.ac.addReference(a.key,t),Td(e,a)):a instanceof Jh?(Wr("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Id(e,a.key)):$r()}}catch(u){i.e(u)}finally{i.f()}}function Td(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Wr("SyncEngine","New document in limbo: "+n),e.oc.add(r),Ad(e))}function Ad(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc["delete"](t);var n=new _i(ki.fromString(t)),r=e.fc.next();e.cc.set(r,new td(n)),e.uc=e.uc.insert(n,r),Qf(e.remoteStore,new sc(Zo(Io(n.path)),r,2,Qi.at))}}function Rd(e,t,n){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=ei(t),a=[],u=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=$l.Ci(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,u,s,c,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Pi.forEach(n,(function(t){return Pi.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Pi.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e["catch"](1),Bi(e.t0)){e.next=10;break}throw e.t0;case 10:Wr("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,o.Z)(n);try{for(i.s();!(a=i.n()).done;)u=a.value,s=u.targetId,u.fromCache||(c=r.qi.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.qi=r.qi.insert(s,f))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Zd(e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ei(t),r.currentUser.isEqual(n)){e.next=11;break}return Wr("SyncEngine","User change. New user:",n.toKey()),e.next=5,tf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new ni(ti.CANCELLED,t))}))})),e.lc.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Rd(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Od(e,t){var n=ei(e),r=n.cc.get(t);if(r&&r.nc)return Lu().add(r.key);var i=Lu(),a=n.rc.get(t);if(!a)return i;var u,s=(0,o.Z)(a);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=n.ic.get(c);i=i.unionWith(l.view.ju)}}catch(f){s.e(f)}finally{s.f()}return i}function Nd(e,t){return Md.apply(this,arguments)}function Md(){return Md=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),e.next=3,hf(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&Sd(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Ld(e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),e.abrupt("return",vf(r.localStore,n).then((function(e){return Rd(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Pd.apply(this,arguments)}function Fd(e,t,n,r){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r,i){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ei(t),e.next=3,function(e,t){var n=ei(e),r=ei(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Pi.resolve(null)}))}))}(a.localStore,n);case 3:if(o=e.sent,null===o){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,hh(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(_d(a,n,i||null),xd(a,n),function(e,t){ei(ei(e).mutationQueue).An(t)}(a.localStore,n)):$r();case 11:return e.next=13,Rd(a,o);case 13:e.next=16;break;case 15:Wr("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function jd(e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,u,s,c,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=ei(t),Yd(r),$d(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Bd(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Ah(r.remoteStore,!0);case 9:u=(0,o.Z)(a);try{for(u.s();!(s=u.n()).done;)c=s.value,Qf(r.remoteStore,c)}catch(h){u.e(h)}finally{u.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return l=[],f=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return Ed(r,t),lf(r.localStore,t,!0)})),Yf(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Bd(r,l);case 21:return function(e){var t=ei(e);t.cc.forEach((function(e,n){Yf(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new io(_i.comparator)}(r),r.dc=!1,e.next=25,Ah(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}function Bd(e,t,n){return qd.apply(this,arguments)}function qd(){return qd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a,u,s,c,l,f,h,d,v,p,y,g,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=ei(t),a=[],u=[],s=(0,o.Z)(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,h=i.rc.get(l),!h||0===h.length){e.next=34;break}return e.next=11,cf(i.localStore,Zo(h[0]));case 11:f=e.sent,d=(0,o.Z)(h),e.prev=13,d.s();case 15:if((v=d.n()).done){e.next=24;break}return p=v.value,y=i.ic.get(p),e.next=20,Nd(i,y);case 20:g=e.sent,g.snapshot&&u.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,df(i.localStore,l);case 36:return m=e.sent,e.next=39,cf(i.localStore,m);case 39:return f=e.sent,e.next=42,ad(i,Gd(m),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e["catch"](2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(u),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),qd.apply(this,arguments)}function Gd(e){return Eo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Kd(e){var t=ei(e);return ei(ei(t.localStore).persistence).vi()}function zd(e,t,n,r){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=ei(t),!a.dc){e.next=3;break}return e.abrupt("return",void Wr("SyncEngine","Ignoring unexpected query state notification."));case 3:if(o=a.rc.get(n),!(o&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,vf(a.localStore,Fo(o[0]));case 10:return u=e.sent,s=Vu.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,aa.EMPTY_BYTE_STRING),e.next=14,Rd(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,lf(a.localStore,n,!0);case 17:return Ed(a,n,i),e.abrupt("break",20);case 19:$r();case 20:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Hd(e,t,n){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a,u,s,c,l,f,h,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=Yd(t),!i.dc){e.next=45;break}a=(0,o.Z)(n),e.prev=3,a.s();case 5:if((u=a.n()).done){e.next=21;break}if(s=u.value,!i.rc.has(s)){e.next=10;break}return Wr("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,df(i.localStore,s);case 12:return c=e.sent,e.next=15,cf(i.localStore,c);case 15:return l=e.sent,e.next=18,ad(i,Gd(c),l.targetId,!1,l.resumeToken);case 18:Qf(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=(0,o.Z)(r),e.prev=30,d=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,lf(i.localStore,t,!1).then((function(){Yf(i.remoteStore,t),Ed(i,t)}))["catch"](Mi);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e["catch"](30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Qd.apply(this,arguments)}function Yd(e){var t=ei(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Od.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vd.bind(null,t),t.sc.Wo=qh.bind(null,t.eventManager),t.sc.wc=Gh.bind(null,t.eventManager),t}function $d(e){var t=ei(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=md.bind(null,t),t}function Jd(e,t,n){var r=ei(e);(function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ei(e),r=ts(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Yh(i)),a=new Qh(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return u=e.sent,u&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Rd(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=ei(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e["catch"](0),e.abrupt("return",(Qr("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Xd=function(){function e(){(0,s.Z)(this,e),this.synchronizeTabs=!1}return(0,c.Z)(e,[{key:"initialize",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.yt=Pf(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return ef(this.persistence,new Jl,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new Ul(ql.Bs,this.yt)}},{key:"gc",value:function(e){return new Rf}},{key:"terminate",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),ev=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,c.Z)(n,[{key:"initialize",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d((0,f.Z)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,$d(this.Ac.syncEngine);case 6:return e.next=8,hh(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Ic",value:function(e){return ef(this.persistence,new Jl,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ml(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Hi(t,this.persistence);return new Wi(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Yl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rl.withCacheSize(this.cacheSizeBytes):rl.DEFAULT;return new Wl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Mf(),Lf(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Rf}}]),n}(Xd),tv=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,r,!1),i.Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,c.Z)(n,[{key:"initialize",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d((0,f.Z)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Af,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Fd.bind(null,r),$r:zd.bind(null,r),Br:Hd.bind(null,r),vi:Kd.bind(null,r),Mr:Ld.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,jd(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"gc",value:function(e){var t=Mf();if(!Af.C(t))throw new ni(ti.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Yl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Af(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ev),nv=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"initialize",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return dd(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Zd.bind(null,this.syncEngine),e.next=12,Ah(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createEventManager",value:function(e){return new Fh}},{key:"createDatastore",value:function(e){var t,n=Pf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Nf(t));return function(e,t,n,r){return new Bf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return dd(o.syncEngine,e,0)},a=Zf.C()?new Zf:new Cf,new Gf(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new nd(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ei(t),Wr("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Wf(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rv(e,t,n){if(!n)throw new ni(ti.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function iv(e,t,n,r){if(!0===t&&!0===r)throw new ni(ti.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function av(e){if(!_i.isDocumentKey(e))throw new ni(ti.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ov(e){if(_i.isDocumentKey(e))throw new ni(ti.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function uv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==(0,u.Z)(e)){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":$r()}function sv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ni(ti.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uv(e);throw new ni(ti.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function cv(e,t){if(t<=0)throw new ni(ti.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lv=new Map,fv=function(){function e(t){var n;if((0,s.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ni(ti.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ni(ti.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,iv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),hv=function(){function e(t,n,r,i){(0,s.Z)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1}return(0,c.Z)(e,[{key:"app",get:function(){if(!this._app)throw new ni(ti.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ni(ti.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ai;switch(e.type){case"gapi":var t=e.client;return new ci(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ni(ti.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=lv.get(e);t&&(Wr("ComponentProvider","Removing Datastore"),lv["delete"](e),t.terminate())}(this),Promise.resolve()}}]),e}();function dv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sv(e,hv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Qr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Br.MOCK_USER;else{o=(0,b.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ni(ti.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Br(s)}e._authCredentials=new oi(new ii(o,u))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vv=function(){function e(t,n,r){(0,s.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,c.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new yv(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),pv=function(){function e(t,n,r){(0,s.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,c.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),yv=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this,e,r,Io(i)),a._path=i,a.type="collection",a}return(0,c.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vv(this.firestore,null,new _i(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(pv);function gv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,b.m9)(e),rv("collection","path",t),e instanceof hv){var a=ki.fromString.apply(ki,[t].concat(r));return ov(a),new yv(e,null,a)}if(!(e instanceof vv||e instanceof yv))throw new ni(ti.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ki.fromString.apply(ki,[t].concat(r)));return ov(o),new yv(e.firestore,null,o)}function mv(e,t){if(e=sv(e,hv),rv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ni(ti.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new pv(e,null,function(e){return new _o(ki.emptyPath(),e)}(t))}function wv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,b.m9)(e),1===arguments.length&&(t=di.R()),rv("doc","path",t),e instanceof hv){var a=ki.fromString.apply(ki,[t].concat(r));return av(a),new vv(e,null,new _i(a))}if(!(e instanceof vv||e instanceof yv))throw new ni(ti.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ki.fromString.apply(ki,[t].concat(r)));return av(o),new vv(e.firestore,e instanceof yv?e.converter:null,new _i(o))}function kv(e,t){return e=(0,b.m9)(e),t=(0,b.m9)(t),(e instanceof vv||e instanceof yv)&&(t instanceof vv||t instanceof yv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bv(e,t){return e=(0,b.m9)(e),t=(0,b.m9)(t),e instanceof pv&&t instanceof pv&&e.firestore===t.firestore&&No(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function xv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,y.Z)(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _v=function(){function e(t){(0,s.Z)(this,e),this.observer=t,this.muted=!1}return(0,c.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Ev=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.Pc=t,this.yt=n,this.metadata=new ri,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return(0,c.Z)(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mc",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Vc",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(t=e.sent,null!==t){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new Wh(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return t=this.xc(),t<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Cc",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return t=e.sent,t.done||(n=new Uint8Array(this.buffer.length+t.value.length),n.set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Iv=function(){function e(t){(0,s.Z)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,c.Z)(e,[{key:"lookup",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ni(ti.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),i=ss(r.yt)+"/documents",a={documents:n.map((function(e){return is(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=hs(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Jr(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ku(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t["delete"](e.key.toString())})),t.forEach((function(e,t){var r=_i.fromPath(t);n.mutations.push(new bu(r,n.precondition(r)))})),e.next=7,function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ei(t),i=ss(r.yt)+"/documents",a={writes:n.map((function(e){return vs(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $r();t=mi.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ni(ti.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(mi.min())?au.exists(!1):au.updateTime(t):au.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(mi.min()))throw new ni(ti.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return au.updateTime(t)}return au.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Sv=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Ff(this.asyncQueue,"transaction_retry")}return(0,c.Z)(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro((0,y.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new Iv(e.datastore),r=e.Mc(n),r&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)}))["catch"]((function(t){e.Fc(t)}))}))}))["catch"]((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!ta(t)&&t["catch"]&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_u(t)}return!1}}]),e}(),Tv=function(){function e(t,n,r,i){var a=this;(0,s.Z)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=di.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Wr("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Wr("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,c.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ni(ti.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n["catch"](0),r=Oh(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(e,t){return Rv.apply(this,arguments)}function Rv(){return Rv=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Wr("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,tf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Cv(e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,y.Z)(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Dv(t);case 3:return r=e.sent,Wr("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Sh(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Sh(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function Dv(e){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Wr("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Av(t,new Xd);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Nv(e){return Mv.apply(this,arguments)}function Mv(){return Mv=(0,y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Wr("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Cv(t,new nv);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}function Lv(e){return Dv(e).then((function(e){return e.persistence}))}function Pv(e){return Dv(e).then((function(e){return e.localStore}))}function Fv(e){return Nv(e).then((function(e){return e.remoteStore}))}function Vv(e){return Nv(e).then((function(e){return e.syncEngine}))}function jv(e){return Nv(e).then((function(e){return e.datastore}))}function Uv(e){return Bv.apply(this,arguments)}function Bv(){return Bv=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nv(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=rd.bind(null,n.syncEngine),r.onUnlisten=ud.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}function qv(e){return e.asyncQueue.enqueue((0,y.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Lv(e);case 2:return n=t.sent,t.next=5,Fv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ei(e);return t._u["delete"](0),Kf(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}function Gv(e){return e.asyncQueue.enqueue((0,y.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Lv(e);case 2:return n=t.sent,t.next=5,Fv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ei(t),n._u.add(0),e.next=4,Wf(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}function Kv(e,t){var n=new ri;return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ei(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:i=e.sent,i.isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ni(ti.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),a=Oh(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Pv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}function zv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ri;return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _v({next:function(a){t.enqueueAndForget((function(){return Uh(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ni(ti.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ni(ti.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new zh(Io(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Vh(e,o)},i.next=3,Uv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Wv(e,t){var n=new ri;return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hf(t,n,!0);case 3:i=e.sent,a=new Xh(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),s=Oh(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Pv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}function Hv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ri;return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _v({next:function(n){t.enqueueAndForget((function(){return Uh(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ni(ti.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new zh(n,a,{includeMetadataChanges:!0,Nu:!0});return Vh(e,o)},i.next=3,Uv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Qv(e,t){var n=new _v(t);return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ei(e).Ru.add(t),t.next()},t.next=3,Uv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ei(e).Ru["delete"](t)},t.next=3,Uv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}function Yv(e,t,n,r){var i=function(e,t){var n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Ev(e,t)}(function(e,t){if(e instanceof Uint8Array)return xv(e,t);if(e instanceof ArrayBuffer)return xv(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Pf(t));e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Jd,t.next=3,Vv(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}function $v(e,t){return e.asyncQueue.enqueue((0,y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ei(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Pv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}var Jv=function(){function e(){var t=this;(0,s.Z)(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ff(this,"async_queue_retry"),this.Wc=function(){var e=Lf();e&&Wr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Lf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return(0,c.Z)(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Lf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new ri;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e["catch"](1),Bi(e.t0)){e.next=12;break}throw e.t0;case 12:Wr("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e()["catch"]((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw Hr("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Dh.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&$r()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Zc",value:function(e){var t,n=(0,o.Z)(this.Uc);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.timerId===e)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,o.Z)(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Xv(e){return function(e,t){if("object"!=(0,u.Z)(e)||null===e)return!1;var n,r=e,i=(0,o.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(s){i.e(s)}finally{i.f()}return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}var ep=function(){function e(){(0,s.Z)(this,e),this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,c.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise["catch"](e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),tp=-1,np=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a){var o;return(0,s.Z)(this,n),o=t.call(this,e,r,i,a),o.type="firestore",o._queue=new Jv,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return(0,c.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||ip(this),this._firestoreClient.terminate()}}]),n}(hv);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(e){return e._firestoreClient||ip(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ip(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Yi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Tv(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ap(e,t){vp(e=sv(e,np));var n=rp(e),r=e._freezeSettings(),i=new nv;return up(n,i,new ev(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function op(e){vp(e=sv(e,np));var t=rp(e),n=e._freezeSettings(),r=new nv;return up(t,r,new tv(r,n.cacheSizeBytes))}function up(e,t,n){var r=new ri;return e.asyncQueue.enqueue((0,y.Z)(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Av(e,n);case 3:return i.next=5,Cv(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i["catch"](0),a=i.t0,function(e){return"FirebaseError"===e.name?e.code===ti.FAILED_PRECONDITION||e.code===ti.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a)){i.next=13;break}throw a;case 13:Qr("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sp(e){if(e._initialized&&!e._terminated)throw new ni(ti.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ri;return e._queue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,y.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Vi.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Vi["delete"](n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Yl(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function cp(e){return function(e){var t=new ri;return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=kd,n.next=3,Vv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(rp(e=sv(e,np)))}function lp(e){return qv(rp(e=sv(e,np)))}function fp(e){return Gv(rp(e=sv(e,np)))}function hp(e,t){var n=rp(e=sv(e,np)),r=new ep;return Yv(n,e._databaseId,t,r),r}function dp(e,t){return $v(rp(e=sv(e,np)),t).then((function(t){return t?new pv(e,null,t.query):null}))}function vp(e){if(e._initialized||e._terminated)throw new ni(ti.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pp=function(){function e(t){(0,s.Z)(this,e),this._byteString=t}return(0,c.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(aa.fromBase64String(t))}catch(t){throw new ni(ti.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(aa.fromUint8Array(t))}}]),e}(),yp=function(){function e(){(0,s.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ni(ti.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(n)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gp=(0,c.Z)((function e(t){(0,s.Z)(this,e),this._methodName=t})),mp=function(){function e(t,n){if((0,s.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new ni(ti.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ni(ti.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,c.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return vi(this._lat,e._lat)||vi(this._long,e._long)}}]),e}(),wp=/^__.*__$/,kp=function(){function e(t,n,r){(0,s.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,c.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}]),e}(),bp=function(){function e(t,n,r){(0,s.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,c.Z)(e,[{key:"toMutation",value:function(e,t){return new vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $r()}}var _p=function(){function e(t,n,r,i,a,o){(0,s.Z)(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,c.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return qp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(xp(this.sa)&&wp.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Ep=function(){function e(t,n,r){(0,s.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||Pf(t)}return(0,c.Z)(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _p({sa:e,methodName:t,fa:n,path:xi.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function Ip(e){var t=e._freezeSettings(),n=Pf(e._databaseId);return new Ep(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sp(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=e.da(a.merge||a.mergeFields?2:0,t,n,i);Vp("Data must be an object, but it was:",u,r);var s,c,l=Pp(r,u);if(a.merge)s=new lo(u.fieldMask),c=u.fieldTransforms;else if(a.mergeFields){var f,h=[],d=(0,o.Z)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var v=f.value,p=jp(t,v,n);if(!u.contains(p))throw new ni(ti.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Gp(h,p)||h.push(p)}}catch(y){d.e(y)}finally{d.f()}s=new lo(h),c=u.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=u.fieldTransforms;return new kp(new fo(l),s,c)}var Tp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gp);function Ap(e,t,n){return new _p({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var Rp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){return new nu(e.path,new Ho)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gp),Cp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e),i._a=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=Ap(this,e,!0),n=this._a.map((function(e){return Lp(e,t)})),r=new Qo(n);return new nu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gp),Zp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e),i._a=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=Ap(this,e,!0),n=this._a.map((function(e){return Lp(e,t)})),r=new $o(n);return new nu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gp),Dp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e),i.wa=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new Xo(e.yt,qo(e.yt,this.wa));return new nu(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gp);function Op(e,t,n,r){var i=e.da(1,t,n);Vp("Data must be an object, but it was:",i,r);var a=[],o=fo.empty();Xi(r,(function(e,r){var u=Bp(t,e,n);r=(0,b.m9)(r);var s=i.ca(u);if(r instanceof Tp)a.push(u);else{var c=Lp(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new lo(a);return new bp(o,u,i.fieldTransforms)}function Np(e,t,n,r,i,a){var o=e.da(1,t,n),u=[jp(t,r,n)],s=[i];if(a.length%2!=0)throw new ni(ti.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(jp(t,a[c])),s.push(a[c+1]);for(var l=[],f=fo.empty(),h=u.length-1;h>=0;--h)if(!Gp(l,u[h])){var d=u[h],v=s[h];v=(0,b.m9)(v);var p=o.ca(d);if(v instanceof Tp)l.push(d);else{var y=Lp(v,p);null!=y&&(l.push(d),f.set(d,y))}}var g=new lo(l);return new bp(f,g,o.fieldTransforms)}function Mp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Lp(n,e.da(r?4:3,t))}function Lp(e,t){if(Fp(e=(0,b.m9)(e)))return Vp("Unsupported field value:",t,e),Pp(e,t);if(e instanceof gp)return function(e,t){if(!xp(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=Lp(u,t.aa(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}}catch(c){a.e(c)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,b.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qo(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gi.fromDate(e);return{timestampValue:Ju(t.yt,n)}}if(e instanceof gi){var r=new gi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ju(t.yt,r)}}if(e instanceof mp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pp)return{bytesValue:Xu(t.yt,e._byteString)};if(e instanceof vv){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ns(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(uv(e)))}(e,t)}function Pp(e,t){var n={};return ea(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xi(e,(function(e,r){var i=Lp(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Fp(e){return!("object"!=(0,u.Z)(e)||null===e||e instanceof Array||e instanceof Date||e instanceof gi||e instanceof mp||e instanceof pp||e instanceof vv||e instanceof gp)}function Vp(e,t,n){if(!Fp(n)||!function(e){return"object"==(0,u.Z)(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=uv(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function jp(e,t,n){if((t=(0,b.m9)(t))instanceof yp)return t._internalPath;if("string"==typeof t)return Bp(e,t);throw qp("Field path arguments must be of type string or ",e,!1,void 0,n)}var Up=new RegExp("[~\\*/\\[\\]]");function Bp(e,t,n){if(t.search(Up)>=0)throw qp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,r.Z)(yp,(0,g.Z)(t.split(".")))._internalPath}catch(i){throw qp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function qp(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ni(ti.INVALID_ARGUMENT,u+e+s)}function Gp(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kp=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,c.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vv(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Wp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(){return d((0,f.Z)(n.prototype),"data",this).call(this)}}]),n}(Kp);function Wp(e,t){return"string"==typeof t?Bp(e,t):t instanceof yp?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ni(ti.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qp=(0,c.Z)((function e(){(0,s.Z)(this,e)})),Yp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(Qp);function $p(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Qp&&n.push(t),n=n.concat(i),function(e){var t=e.filter((function(e){return e instanceof ey})).length,n=e.filter((function(e){return e instanceof Jp})).length;if(t>1||t>0&&n>0)throw new ni(ti.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);var u,s=(0,o.Z)(n);try{for(s.s();!(u=s.n()).done;){var c=u.value;e=c._apply(e)}}catch(l){s.e(l)}finally{s.f()}return e}var Jp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a._field=e,a._op=r,a._value=i,a.type="where",a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return py(e._query,t),new pv(e.firestore,e.converter,Do(e._query,t))}},{key:"_parse",value:function(e){var t=Ip(e.firestore),n=function(e,t,n,r,i,a,u){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ni(ti.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vy(u,a);var c,l=[],f=(0,o.Z)(u);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(dy(r,e,h))}}catch(d){f.e(d)}finally{f.f()}s={arrayValue:{values:l}}}else s=dy(r,e,u)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vy(u,a),s=Mp(n,t,u,"in"===a||"not-in"===a);return Fa.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Yp);function Xp(e,t,n){var r=t,i=Wp("where",e);return Jp._create(i,r,n)}var ey=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.type=e,i._queryConstraints=r,i}return(0,c.Z)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Va.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=t.getFlattenedFilters(),a=(0,o.Z)(i);try{for(a.s();!(n=a.n()).done;){var u=n.value;py(r,u),r=Do(r,u)}}catch(s){a.e(s)}finally{a.f()}}(e._query,t),new pv(e.firestore,e.converter,Do(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Qp);var ty=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i._field=e,i._direction=r,i.type="orderBy",i}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ni(ti.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ni(ti.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new no(t,n);return function(e,t){if(null===To(e)){var n=Ao(e);null!==n&&yy(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new pv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new _o(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Yp);function ny(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Wp("orderBy",e);return ty._create(r,n)}var ry=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.type=e,a._limit=r,a._limitType=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){return new pv(e.firestore,e.converter,Oo(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Yp);function iy(e){return cv("limit",e),ry._create("limit",e,"F")}function ay(e){return cv("limitToLast",e),ry._create("limitToLast",e,"L")}var oy=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.type=e,a._docOrFields=r,a._inclusive=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=hy(e,this.type,this._docOrFields,this._inclusive);return new pv(e.firestore,e.converter,function(e,t){return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Yp);function uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oy._create("startAt",t,!0)}function sy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oy._create("startAfter",t,!1)}var cy=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.type=e,a._docOrFields=r,a._inclusive=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=hy(e,this.type,this._docOrFields,this._inclusive);return new pv(e.firestore,e.converter,function(e,t){return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Yp);function ly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cy._create("endBefore",t,!1)}function fy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cy._create("endAt",t,!0)}function hy(e,t,n,r){if(n[0]=(0,b.m9)(n[0]),n[0]instanceof Kp)return function(e,t,n,r,i){if(!r)throw new ni(ti.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,u=[],s=(0,o.Z)(Co(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())u.push(xa(t,r.key));else{var l=r.data.field(c.field);if(la(l))throw new ni(ti.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new ni(ti.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}u.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new Na(u,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ip(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ni(ti.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new ni(ti.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat((0,u.Z)(l)));if(!Ro(e)&&-1!==l.indexOf("/"))throw new ni(ti.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var f=e.path.child(ki.fromString(l));if(!_i.isDocumentKey(f))throw new ni(ti.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(f,"' is not because it contains an odd number of segments."));var h=new _i(f);s.push(xa(t,h))}else{var d=Mp(n,r,l);s.push(d)}}return new Na(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function dy(e,t,n){if("string"==typeof(n=(0,b.m9)(n))){if(""===n)throw new ni(ti.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ro(t)&&-1!==n.indexOf("/"))throw new ni(ti.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ki.fromString(n));if(!_i.isDocumentKey(r))throw new ni(ti.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return xa(e,new _i(r))}if(n instanceof vv)return xa(e,n._key);throw new ni(ti.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(uv(n),"."))}function vy(e,t){if(!Array.isArray(e)||0===e.length)throw new ni(ti.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ni(ti.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function py(e,t){if(t.isInequality()){var n=Ao(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ni(ti.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=To(e);null!==i&&yy(e,r,i)}var a=function(e,t){var n,r=(0,o.Z)(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,u=(0,o.Z)(a.getFlattenedFilters());try{for(u.s();!(i=u.n()).done;){var s=i.value;if(t.indexOf(s.op)>=0)return s.op}}catch(c){u.e(c)}finally{u.f()}}}catch(c){r.e(c)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new ni(ti.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ni(ti.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function yy(e,t,n){if(!n.isEqual(t))throw new ni(ti.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var gy=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $r()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Xi(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new mp(sa(e.latitude),sa(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=fa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ha(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ua(e);return new gi(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ki.fromString(e);Jr(Rs(n));var r=new $i(n.get(1),n.get(3)),i=new _i(n.popFirst(5));return r.isEqual(t)||Hr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e,t,n){var r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var wy=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new pp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vv(this.firestore,null,t)}}]),n}(gy),ky=function(){function e(t,n){(0,s.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),by=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a,o,u){var c;return(0,s.Z)(this,n),c=t.call(this,e,r,i,a,u),c._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return(0,c.Z)(n,[{key:"exists",value:function(){return d((0,f.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new xy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Kp),xy=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d((0,f.Z)(n.prototype),"data",this).call(this,e)}}]),n}(by),_y=function(){function e(t,n,r,i){(0,s.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ky(i.hasPendingWrites,i.fromCache),this.query=r}return(0,c.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xy(n._firestore,n._userDataWriter,r.key,r,new ky(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ni(ti.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new xy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ky(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ky(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r["delete"](t.doc.key)),1!==t.type&&(r=r.add(t.doc),a=r.indexOf(t.doc.key)),{type:Ey(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $r()}}function Iy(e,t){return e instanceof by&&t instanceof by?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _y&&t instanceof _y&&e._firestore===t._firestore&&bv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e){e=sv(e,vv);var t=sv(e.firestore,np);return zv(rp(t),e._key).then((function(n){return jy(t,e,n)}))}var Ty=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new pp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vv(this.firestore,null,t)}}]),n}(gy);function Ay(e){e=sv(e,vv);var t=sv(e.firestore,np),n=rp(t),r=new Ty(t);return Kv(n,e._key).then((function(n){return new by(t,r,e._key,n,new ky(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Ry(e){e=sv(e,vv);var t=sv(e.firestore,np);return zv(rp(t),e._key,{source:"server"}).then((function(n){return jy(t,e,n)}))}function Cy(e){e=sv(e,pv);var t=sv(e.firestore,np),n=rp(t),r=new Ty(t);return Hp(e._query),Hv(n,e._query).then((function(n){return new _y(t,r,e,n)}))}function Zy(e){e=sv(e,pv);var t=sv(e.firestore,np),n=rp(t),r=new Ty(t);return Wv(n,e._query).then((function(n){return new _y(t,r,e,n)}))}function Dy(e){e=sv(e,pv);var t=sv(e.firestore,np),n=rp(t),r=new Ty(t);return Hv(n,e._query,{source:"server"}).then((function(n){return new _y(t,r,e,n)}))}function Oy(e,t,n){e=sv(e,vv);var r=sv(e.firestore,np),i=my(e.converter,t,n);return Vy(r,[Sp(Ip(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,au.none())])}function Ny(e,t,n){e=sv(e,vv);for(var r,i=sv(e.firestore,np),a=Ip(i),o=arguments.length,u=new Array(o>3?o-3:0),s=3;s<o;s++)u[s-3]=arguments[s];return r="string"==typeof(t=(0,b.m9)(t))||t instanceof yp?Np(a,"updateDoc",e._key,t,n,u):Op(a,"updateDoc",e._key,t),Vy(i,[r.toMutation(e._key,au.exists(!0))])}function My(e){return Vy(sv(e.firestore,np),[new ku(e._key,au.none())])}function Ly(e,t){var n=sv(e.firestore,np),r=wv(e),i=my(e.converter,t);return Vy(n,[Sp(Ip(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,au.exists(!1))]).then((function(){return r}))}function Py(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=(0,b.m9)(e);var s={includeMetadataChanges:!1},c=0;"object"!=(0,u.Z)(n[c])||Xv(n[c])||(s=n[c],c++);var l,f,h,d={includeMetadataChanges:s.includeMetadataChanges};if(Xv(n[c])){var v=n[c];n[c]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[c+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[c+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof vv)f=sv(e.firestore,np),h=Io(e._key.path),l={next:function(t){n[c]&&n[c](jy(f,e,t))},error:n[c+1],complete:n[c+2]};else{var p=sv(e,pv);f=sv(p.firestore,np),h=p._query;var g=new Ty(f);l={next:function(e){n[c]&&n[c](new _y(f,g,p,e))},error:n[c+1],complete:n[c+2]},Hp(e._query)}return function(e,t,n,r){var i=new _v(r),a=new zh(t,i,n);return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Vh,t.next=3,Uv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Uh,t.next=3,Uv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rp(f),h,d,l)}function Fy(e,t){return Qv(rp(e=sv(e,np)),Xv(t)?t:{next:t})}function Vy(e,t){return function(e,t){var n=new ri;return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=cd,r.next=3,Vv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(rp(e),t)}function jy(e,t,n){var r=n.docs.get(t._key),i=new Ty(e);return new by(e,i,t._key,r,new ky(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Uy={maxAttempts:5},By=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ip(t)}return(0,c.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=qy(e,this._firestore),i=my(r.converter,t,n),a=Sp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,au.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=qy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=(0,b.m9)(t))||t instanceof yp?Np(this._dataReader,"WriteBatch.update",i._key,t,n,o):Op(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,au.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=qy(e,this._firestore);return this._mutations=this._mutations.concat(new ku(t._key,au.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ni(ti.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e,t){if((e=(0,b.m9)(e)).firestore!==t)throw new ni(ti.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gy=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,r),i._firestore=e,i}return(0,c.Z)(n,[{key:"get",value:function(e){var t=this,r=qy(e,this._firestore),i=new Ty(this._firestore);return d((0,f.Z)(n.prototype),"get",this).call(this,e).then((function(e){return new by(t._firestore,i,r._key,e._document,new ky(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Ip(t)}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this,n=qy(e,this._firestore),r=new wy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return $r();var i=e[0];if(i.isFoundDocument())return new Kp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Kp(t._firestore,r,n._key,null,n.converter);throw $r()}))}},{key:"set",value:function(e,t,n){var r=qy(e,this._firestore),i=my(r.converter,t,n),a=Sp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=qy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=(0,b.m9)(t))||t instanceof yp?Np(this._dataReader,"Transaction.update",i._key,t,n,o):Op(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=qy(e,this._firestore);return this._transaction["delete"](t._key),this}}]),e}());function Ky(e,t,n){e=sv(e,np);var r=Object.assign(Object.assign({},Uy),n);return function(e){if(e.maxAttempts<1)throw new ni(ti.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ri;return e.asyncQueue.enqueueAndForget((0,y.Z)(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,jv(e);case 2:a=i.sent,new Sv(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(rp(e),(function(n){return t(new Gy(e,n))}),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(){return new Tp("deleteField")}function Wy(){return new Rp("serverTimestamp")}function Hy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cp("arrayUnion",t)}function Qy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Zp("arrayRemove",t)}function Yy(e){return new Dp("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){qr=e}(m.SDK_VERSION),(0,m._registerComponent)(new w.wA("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new np(new ui(e.getProvider("auth-internal")),new fi(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ni(ti.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $i(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),(0,m.registerVersion)(Ur,"3.8.3",e),(0,m.registerVersion)(Ur,"3.8.3","esm2017")}();var $y="@firebase/firestore-compat",Jy="0.3.3";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xy(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ni("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){if("undefined"===typeof Uint8Array)throw new ni("unimplemented","Uint8Arrays are not available in this environment.")}function tg(){if(!ia())throw new ni("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ng=function(){function e(t){(0,s.Z)(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"toBase64",value:function(){return tg(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return eg(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return tg(),new e(pp.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return eg(),new e(pp.fromUint8Array(t))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(e){return ig(e,["next","error","complete"])}function ig(e,t){if("object"!==(0,u.Z)(e)||null===e)return!1;var n,r=e,i=(0,o.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(s){i.e(s)}finally{i.f()}return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return ap(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return op(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return sp(e._delegate)}}]),e}(),og=function(){function e(t,n,r){var i=this;(0,s.Z)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof $i||(this._appCompat=t)}return(0,c.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Qr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dv(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return lp(this._delegate)}},{key:"disableNetwork",value:function(){return fp(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,iv("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return cp(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Fy(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ni("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new bg(this,gv(this._delegate,e))}catch(t){throw dg(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new hg(this,wv(this._delegate,e))}catch(t){throw dg(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new mg(this,mv(this._delegate,e))}catch(t){throw dg(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Ky(this._delegate,(function(n){return e(new cg(t,n))}))}},{key:"batch",value:function(){var e=this;return rp(this._delegate),new lg(new By(this._delegate,(function(t){return Vy(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return hp(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return dp(this._delegate,e).then((function(e){return e?new mg(t,e):null}))}}]),e}(),ug=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new ng(new pp(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hg.forKey(t,this.firestore,null)}}]),n}(gy);function sg(e){zr(e)}var cg=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ug(t)}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this,n=xg(e);return this._delegate.get(n).then((function(e){return new yg(t._firestore,new by(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=xg(e);return n?(Xy("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=xg(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=xg(e);return this._delegate["delete"](t),this}}]),e}(),lg=function(){function e(t){(0,s.Z)(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"set",value:function(e,t,n){var r=xg(e);return n?(Xy("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=xg(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=xg(e);return this._delegate["delete"](t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),fg=function(){function e(t,n,r){(0,s.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,c.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new xy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gg(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ug(t),n),i.set(n,a)),a}}]),e}();fg.INSTANCES=new WeakMap;var hg=function(){function e(t,n){(0,s.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ug(t)}return(0,c.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new bg(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new bg(this.firestore,gv(this._delegate,e))}catch(t){throw dg(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return e=(0,b.m9)(e),e instanceof vv&&kv(this._delegate,e)}},{key:"set",value:function(e,t){t=Xy("DocumentReference.set",t);try{return t?Oy(this._delegate,e,t):Oy(this._delegate,e)}catch(n){throw dg(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Ny(this._delegate,e):Ny.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw dg(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return My(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vg(n),a=pg(n,(function(t){return new yg(e.firestore,new by(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Py(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ay(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Ry(this._delegate):Sy(this._delegate),t.then((function(e){return new yg(n.firestore,new by(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(fg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ni("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new vv(n._delegate,r,new _i(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new vv(n._delegate,r,t))}}]),e}();function dg(e,t,n){return e.message=e.message.replace(t,n),e}function vg(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===(0,u.Z)(r)&&!rg(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function pg(e,t){var n,r,i;return i=rg(e[0])?e[0]:rg(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:function(e){i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yg=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"ref",get:function(){return new hg(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Iy(this._delegate,e._delegate)}}]),e}(),gg=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Xr(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(yg),mg=function(){function e(t,n){(0,s.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ug(t)}return(0,c.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,$p(this._delegate,Xp(t,n,r)))}catch(i){throw dg(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,$p(this._delegate,ny(t,n)))}catch(r){throw dg(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,$p(this._delegate,iy(t)))}catch(n){throw dg(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,$p(this._delegate,ay(t)))}catch(n){throw dg(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,$p(this._delegate,uy.apply(void 0,arguments)))}catch(t){throw dg(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,$p(this._delegate,sy.apply(void 0,arguments)))}catch(t){throw dg(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,$p(this._delegate,ly.apply(void 0,arguments)))}catch(t){throw dg(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,$p(this._delegate,fy.apply(void 0,arguments)))}catch(t){throw dg(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return bv(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Zy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Dy(this._delegate):Cy(this._delegate),t.then((function(e){return new kg(n.firestore,new _y(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vg(n),a=pg(n,(function(t){return new kg(e.firestore,new _y(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Py(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(fg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),wg=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new gg(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),kg=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"query",get:function(){return new mg(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new gg(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wg(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new gg(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Iy(this._delegate,e._delegate)}}]),e}(),bg=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,r),i.firestore=e,i._delegate=r,i}return(0,c.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new hg(this.firestore,e):null}},{key:"doc",value:function(e){try{return new hg(this.firestore,void 0===e?wv(this._delegate):wv(this._delegate,e))}catch(t){throw dg(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Ly(this._delegate,e).then((function(e){return new hg(t.firestore,e)}))}},{key:"isEqual",value:function(e){return kv(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(fg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(mg);function xg(e){return sv(e,vv)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _g=function(){function e(){(0,s.Z)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=(0,r.Z)(yp,n)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return e=(0,b.m9)(e),e instanceof yp&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(xi.keyField().canonicalString())}}]),e}(),Eg=function(){function e(t){(0,s.Z)(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Wy();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=zy();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Hy.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Qy.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Yy(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Ig={Firestore:og,GeoPoint:mp,Timestamp:gi,Blob:ng,Transaction:cg,WriteBatch:lg,DocumentReference:hg,DocumentSnapshot:yg,Query:mg,QueryDocumentSnapshot:gg,QuerySnapshot:kg,CollectionReference:bg,FieldPath:_g,FieldValue:Eg,setLogLevel:sg,CACHE_SIZE_UNLIMITED:tp};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(e,t){e.INTERNAL.registerComponent(new w.wA("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Ig)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(e){Sg(e,(function(e,t){return new og(e,t,new ag)})),e.registerVersion($y,Jy)}Tg(l.Z)}}]);
//# sourceMappingURL=chunk-vendors.7264d2fc.js.map